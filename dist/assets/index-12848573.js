var Ww=Object.defineProperty;var Hw=(e,t,n)=>t in e?Ww(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var fa=(e,t,n)=>(Hw(e,typeof t!="symbol"?t+"":t,n),n);function Vw(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var u7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var iy={exports:{}},xf={},sy={exports:{}},gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ku=Symbol.for("react.element"),Gw=Symbol.for("react.portal"),Yw=Symbol.for("react.fragment"),Xw=Symbol.for("react.strict_mode"),Jw=Symbol.for("react.profiler"),Qw=Symbol.for("react.provider"),Zw=Symbol.for("react.context"),e4=Symbol.for("react.forward_ref"),t4=Symbol.for("react.suspense"),n4=Symbol.for("react.memo"),r4=Symbol.for("react.lazy"),Zg=Symbol.iterator;function a4(e){return e===null||typeof e!="object"?null:(e=Zg&&e[Zg]||e["@@iterator"],typeof e=="function"?e:null)}var oy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ly=Object.assign,cy={};function Tl(e,t,n){this.props=e,this.context=t,this.refs=cy,this.updater=n||oy}Tl.prototype.isReactComponent={};Tl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Tl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function uy(){}uy.prototype=Tl.prototype;function d1(e,t,n){this.props=e,this.context=t,this.refs=cy,this.updater=n||oy}var h1=d1.prototype=new uy;h1.constructor=d1;ly(h1,Tl.prototype);h1.isPureReactComponent=!0;var e2=Array.isArray,dy=Object.prototype.hasOwnProperty,f1={current:null},hy={key:!0,ref:!0,__self:!0,__source:!0};function fy(e,t,n){var r,a={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)dy.call(t,r)&&!hy.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)a[r]===void 0&&(a[r]=l[r]);return{$$typeof:ku,type:e,key:i,ref:s,props:a,_owner:f1.current}}function i4(e,t){return{$$typeof:ku,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function p1(e){return typeof e=="object"&&e!==null&&e.$$typeof===ku}function s4(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var t2=/\/+/g;function B0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?s4(""+e.key):t.toString(36)}function rh(e,t,n,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case ku:case Gw:s=!0}}if(s)return s=e,a=a(s),e=r===""?"."+B0(s,0):r,e2(a)?(n="",e!=null&&(n=e.replace(t2,"$&/")+"/"),rh(a,t,n,"",function(d){return d})):a!=null&&(p1(a)&&(a=i4(a,n+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(t2,"$&/")+"/")+e)),t.push(a)),1;if(s=0,r=r===""?".":r+":",e2(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+B0(i,l);s+=rh(i,t,n,c,a)}else if(c=a4(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+B0(i,l++),s+=rh(i,t,n,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Pd(e,t,n){if(e==null)return e;var r=[],a=0;return rh(e,r,"","",function(i){return t.call(n,i,a++)}),r}function o4(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ur={current:null},ah={transition:null},l4={ReactCurrentDispatcher:ur,ReactCurrentBatchConfig:ah,ReactCurrentOwner:f1};function py(){throw Error("act(...) is not supported in production builds of React.")}gt.Children={map:Pd,forEach:function(e,t,n){Pd(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Pd(e,function(){t++}),t},toArray:function(e){return Pd(e,function(t){return t})||[]},only:function(e){if(!p1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};gt.Component=Tl;gt.Fragment=Yw;gt.Profiler=Jw;gt.PureComponent=d1;gt.StrictMode=Xw;gt.Suspense=t4;gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l4;gt.act=py;gt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ly({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=f1.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)dy.call(t,c)&&!hy.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:ku,type:e.type,key:a,ref:i,props:r,_owner:s}};gt.createContext=function(e){return e={$$typeof:Zw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Qw,_context:e},e.Consumer=e};gt.createElement=fy;gt.createFactory=function(e){var t=fy.bind(null,e);return t.type=e,t};gt.createRef=function(){return{current:null}};gt.forwardRef=function(e){return{$$typeof:e4,render:e}};gt.isValidElement=p1;gt.lazy=function(e){return{$$typeof:r4,_payload:{_status:-1,_result:e},_init:o4}};gt.memo=function(e,t){return{$$typeof:n4,type:e,compare:t===void 0?null:t}};gt.startTransition=function(e){var t=ah.transition;ah.transition={};try{e()}finally{ah.transition=t}};gt.unstable_act=py;gt.useCallback=function(e,t){return ur.current.useCallback(e,t)};gt.useContext=function(e){return ur.current.useContext(e)};gt.useDebugValue=function(){};gt.useDeferredValue=function(e){return ur.current.useDeferredValue(e)};gt.useEffect=function(e,t){return ur.current.useEffect(e,t)};gt.useId=function(){return ur.current.useId()};gt.useImperativeHandle=function(e,t,n){return ur.current.useImperativeHandle(e,t,n)};gt.useInsertionEffect=function(e,t){return ur.current.useInsertionEffect(e,t)};gt.useLayoutEffect=function(e,t){return ur.current.useLayoutEffect(e,t)};gt.useMemo=function(e,t){return ur.current.useMemo(e,t)};gt.useReducer=function(e,t,n){return ur.current.useReducer(e,t,n)};gt.useRef=function(e){return ur.current.useRef(e)};gt.useState=function(e){return ur.current.useState(e)};gt.useSyncExternalStore=function(e,t,n){return ur.current.useSyncExternalStore(e,t,n)};gt.useTransition=function(){return ur.current.useTransition()};gt.version="18.3.1";sy.exports=gt;var W=sy.exports;const wa=Kw(W),c4=Vw({__proto__:null,default:wa},[W]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u4=W,d4=Symbol.for("react.element"),h4=Symbol.for("react.fragment"),f4=Object.prototype.hasOwnProperty,p4=u4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m4={key:!0,ref:!0,__self:!0,__source:!0};function my(e,t,n){var r,a={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)f4.call(t,r)&&!m4.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:d4,type:e,key:i,ref:s,props:a,_owner:p4.current}}xf.Fragment=h4;xf.jsx=my;xf.jsxs=my;iy.exports=xf;var o=iy.exports,Pp={},gy={exports:{}},zr={},vy={exports:{}},yy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,Q){var te=U.length;U.push(Q);e:for(;0<te;){var ye=te-1>>>1,C=U[ye];if(0<a(C,Q))U[ye]=Q,U[te]=C,te=ye;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var Q=U[0],te=U.pop();if(te!==Q){U[0]=te;e:for(var ye=0,C=U.length,A=C>>>1;ye<A;){var z=2*(ye+1)-1,J=U[z],ae=z+1,le=U[ae];if(0>a(J,te))ae<C&&0>a(le,J)?(U[ye]=le,U[ae]=te,ye=ae):(U[ye]=J,U[z]=te,ye=z);else if(ae<C&&0>a(le,te))U[ye]=le,U[ae]=te,ye=ae;else break e}}return Q}function a(U,Q){var te=U.sortIndex-Q.sortIndex;return te!==0?te:U.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],d=[],p=1,f=null,v=3,m=!1,j=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(U){for(var Q=n(d);Q!==null;){if(Q.callback===null)r(d);else if(Q.startTime<=U)r(d),Q.sortIndex=Q.expirationTime,t(c,Q);else break;Q=n(d)}}function P(U){if(w=!1,N(U),!j)if(n(c)!==null)j=!0,Z(R);else{var Q=n(d);Q!==null&&ne(P,Q.startTime-U)}}function R(U,Q){j=!1,w&&(w=!1,g(F),F=-1),m=!0;var te=v;try{for(N(Q),f=n(c);f!==null&&(!(f.expirationTime>Q)||U&&!I());){var ye=f.callback;if(typeof ye=="function"){f.callback=null,v=f.priorityLevel;var C=ye(f.expirationTime<=Q);Q=e.unstable_now(),typeof C=="function"?f.callback=C:f===n(c)&&r(c),N(Q)}else r(c);f=n(c)}if(f!==null)var A=!0;else{var z=n(d);z!==null&&ne(P,z.startTime-Q),A=!1}return A}finally{f=null,v=te,m=!1}}var q=!1,M=null,F=-1,H=5,re=-1;function I(){return!(e.unstable_now()-re<H)}function L(){if(M!==null){var U=e.unstable_now();re=U;var Q=!0;try{Q=M(!0,U)}finally{Q?Y():(q=!1,M=null)}}else q=!1}var Y;if(typeof x=="function")Y=function(){x(L)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,X=V.port2;V.port1.onmessage=L,Y=function(){X.postMessage(null)}}else Y=function(){S(L,0)};function Z(U){M=U,q||(q=!0,Y())}function ne(U,Q){F=S(function(){U(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){j||m||(j=!0,Z(R))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(U){switch(v){case 1:case 2:case 3:var Q=3;break;default:Q=v}var te=v;v=Q;try{return U()}finally{v=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,Q){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var te=v;v=U;try{return Q()}finally{v=te}},e.unstable_scheduleCallback=function(U,Q,te){var ye=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ye+te:ye):te=ye,U){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=te+C,U={id:p++,callback:Q,priorityLevel:U,startTime:te,expirationTime:C,sortIndex:-1},te>ye?(U.sortIndex=te,t(d,U),n(c)===null&&U===n(d)&&(w?(g(F),F=-1):w=!0,ne(P,te-ye))):(U.sortIndex=C,t(c,U),j||m||(j=!0,Z(R))),U},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(U){var Q=v;return function(){var te=v;v=Q;try{return U.apply(this,arguments)}finally{v=te}}}})(yy);vy.exports=yy;var g4=vy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v4=W,Br=g4;function Ee(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xy=new Set,Jc={};function uo(e,t){kl(e,t),kl(e+"Capture",t)}function kl(e,t){for(Jc[e]=t,e=0;e<t.length;e++)xy.add(t[e])}var ji=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_p=Object.prototype.hasOwnProperty,y4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,n2={},r2={};function x4(e){return _p.call(r2,e)?!0:_p.call(n2,e)?!1:y4.test(e)?r2[e]=!0:(n2[e]=!0,!1)}function b4(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function w4(e,t,n,r){if(t===null||typeof t>"u"||b4(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function dr(e,t,n,r,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var zn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){zn[e]=new dr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];zn[t]=new dr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){zn[e]=new dr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){zn[e]=new dr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){zn[e]=new dr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){zn[e]=new dr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){zn[e]=new dr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){zn[e]=new dr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){zn[e]=new dr(e,5,!1,e.toLowerCase(),null,!1,!1)});var m1=/[\-:]([a-z])/g;function g1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(m1,g1);zn[t]=new dr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(m1,g1);zn[t]=new dr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(m1,g1);zn[t]=new dr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){zn[e]=new dr(e,1,!1,e.toLowerCase(),null,!1,!1)});zn.xlinkHref=new dr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){zn[e]=new dr(e,1,!1,e.toLowerCase(),null,!0,!0)});function v1(e,t,n,r){var a=zn.hasOwnProperty(t)?zn[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(w4(t,n,a,r)&&(n=null),r||a===null?x4(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var _i=v4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_d=Symbol.for("react.element"),Jo=Symbol.for("react.portal"),Qo=Symbol.for("react.fragment"),y1=Symbol.for("react.strict_mode"),Lp=Symbol.for("react.profiler"),by=Symbol.for("react.provider"),wy=Symbol.for("react.context"),x1=Symbol.for("react.forward_ref"),Ep=Symbol.for("react.suspense"),Ip=Symbol.for("react.suspense_list"),b1=Symbol.for("react.memo"),Xi=Symbol.for("react.lazy"),Ny=Symbol.for("react.offscreen"),a2=Symbol.iterator;function yc(e){return e===null||typeof e!="object"?null:(e=a2&&e[a2]||e["@@iterator"],typeof e=="function"?e:null)}var tn=Object.assign,$0;function Lc(e){if($0===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$0=t&&t[1]||""}return`
`+$0+e}var z0=!1;function q0(e,t){if(!e||z0)return"";z0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=r.stack.split(`
`),s=a.length-1,l=i.length-1;1<=s&&0<=l&&a[s]!==i[l];)l--;for(;1<=s&&0<=l;s--,l--)if(a[s]!==i[l]){if(s!==1||l!==1)do if(s--,l--,0>l||a[s]!==i[l]){var c=`
`+a[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=l);break}}}finally{z0=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Lc(e):""}function N4(e){switch(e.tag){case 5:return Lc(e.type);case 16:return Lc("Lazy");case 13:return Lc("Suspense");case 19:return Lc("SuspenseList");case 0:case 2:case 15:return e=q0(e.type,!1),e;case 11:return e=q0(e.type.render,!1),e;case 1:return e=q0(e.type,!0),e;default:return""}}function Dp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qo:return"Fragment";case Jo:return"Portal";case Lp:return"Profiler";case y1:return"StrictMode";case Ep:return"Suspense";case Ip:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case wy:return(e.displayName||"Context")+".Consumer";case by:return(e._context.displayName||"Context")+".Provider";case x1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case b1:return t=e.displayName||null,t!==null?t:Dp(e.type)||"Memo";case Xi:t=e._payload,e=e._init;try{return Dp(e(t))}catch{}}return null}function j4(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dp(t);case 8:return t===y1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function vs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function S4(e){var t=jy(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ld(e){e._valueTracker||(e._valueTracker=S4(e))}function Sy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=jy(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ah(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Mp(e,t){var n=t.checked;return tn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function i2(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=vs(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ky(e,t){t=t.checked,t!=null&&v1(e,"checked",t,!1)}function Tp(e,t){ky(e,t);var n=vs(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Fp(e,t.type,n):t.hasOwnProperty("defaultValue")&&Fp(e,t.type,vs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function s2(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Fp(e,t,n){(t!=="number"||Ah(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ec=Array.isArray;function dl(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+vs(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Op(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ee(91));return tn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function o2(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ee(92));if(Ec(n)){if(1<n.length)throw Error(Ee(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:vs(n)}}function Cy(e,t){var n=vs(t.value),r=vs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function l2(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ay(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ay(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ed,Py=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ed=Ed||document.createElement("div"),Ed.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ed.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Qc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Fc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},k4=["Webkit","ms","Moz","O"];Object.keys(Fc).forEach(function(e){k4.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Fc[t]=Fc[e]})});function _y(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Fc.hasOwnProperty(e)&&Fc[e]?(""+t).trim():t+"px"}function Ly(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=_y(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var C4=tn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bp(e,t){if(t){if(C4[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ee(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ee(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ee(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ee(62))}}function $p(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zp=null;function w1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qp=null,hl=null,fl=null;function c2(e){if(e=Pu(e)){if(typeof qp!="function")throw Error(Ee(280));var t=e.stateNode;t&&(t=Sf(t),qp(e.stateNode,e.type,t))}}function Ey(e){hl?fl?fl.push(e):fl=[e]:hl=e}function Iy(){if(hl){var e=hl,t=fl;if(fl=hl=null,c2(e),t)for(e=0;e<t.length;e++)c2(t[e])}}function Dy(e,t){return e(t)}function My(){}var U0=!1;function Ty(e,t,n){if(U0)return e(t,n);U0=!0;try{return Dy(e,t,n)}finally{U0=!1,(hl!==null||fl!==null)&&(My(),Iy())}}function Zc(e,t){var n=e.stateNode;if(n===null)return null;var r=Sf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ee(231,t,typeof n));return n}var Up=!1;if(ji)try{var xc={};Object.defineProperty(xc,"passive",{get:function(){Up=!0}}),window.addEventListener("test",xc,xc),window.removeEventListener("test",xc,xc)}catch{Up=!1}function A4(e,t,n,r,a,i,s,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(p){this.onError(p)}}var Oc=!1,Ph=null,_h=!1,Wp=null,P4={onError:function(e){Oc=!0,Ph=e}};function _4(e,t,n,r,a,i,s,l,c){Oc=!1,Ph=null,A4.apply(P4,arguments)}function L4(e,t,n,r,a,i,s,l,c){if(_4.apply(this,arguments),Oc){if(Oc){var d=Ph;Oc=!1,Ph=null}else throw Error(Ee(198));_h||(_h=!0,Wp=d)}}function ho(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Fy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function u2(e){if(ho(e)!==e)throw Error(Ee(188))}function E4(e){var t=e.alternate;if(!t){if(t=ho(e),t===null)throw Error(Ee(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return u2(a),e;if(i===r)return u2(a),t;i=i.sibling}throw Error(Ee(188))}if(n.return!==r.return)n=a,r=i;else{for(var s=!1,l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s)throw Error(Ee(189))}}if(n.alternate!==r)throw Error(Ee(190))}if(n.tag!==3)throw Error(Ee(188));return n.stateNode.current===n?e:t}function Oy(e){return e=E4(e),e!==null?Ry(e):null}function Ry(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ry(e);if(t!==null)return t;e=e.sibling}return null}var By=Br.unstable_scheduleCallback,d2=Br.unstable_cancelCallback,I4=Br.unstable_shouldYield,D4=Br.unstable_requestPaint,hn=Br.unstable_now,M4=Br.unstable_getCurrentPriorityLevel,N1=Br.unstable_ImmediatePriority,$y=Br.unstable_UserBlockingPriority,Lh=Br.unstable_NormalPriority,T4=Br.unstable_LowPriority,zy=Br.unstable_IdlePriority,bf=null,Wa=null;function F4(e){if(Wa&&typeof Wa.onCommitFiberRoot=="function")try{Wa.onCommitFiberRoot(bf,e,void 0,(e.current.flags&128)===128)}catch{}}var Na=Math.clz32?Math.clz32:B4,O4=Math.log,R4=Math.LN2;function B4(e){return e>>>=0,e===0?32:31-(O4(e)/R4|0)|0}var Id=64,Dd=4194304;function Ic(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Eh(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~a;l!==0?r=Ic(l):(i&=s,i!==0&&(r=Ic(i)))}else s=n&~a,s!==0?r=Ic(s):i!==0&&(r=Ic(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Na(t),a=1<<n,r|=e[n],t&=~a;return r}function $4(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function z4(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-Na(i),l=1<<s,c=a[s];c===-1?(!(l&n)||l&r)&&(a[s]=$4(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Hp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function qy(){var e=Id;return Id<<=1,!(Id&4194240)&&(Id=64),e}function W0(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Cu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Na(t),e[t]=n}function q4(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-Na(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}function j1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Na(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var Dt=0;function Uy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Wy,S1,Hy,Vy,Ky,Vp=!1,Md=[],ls=null,cs=null,us=null,eu=new Map,tu=new Map,Zi=[],U4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function h2(e,t){switch(e){case"focusin":case"focusout":ls=null;break;case"dragenter":case"dragleave":cs=null;break;case"mouseover":case"mouseout":us=null;break;case"pointerover":case"pointerout":eu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":tu.delete(t.pointerId)}}function bc(e,t,n,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Pu(t),t!==null&&S1(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function W4(e,t,n,r,a){switch(t){case"focusin":return ls=bc(ls,e,t,n,r,a),!0;case"dragenter":return cs=bc(cs,e,t,n,r,a),!0;case"mouseover":return us=bc(us,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return eu.set(i,bc(eu.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,tu.set(i,bc(tu.get(i)||null,e,t,n,r,a)),!0}return!1}function Gy(e){var t=Hs(e.target);if(t!==null){var n=ho(t);if(n!==null){if(t=n.tag,t===13){if(t=Fy(n),t!==null){e.blockedOn=t,Ky(e.priority,function(){Hy(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ih(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);zp=r,n.target.dispatchEvent(r),zp=null}else return t=Pu(n),t!==null&&S1(t),e.blockedOn=n,!1;t.shift()}return!0}function f2(e,t,n){ih(e)&&n.delete(t)}function H4(){Vp=!1,ls!==null&&ih(ls)&&(ls=null),cs!==null&&ih(cs)&&(cs=null),us!==null&&ih(us)&&(us=null),eu.forEach(f2),tu.forEach(f2)}function wc(e,t){e.blockedOn===t&&(e.blockedOn=null,Vp||(Vp=!0,Br.unstable_scheduleCallback(Br.unstable_NormalPriority,H4)))}function nu(e){function t(a){return wc(a,e)}if(0<Md.length){wc(Md[0],e);for(var n=1;n<Md.length;n++){var r=Md[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ls!==null&&wc(ls,e),cs!==null&&wc(cs,e),us!==null&&wc(us,e),eu.forEach(t),tu.forEach(t),n=0;n<Zi.length;n++)r=Zi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Zi.length&&(n=Zi[0],n.blockedOn===null);)Gy(n),n.blockedOn===null&&Zi.shift()}var pl=_i.ReactCurrentBatchConfig,Ih=!0;function V4(e,t,n,r){var a=Dt,i=pl.transition;pl.transition=null;try{Dt=1,k1(e,t,n,r)}finally{Dt=a,pl.transition=i}}function K4(e,t,n,r){var a=Dt,i=pl.transition;pl.transition=null;try{Dt=4,k1(e,t,n,r)}finally{Dt=a,pl.transition=i}}function k1(e,t,n,r){if(Ih){var a=Kp(e,t,n,r);if(a===null)ep(e,t,r,Dh,n),h2(e,r);else if(W4(a,e,t,n,r))r.stopPropagation();else if(h2(e,r),t&4&&-1<U4.indexOf(e)){for(;a!==null;){var i=Pu(a);if(i!==null&&Wy(i),i=Kp(e,t,n,r),i===null&&ep(e,t,r,Dh,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else ep(e,t,r,null,n)}}var Dh=null;function Kp(e,t,n,r){if(Dh=null,e=w1(r),e=Hs(e),e!==null)if(t=ho(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Fy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Dh=e,null}function Yy(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(M4()){case N1:return 1;case $y:return 4;case Lh:case T4:return 16;case zy:return 536870912;default:return 16}default:return 16}}var rs=null,C1=null,sh=null;function Xy(){if(sh)return sh;var e,t=C1,n=t.length,r,a="value"in rs?rs.value:rs.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===a[i-r];r++);return sh=a.slice(e,1<r?1-r:void 0)}function oh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Td(){return!0}function p2(){return!1}function qr(e){function t(n,r,a,i,s){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Td:p2,this.isPropagationStopped=p2,this}return tn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Td)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Td)},persist:function(){},isPersistent:Td}),t}var Fl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},A1=qr(Fl),Au=tn({},Fl,{view:0,detail:0}),G4=qr(Au),H0,V0,Nc,wf=tn({},Au,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:P1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Nc&&(Nc&&e.type==="mousemove"?(H0=e.screenX-Nc.screenX,V0=e.screenY-Nc.screenY):V0=H0=0,Nc=e),H0)},movementY:function(e){return"movementY"in e?e.movementY:V0}}),m2=qr(wf),Y4=tn({},wf,{dataTransfer:0}),X4=qr(Y4),J4=tn({},Au,{relatedTarget:0}),K0=qr(J4),Q4=tn({},Fl,{animationName:0,elapsedTime:0,pseudoElement:0}),Z4=qr(Q4),e3=tn({},Fl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),t3=qr(e3),n3=tn({},Fl,{data:0}),g2=qr(n3),r3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},i3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function s3(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=i3[e])?!!t[e]:!1}function P1(){return s3}var o3=tn({},Au,{key:function(e){if(e.key){var t=r3[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=oh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?a3[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:P1,charCode:function(e){return e.type==="keypress"?oh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?oh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),l3=qr(o3),c3=tn({},wf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v2=qr(c3),u3=tn({},Au,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:P1}),d3=qr(u3),h3=tn({},Fl,{propertyName:0,elapsedTime:0,pseudoElement:0}),f3=qr(h3),p3=tn({},wf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),m3=qr(p3),g3=[9,13,27,32],_1=ji&&"CompositionEvent"in window,Rc=null;ji&&"documentMode"in document&&(Rc=document.documentMode);var v3=ji&&"TextEvent"in window&&!Rc,Jy=ji&&(!_1||Rc&&8<Rc&&11>=Rc),y2=String.fromCharCode(32),x2=!1;function Qy(e,t){switch(e){case"keyup":return g3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zo=!1;function y3(e,t){switch(e){case"compositionend":return Zy(t);case"keypress":return t.which!==32?null:(x2=!0,y2);case"textInput":return e=t.data,e===y2&&x2?null:e;default:return null}}function x3(e,t){if(Zo)return e==="compositionend"||!_1&&Qy(e,t)?(e=Xy(),sh=C1=rs=null,Zo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Jy&&t.locale!=="ko"?null:t.data;default:return null}}var b3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function b2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!b3[e.type]:t==="textarea"}function ex(e,t,n,r){Ey(r),t=Mh(t,"onChange"),0<t.length&&(n=new A1("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Bc=null,ru=null;function w3(e){dx(e,0)}function Nf(e){var t=nl(e);if(Sy(t))return e}function N3(e,t){if(e==="change")return t}var tx=!1;if(ji){var G0;if(ji){var Y0="oninput"in document;if(!Y0){var w2=document.createElement("div");w2.setAttribute("oninput","return;"),Y0=typeof w2.oninput=="function"}G0=Y0}else G0=!1;tx=G0&&(!document.documentMode||9<document.documentMode)}function N2(){Bc&&(Bc.detachEvent("onpropertychange",nx),ru=Bc=null)}function nx(e){if(e.propertyName==="value"&&Nf(ru)){var t=[];ex(t,ru,e,w1(e)),Ty(w3,t)}}function j3(e,t,n){e==="focusin"?(N2(),Bc=t,ru=n,Bc.attachEvent("onpropertychange",nx)):e==="focusout"&&N2()}function S3(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nf(ru)}function k3(e,t){if(e==="click")return Nf(t)}function C3(e,t){if(e==="input"||e==="change")return Nf(t)}function A3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ka=typeof Object.is=="function"?Object.is:A3;function au(e,t){if(ka(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!_p.call(t,a)||!ka(e[a],t[a]))return!1}return!0}function j2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function S2(e,t){var n=j2(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=j2(n)}}function rx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ax(){for(var e=window,t=Ah();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ah(e.document)}return t}function L1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function P3(e){var t=ax(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&rx(n.ownerDocument.documentElement,n)){if(r!==null&&L1(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=S2(n,i);var s=S2(n,r);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _3=ji&&"documentMode"in document&&11>=document.documentMode,el=null,Gp=null,$c=null,Yp=!1;function k2(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yp||el==null||el!==Ah(r)||(r=el,"selectionStart"in r&&L1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$c&&au($c,r)||($c=r,r=Mh(Gp,"onSelect"),0<r.length&&(t=new A1("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=el)))}function Fd(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var tl={animationend:Fd("Animation","AnimationEnd"),animationiteration:Fd("Animation","AnimationIteration"),animationstart:Fd("Animation","AnimationStart"),transitionend:Fd("Transition","TransitionEnd")},X0={},ix={};ji&&(ix=document.createElement("div").style,"AnimationEvent"in window||(delete tl.animationend.animation,delete tl.animationiteration.animation,delete tl.animationstart.animation),"TransitionEvent"in window||delete tl.transitionend.transition);function jf(e){if(X0[e])return X0[e];if(!tl[e])return e;var t=tl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ix)return X0[e]=t[n];return e}var sx=jf("animationend"),ox=jf("animationiteration"),lx=jf("animationstart"),cx=jf("transitionend"),ux=new Map,C2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ss(e,t){ux.set(e,t),uo(t,[e])}for(var J0=0;J0<C2.length;J0++){var Q0=C2[J0],L3=Q0.toLowerCase(),E3=Q0[0].toUpperCase()+Q0.slice(1);Ss(L3,"on"+E3)}Ss(sx,"onAnimationEnd");Ss(ox,"onAnimationIteration");Ss(lx,"onAnimationStart");Ss("dblclick","onDoubleClick");Ss("focusin","onFocus");Ss("focusout","onBlur");Ss(cx,"onTransitionEnd");kl("onMouseEnter",["mouseout","mouseover"]);kl("onMouseLeave",["mouseout","mouseover"]);kl("onPointerEnter",["pointerout","pointerover"]);kl("onPointerLeave",["pointerout","pointerover"]);uo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));uo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));uo("onBeforeInput",["compositionend","keypress","textInput","paste"]);uo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));uo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));uo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dc));function A2(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,L4(r,t,void 0,e),e.currentTarget=null}function dx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;A2(a,l,d),i=c}else for(s=0;s<r.length;s++){if(l=r[s],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;A2(a,l,d),i=c}}}if(_h)throw e=Wp,_h=!1,Wp=null,e}function Ut(e,t){var n=t[em];n===void 0&&(n=t[em]=new Set);var r=e+"__bubble";n.has(r)||(hx(t,e,2,!1),n.add(r))}function Z0(e,t,n){var r=0;t&&(r|=4),hx(n,e,r,t)}var Od="_reactListening"+Math.random().toString(36).slice(2);function iu(e){if(!e[Od]){e[Od]=!0,xy.forEach(function(n){n!=="selectionchange"&&(I3.has(n)||Z0(n,!1,e),Z0(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Od]||(t[Od]=!0,Z0("selectionchange",!1,t))}}function hx(e,t,n,r){switch(Yy(t)){case 1:var a=V4;break;case 4:a=K4;break;default:a=k1}n=a.bind(null,t,n,e),a=void 0,!Up||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function ep(e,t,n,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;s=s.return}for(;l!==null;){if(s=Hs(l),s===null)return;if(c=s.tag,c===5||c===6){r=i=s;continue e}l=l.parentNode}}r=r.return}Ty(function(){var d=i,p=w1(n),f=[];e:{var v=ux.get(e);if(v!==void 0){var m=A1,j=e;switch(e){case"keypress":if(oh(n)===0)break e;case"keydown":case"keyup":m=l3;break;case"focusin":j="focus",m=K0;break;case"focusout":j="blur",m=K0;break;case"beforeblur":case"afterblur":m=K0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=m2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=X4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=d3;break;case sx:case ox:case lx:m=Z4;break;case cx:m=f3;break;case"scroll":m=G4;break;case"wheel":m=m3;break;case"copy":case"cut":case"paste":m=t3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=v2}var w=(t&4)!==0,S=!w&&e==="scroll",g=w?v!==null?v+"Capture":null:v;w=[];for(var x=d,N;x!==null;){N=x;var P=N.stateNode;if(N.tag===5&&P!==null&&(N=P,g!==null&&(P=Zc(x,g),P!=null&&w.push(su(x,P,N)))),S)break;x=x.return}0<w.length&&(v=new m(v,j,null,n,p),f.push({event:v,listeners:w}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",v&&n!==zp&&(j=n.relatedTarget||n.fromElement)&&(Hs(j)||j[Si]))break e;if((m||v)&&(v=p.window===p?p:(v=p.ownerDocument)?v.defaultView||v.parentWindow:window,m?(j=n.relatedTarget||n.toElement,m=d,j=j?Hs(j):null,j!==null&&(S=ho(j),j!==S||j.tag!==5&&j.tag!==6)&&(j=null)):(m=null,j=d),m!==j)){if(w=m2,P="onMouseLeave",g="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(w=v2,P="onPointerLeave",g="onPointerEnter",x="pointer"),S=m==null?v:nl(m),N=j==null?v:nl(j),v=new w(P,x+"leave",m,n,p),v.target=S,v.relatedTarget=N,P=null,Hs(p)===d&&(w=new w(g,x+"enter",j,n,p),w.target=N,w.relatedTarget=S,P=w),S=P,m&&j)t:{for(w=m,g=j,x=0,N=w;N;N=qo(N))x++;for(N=0,P=g;P;P=qo(P))N++;for(;0<x-N;)w=qo(w),x--;for(;0<N-x;)g=qo(g),N--;for(;x--;){if(w===g||g!==null&&w===g.alternate)break t;w=qo(w),g=qo(g)}w=null}else w=null;m!==null&&P2(f,v,m,w,!1),j!==null&&S!==null&&P2(f,S,j,w,!0)}}e:{if(v=d?nl(d):window,m=v.nodeName&&v.nodeName.toLowerCase(),m==="select"||m==="input"&&v.type==="file")var R=N3;else if(b2(v))if(tx)R=C3;else{R=S3;var q=j3}else(m=v.nodeName)&&m.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(R=k3);if(R&&(R=R(e,d))){ex(f,R,n,p);break e}q&&q(e,v,d),e==="focusout"&&(q=v._wrapperState)&&q.controlled&&v.type==="number"&&Fp(v,"number",v.value)}switch(q=d?nl(d):window,e){case"focusin":(b2(q)||q.contentEditable==="true")&&(el=q,Gp=d,$c=null);break;case"focusout":$c=Gp=el=null;break;case"mousedown":Yp=!0;break;case"contextmenu":case"mouseup":case"dragend":Yp=!1,k2(f,n,p);break;case"selectionchange":if(_3)break;case"keydown":case"keyup":k2(f,n,p)}var M;if(_1)e:{switch(e){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else Zo?Qy(e,n)&&(F="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(Jy&&n.locale!=="ko"&&(Zo||F!=="onCompositionStart"?F==="onCompositionEnd"&&Zo&&(M=Xy()):(rs=p,C1="value"in rs?rs.value:rs.textContent,Zo=!0)),q=Mh(d,F),0<q.length&&(F=new g2(F,e,null,n,p),f.push({event:F,listeners:q}),M?F.data=M:(M=Zy(n),M!==null&&(F.data=M)))),(M=v3?y3(e,n):x3(e,n))&&(d=Mh(d,"onBeforeInput"),0<d.length&&(p=new g2("onBeforeInput","beforeinput",null,n,p),f.push({event:p,listeners:d}),p.data=M))}dx(f,t)})}function su(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mh(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Zc(e,n),i!=null&&r.unshift(su(e,i,a)),i=Zc(e,t),i!=null&&r.push(su(e,i,a))),e=e.return}return r}function qo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function P2(e,t,n,r,a){for(var i=t._reactName,s=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,a?(c=Zc(n,i),c!=null&&s.unshift(su(n,c,l))):a||(c=Zc(n,i),c!=null&&s.push(su(n,c,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var D3=/\r\n?/g,M3=/\u0000|\uFFFD/g;function _2(e){return(typeof e=="string"?e:""+e).replace(D3,`
`).replace(M3,"")}function Rd(e,t,n){if(t=_2(t),_2(e)!==t&&n)throw Error(Ee(425))}function Th(){}var Xp=null,Jp=null;function Qp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zp=typeof setTimeout=="function"?setTimeout:void 0,T3=typeof clearTimeout=="function"?clearTimeout:void 0,L2=typeof Promise=="function"?Promise:void 0,F3=typeof queueMicrotask=="function"?queueMicrotask:typeof L2<"u"?function(e){return L2.resolve(null).then(e).catch(O3)}:Zp;function O3(e){setTimeout(function(){throw e})}function tp(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),nu(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);nu(t)}function ds(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function E2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ol=Math.random().toString(36).slice(2),Ba="__reactFiber$"+Ol,ou="__reactProps$"+Ol,Si="__reactContainer$"+Ol,em="__reactEvents$"+Ol,R3="__reactListeners$"+Ol,B3="__reactHandles$"+Ol;function Hs(e){var t=e[Ba];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Si]||n[Ba]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=E2(e);e!==null;){if(n=e[Ba])return n;e=E2(e)}return t}e=n,n=e.parentNode}return null}function Pu(e){return e=e[Ba]||e[Si],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function nl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ee(33))}function Sf(e){return e[ou]||null}var tm=[],rl=-1;function ks(e){return{current:e}}function Vt(e){0>rl||(e.current=tm[rl],tm[rl]=null,rl--)}function qt(e,t){rl++,tm[rl]=e.current,e.current=t}var ys={},nr=ks(ys),jr=ks(!1),no=ys;function Cl(e,t){var n=e.type.contextTypes;if(!n)return ys;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Sr(e){return e=e.childContextTypes,e!=null}function Fh(){Vt(jr),Vt(nr)}function I2(e,t,n){if(nr.current!==ys)throw Error(Ee(168));qt(nr,t),qt(jr,n)}function fx(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(Ee(108,j4(e)||"Unknown",a));return tn({},n,r)}function Oh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ys,no=nr.current,qt(nr,e),qt(jr,jr.current),!0}function D2(e,t,n){var r=e.stateNode;if(!r)throw Error(Ee(169));n?(e=fx(e,t,no),r.__reactInternalMemoizedMergedChildContext=e,Vt(jr),Vt(nr),qt(nr,e)):Vt(jr),qt(jr,n)}var fi=null,kf=!1,np=!1;function px(e){fi===null?fi=[e]:fi.push(e)}function $3(e){kf=!0,px(e)}function Cs(){if(!np&&fi!==null){np=!0;var e=0,t=Dt;try{var n=fi;for(Dt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}fi=null,kf=!1}catch(a){throw fi!==null&&(fi=fi.slice(e+1)),By(N1,Cs),a}finally{Dt=t,np=!1}}return null}var al=[],il=0,Rh=null,Bh=0,ea=[],ta=0,ro=null,gi=1,vi="";function $s(e,t){al[il++]=Bh,al[il++]=Rh,Rh=e,Bh=t}function mx(e,t,n){ea[ta++]=gi,ea[ta++]=vi,ea[ta++]=ro,ro=e;var r=gi;e=vi;var a=32-Na(r)-1;r&=~(1<<a),n+=1;var i=32-Na(t)+a;if(30<i){var s=a-a%5;i=(r&(1<<s)-1).toString(32),r>>=s,a-=s,gi=1<<32-Na(t)+a|n<<a|r,vi=i+e}else gi=1<<i|n<<a|r,vi=e}function E1(e){e.return!==null&&($s(e,1),mx(e,1,0))}function I1(e){for(;e===Rh;)Rh=al[--il],al[il]=null,Bh=al[--il],al[il]=null;for(;e===ro;)ro=ea[--ta],ea[ta]=null,vi=ea[--ta],ea[ta]=null,gi=ea[--ta],ea[ta]=null}var Rr=null,Fr=null,Xt=!1,ba=null;function gx(e,t){var n=na(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function M2(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Rr=e,Fr=ds(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Rr=e,Fr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ro!==null?{id:gi,overflow:vi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=na(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Rr=e,Fr=null,!0):!1;default:return!1}}function nm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function rm(e){if(Xt){var t=Fr;if(t){var n=t;if(!M2(e,t)){if(nm(e))throw Error(Ee(418));t=ds(n.nextSibling);var r=Rr;t&&M2(e,t)?gx(r,n):(e.flags=e.flags&-4097|2,Xt=!1,Rr=e)}}else{if(nm(e))throw Error(Ee(418));e.flags=e.flags&-4097|2,Xt=!1,Rr=e}}}function T2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Rr=e}function Bd(e){if(e!==Rr)return!1;if(!Xt)return T2(e),Xt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Qp(e.type,e.memoizedProps)),t&&(t=Fr)){if(nm(e))throw vx(),Error(Ee(418));for(;t;)gx(e,t),t=ds(t.nextSibling)}if(T2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ee(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Fr=ds(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Fr=null}}else Fr=Rr?ds(e.stateNode.nextSibling):null;return!0}function vx(){for(var e=Fr;e;)e=ds(e.nextSibling)}function Al(){Fr=Rr=null,Xt=!1}function D1(e){ba===null?ba=[e]:ba.push(e)}var z3=_i.ReactCurrentBatchConfig;function jc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ee(309));var r=n.stateNode}if(!r)throw Error(Ee(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var l=a.refs;s===null?delete l[i]:l[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ee(284));if(!n._owner)throw Error(Ee(290,e))}return e}function $d(e,t){throw e=Object.prototype.toString.call(t),Error(Ee(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function F2(e){var t=e._init;return t(e._payload)}function yx(e){function t(g,x){if(e){var N=g.deletions;N===null?(g.deletions=[x],g.flags|=16):N.push(x)}}function n(g,x){if(!e)return null;for(;x!==null;)t(g,x),x=x.sibling;return null}function r(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function a(g,x){return g=ms(g,x),g.index=0,g.sibling=null,g}function i(g,x,N){return g.index=N,e?(N=g.alternate,N!==null?(N=N.index,N<x?(g.flags|=2,x):N):(g.flags|=2,x)):(g.flags|=1048576,x)}function s(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,x,N,P){return x===null||x.tag!==6?(x=cp(N,g.mode,P),x.return=g,x):(x=a(x,N),x.return=g,x)}function c(g,x,N,P){var R=N.type;return R===Qo?p(g,x,N.props.children,P,N.key):x!==null&&(x.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Xi&&F2(R)===x.type)?(P=a(x,N.props),P.ref=jc(g,x,N),P.return=g,P):(P=ph(N.type,N.key,N.props,null,g.mode,P),P.ref=jc(g,x,N),P.return=g,P)}function d(g,x,N,P){return x===null||x.tag!==4||x.stateNode.containerInfo!==N.containerInfo||x.stateNode.implementation!==N.implementation?(x=up(N,g.mode,P),x.return=g,x):(x=a(x,N.children||[]),x.return=g,x)}function p(g,x,N,P,R){return x===null||x.tag!==7?(x=Xs(N,g.mode,P,R),x.return=g,x):(x=a(x,N),x.return=g,x)}function f(g,x,N){if(typeof x=="string"&&x!==""||typeof x=="number")return x=cp(""+x,g.mode,N),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case _d:return N=ph(x.type,x.key,x.props,null,g.mode,N),N.ref=jc(g,null,x),N.return=g,N;case Jo:return x=up(x,g.mode,N),x.return=g,x;case Xi:var P=x._init;return f(g,P(x._payload),N)}if(Ec(x)||yc(x))return x=Xs(x,g.mode,N,null),x.return=g,x;$d(g,x)}return null}function v(g,x,N,P){var R=x!==null?x.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return R!==null?null:l(g,x,""+N,P);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case _d:return N.key===R?c(g,x,N,P):null;case Jo:return N.key===R?d(g,x,N,P):null;case Xi:return R=N._init,v(g,x,R(N._payload),P)}if(Ec(N)||yc(N))return R!==null?null:p(g,x,N,P,null);$d(g,N)}return null}function m(g,x,N,P,R){if(typeof P=="string"&&P!==""||typeof P=="number")return g=g.get(N)||null,l(x,g,""+P,R);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case _d:return g=g.get(P.key===null?N:P.key)||null,c(x,g,P,R);case Jo:return g=g.get(P.key===null?N:P.key)||null,d(x,g,P,R);case Xi:var q=P._init;return m(g,x,N,q(P._payload),R)}if(Ec(P)||yc(P))return g=g.get(N)||null,p(x,g,P,R,null);$d(x,P)}return null}function j(g,x,N,P){for(var R=null,q=null,M=x,F=x=0,H=null;M!==null&&F<N.length;F++){M.index>F?(H=M,M=null):H=M.sibling;var re=v(g,M,N[F],P);if(re===null){M===null&&(M=H);break}e&&M&&re.alternate===null&&t(g,M),x=i(re,x,F),q===null?R=re:q.sibling=re,q=re,M=H}if(F===N.length)return n(g,M),Xt&&$s(g,F),R;if(M===null){for(;F<N.length;F++)M=f(g,N[F],P),M!==null&&(x=i(M,x,F),q===null?R=M:q.sibling=M,q=M);return Xt&&$s(g,F),R}for(M=r(g,M);F<N.length;F++)H=m(M,g,F,N[F],P),H!==null&&(e&&H.alternate!==null&&M.delete(H.key===null?F:H.key),x=i(H,x,F),q===null?R=H:q.sibling=H,q=H);return e&&M.forEach(function(I){return t(g,I)}),Xt&&$s(g,F),R}function w(g,x,N,P){var R=yc(N);if(typeof R!="function")throw Error(Ee(150));if(N=R.call(N),N==null)throw Error(Ee(151));for(var q=R=null,M=x,F=x=0,H=null,re=N.next();M!==null&&!re.done;F++,re=N.next()){M.index>F?(H=M,M=null):H=M.sibling;var I=v(g,M,re.value,P);if(I===null){M===null&&(M=H);break}e&&M&&I.alternate===null&&t(g,M),x=i(I,x,F),q===null?R=I:q.sibling=I,q=I,M=H}if(re.done)return n(g,M),Xt&&$s(g,F),R;if(M===null){for(;!re.done;F++,re=N.next())re=f(g,re.value,P),re!==null&&(x=i(re,x,F),q===null?R=re:q.sibling=re,q=re);return Xt&&$s(g,F),R}for(M=r(g,M);!re.done;F++,re=N.next())re=m(M,g,F,re.value,P),re!==null&&(e&&re.alternate!==null&&M.delete(re.key===null?F:re.key),x=i(re,x,F),q===null?R=re:q.sibling=re,q=re);return e&&M.forEach(function(L){return t(g,L)}),Xt&&$s(g,F),R}function S(g,x,N,P){if(typeof N=="object"&&N!==null&&N.type===Qo&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case _d:e:{for(var R=N.key,q=x;q!==null;){if(q.key===R){if(R=N.type,R===Qo){if(q.tag===7){n(g,q.sibling),x=a(q,N.props.children),x.return=g,g=x;break e}}else if(q.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Xi&&F2(R)===q.type){n(g,q.sibling),x=a(q,N.props),x.ref=jc(g,q,N),x.return=g,g=x;break e}n(g,q);break}else t(g,q);q=q.sibling}N.type===Qo?(x=Xs(N.props.children,g.mode,P,N.key),x.return=g,g=x):(P=ph(N.type,N.key,N.props,null,g.mode,P),P.ref=jc(g,x,N),P.return=g,g=P)}return s(g);case Jo:e:{for(q=N.key;x!==null;){if(x.key===q)if(x.tag===4&&x.stateNode.containerInfo===N.containerInfo&&x.stateNode.implementation===N.implementation){n(g,x.sibling),x=a(x,N.children||[]),x.return=g,g=x;break e}else{n(g,x);break}else t(g,x);x=x.sibling}x=up(N,g.mode,P),x.return=g,g=x}return s(g);case Xi:return q=N._init,S(g,x,q(N._payload),P)}if(Ec(N))return j(g,x,N,P);if(yc(N))return w(g,x,N,P);$d(g,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,x!==null&&x.tag===6?(n(g,x.sibling),x=a(x,N),x.return=g,g=x):(n(g,x),x=cp(N,g.mode,P),x.return=g,g=x),s(g)):n(g,x)}return S}var Pl=yx(!0),xx=yx(!1),$h=ks(null),zh=null,sl=null,M1=null;function T1(){M1=sl=zh=null}function F1(e){var t=$h.current;Vt($h),e._currentValue=t}function am(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ml(e,t){zh=e,M1=sl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Nr=!0),e.firstContext=null)}function aa(e){var t=e._currentValue;if(M1!==e)if(e={context:e,memoizedValue:t,next:null},sl===null){if(zh===null)throw Error(Ee(308));sl=e,zh.dependencies={lanes:0,firstContext:e}}else sl=sl.next=e;return t}var Vs=null;function O1(e){Vs===null?Vs=[e]:Vs.push(e)}function bx(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,O1(t)):(n.next=a.next,a.next=n),t.interleaved=n,ki(e,r)}function ki(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ji=!1;function R1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function hs(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,jt&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,ki(e,n)}return a=r.interleaved,a===null?(t.next=t,O1(r)):(t.next=a.next,a.next=t),r.interleaved=t,ki(e,n)}function lh(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,j1(e,n)}}function O2(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qh(e,t,n,r){var a=e.updateQueue;Ji=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,s===null?i=d:s.next=d,s=c;var p=e.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==s&&(l===null?p.firstBaseUpdate=d:l.next=d,p.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;s=0,p=d=c=null,l=i;do{var v=l.lane,m=l.eventTime;if((r&v)===v){p!==null&&(p=p.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var j=e,w=l;switch(v=t,m=n,w.tag){case 1:if(j=w.payload,typeof j=="function"){f=j.call(m,f,v);break e}f=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=w.payload,v=typeof j=="function"?j.call(m,f,v):j,v==null)break e;f=tn({},f,v);break e;case 2:Ji=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,v=a.effects,v===null?a.effects=[l]:v.push(l))}else m={eventTime:m,lane:v,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(d=p=m,c=f):p=p.next=m,s|=v;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;v=l,l=v.next,v.next=null,a.lastBaseUpdate=v,a.shared.pending=null}}while(1);if(p===null&&(c=f),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=p,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);io|=s,e.lanes=s,e.memoizedState=f}}function R2(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(Ee(191,a));a.call(r)}}}var _u={},Ha=ks(_u),lu=ks(_u),cu=ks(_u);function Ks(e){if(e===_u)throw Error(Ee(174));return e}function B1(e,t){switch(qt(cu,t),qt(lu,e),qt(Ha,_u),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Rp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Rp(t,e)}Vt(Ha),qt(Ha,t)}function _l(){Vt(Ha),Vt(lu),Vt(cu)}function Nx(e){Ks(cu.current);var t=Ks(Ha.current),n=Rp(t,e.type);t!==n&&(qt(lu,e),qt(Ha,n))}function $1(e){lu.current===e&&(Vt(Ha),Vt(lu))}var Zt=ks(0);function Uh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rp=[];function z1(){for(var e=0;e<rp.length;e++)rp[e]._workInProgressVersionPrimary=null;rp.length=0}var ch=_i.ReactCurrentDispatcher,ap=_i.ReactCurrentBatchConfig,ao=0,en=null,jn=null,In=null,Wh=!1,zc=!1,uu=0,q3=0;function Vn(){throw Error(Ee(321))}function q1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ka(e[n],t[n]))return!1;return!0}function U1(e,t,n,r,a,i){if(ao=i,en=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ch.current=e===null||e.memoizedState===null?V3:K3,e=n(r,a),zc){i=0;do{if(zc=!1,uu=0,25<=i)throw Error(Ee(301));i+=1,In=jn=null,t.updateQueue=null,ch.current=G3,e=n(r,a)}while(zc)}if(ch.current=Hh,t=jn!==null&&jn.next!==null,ao=0,In=jn=en=null,Wh=!1,t)throw Error(Ee(300));return e}function W1(){var e=uu!==0;return uu=0,e}function Oa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?en.memoizedState=In=e:In=In.next=e,In}function ia(){if(jn===null){var e=en.alternate;e=e!==null?e.memoizedState:null}else e=jn.next;var t=In===null?en.memoizedState:In.next;if(t!==null)In=t,jn=e;else{if(e===null)throw Error(Ee(310));jn=e,e={memoizedState:jn.memoizedState,baseState:jn.baseState,baseQueue:jn.baseQueue,queue:jn.queue,next:null},In===null?en.memoizedState=In=e:In=In.next=e}return In}function du(e,t){return typeof t=="function"?t(e):t}function ip(e){var t=ia(),n=t.queue;if(n===null)throw Error(Ee(311));n.lastRenderedReducer=e;var r=jn,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var l=s=null,c=null,d=i;do{var p=d.lane;if((ao&p)===p)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var f={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,s=r):c=c.next=f,en.lanes|=p,io|=p}d=d.next}while(d!==null&&d!==i);c===null?s=r:c.next=l,ka(r,t.memoizedState)||(Nr=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do i=a.lane,en.lanes|=i,io|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function sp(e){var t=ia(),n=t.queue;if(n===null)throw Error(Ee(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);ka(i,t.memoizedState)||(Nr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function jx(){}function Sx(e,t){var n=en,r=ia(),a=t(),i=!ka(r.memoizedState,a);if(i&&(r.memoizedState=a,Nr=!0),r=r.queue,H1(Ax.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||In!==null&&In.memoizedState.tag&1){if(n.flags|=2048,hu(9,Cx.bind(null,n,r,a,t),void 0,null),Mn===null)throw Error(Ee(349));ao&30||kx(n,t,a)}return a}function kx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=en.updateQueue,t===null?(t={lastEffect:null,stores:null},en.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Cx(e,t,n,r){t.value=n,t.getSnapshot=r,Px(t)&&_x(e)}function Ax(e,t,n){return n(function(){Px(t)&&_x(e)})}function Px(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ka(e,n)}catch{return!0}}function _x(e){var t=ki(e,1);t!==null&&ja(t,e,1,-1)}function B2(e){var t=Oa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:du,lastRenderedState:e},t.queue=e,e=e.dispatch=H3.bind(null,en,e),[t.memoizedState,e]}function hu(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=en.updateQueue,t===null?(t={lastEffect:null,stores:null},en.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Lx(){return ia().memoizedState}function uh(e,t,n,r){var a=Oa();en.flags|=e,a.memoizedState=hu(1|t,n,void 0,r===void 0?null:r)}function Cf(e,t,n,r){var a=ia();r=r===void 0?null:r;var i=void 0;if(jn!==null){var s=jn.memoizedState;if(i=s.destroy,r!==null&&q1(r,s.deps)){a.memoizedState=hu(t,n,i,r);return}}en.flags|=e,a.memoizedState=hu(1|t,n,i,r)}function $2(e,t){return uh(8390656,8,e,t)}function H1(e,t){return Cf(2048,8,e,t)}function Ex(e,t){return Cf(4,2,e,t)}function Ix(e,t){return Cf(4,4,e,t)}function Dx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Mx(e,t,n){return n=n!=null?n.concat([e]):null,Cf(4,4,Dx.bind(null,t,e),n)}function V1(){}function Tx(e,t){var n=ia();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&q1(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Fx(e,t){var n=ia();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&q1(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ox(e,t,n){return ao&21?(ka(n,t)||(n=qy(),en.lanes|=n,io|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Nr=!0),e.memoizedState=n)}function U3(e,t){var n=Dt;Dt=n!==0&&4>n?n:4,e(!0);var r=ap.transition;ap.transition={};try{e(!1),t()}finally{Dt=n,ap.transition=r}}function Rx(){return ia().memoizedState}function W3(e,t,n){var r=ps(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Bx(e))$x(t,n);else if(n=bx(e,t,n,r),n!==null){var a=lr();ja(n,e,r,a),zx(n,t,r)}}function H3(e,t,n){var r=ps(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bx(e))$x(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,l=i(s,n);if(a.hasEagerState=!0,a.eagerState=l,ka(l,s)){var c=t.interleaved;c===null?(a.next=a,O1(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}n=bx(e,t,a,r),n!==null&&(a=lr(),ja(n,e,r,a),zx(n,t,r))}}function Bx(e){var t=e.alternate;return e===en||t!==null&&t===en}function $x(e,t){zc=Wh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function zx(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,j1(e,n)}}var Hh={readContext:aa,useCallback:Vn,useContext:Vn,useEffect:Vn,useImperativeHandle:Vn,useInsertionEffect:Vn,useLayoutEffect:Vn,useMemo:Vn,useReducer:Vn,useRef:Vn,useState:Vn,useDebugValue:Vn,useDeferredValue:Vn,useTransition:Vn,useMutableSource:Vn,useSyncExternalStore:Vn,useId:Vn,unstable_isNewReconciler:!1},V3={readContext:aa,useCallback:function(e,t){return Oa().memoizedState=[e,t===void 0?null:t],e},useContext:aa,useEffect:$2,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,uh(4194308,4,Dx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return uh(4194308,4,e,t)},useInsertionEffect:function(e,t){return uh(4,2,e,t)},useMemo:function(e,t){var n=Oa();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Oa();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=W3.bind(null,en,e),[r.memoizedState,e]},useRef:function(e){var t=Oa();return e={current:e},t.memoizedState=e},useState:B2,useDebugValue:V1,useDeferredValue:function(e){return Oa().memoizedState=e},useTransition:function(){var e=B2(!1),t=e[0];return e=U3.bind(null,e[1]),Oa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=en,a=Oa();if(Xt){if(n===void 0)throw Error(Ee(407));n=n()}else{if(n=t(),Mn===null)throw Error(Ee(349));ao&30||kx(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,$2(Ax.bind(null,r,i,e),[e]),r.flags|=2048,hu(9,Cx.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Oa(),t=Mn.identifierPrefix;if(Xt){var n=vi,r=gi;n=(r&~(1<<32-Na(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=uu++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=q3++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},K3={readContext:aa,useCallback:Tx,useContext:aa,useEffect:H1,useImperativeHandle:Mx,useInsertionEffect:Ex,useLayoutEffect:Ix,useMemo:Fx,useReducer:ip,useRef:Lx,useState:function(){return ip(du)},useDebugValue:V1,useDeferredValue:function(e){var t=ia();return Ox(t,jn.memoizedState,e)},useTransition:function(){var e=ip(du)[0],t=ia().memoizedState;return[e,t]},useMutableSource:jx,useSyncExternalStore:Sx,useId:Rx,unstable_isNewReconciler:!1},G3={readContext:aa,useCallback:Tx,useContext:aa,useEffect:H1,useImperativeHandle:Mx,useInsertionEffect:Ex,useLayoutEffect:Ix,useMemo:Fx,useReducer:sp,useRef:Lx,useState:function(){return sp(du)},useDebugValue:V1,useDeferredValue:function(e){var t=ia();return jn===null?t.memoizedState=e:Ox(t,jn.memoizedState,e)},useTransition:function(){var e=sp(du)[0],t=ia().memoizedState;return[e,t]},useMutableSource:jx,useSyncExternalStore:Sx,useId:Rx,unstable_isNewReconciler:!1};function va(e,t){if(e&&e.defaultProps){t=tn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function im(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:tn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Af={isMounted:function(e){return(e=e._reactInternals)?ho(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=lr(),a=ps(e),i=xi(r,a);i.payload=t,n!=null&&(i.callback=n),t=hs(e,i,a),t!==null&&(ja(t,e,a,r),lh(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=lr(),a=ps(e),i=xi(r,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=hs(e,i,a),t!==null&&(ja(t,e,a,r),lh(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=lr(),r=ps(e),a=xi(n,r);a.tag=2,t!=null&&(a.callback=t),t=hs(e,a,r),t!==null&&(ja(t,e,r,n),lh(t,e,r))}};function z2(e,t,n,r,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!au(n,r)||!au(a,i):!0}function qx(e,t,n){var r=!1,a=ys,i=t.contextType;return typeof i=="object"&&i!==null?i=aa(i):(a=Sr(t)?no:nr.current,r=t.contextTypes,i=(r=r!=null)?Cl(e,a):ys),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Af,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function q2(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Af.enqueueReplaceState(t,t.state,null)}function sm(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},R1(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=aa(i):(i=Sr(t)?no:nr.current,a.context=Cl(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(im(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Af.enqueueReplaceState(a,a.state,null),qh(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Ll(e,t){try{var n="",r=t;do n+=N4(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function op(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function om(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Y3=typeof WeakMap=="function"?WeakMap:Map;function Ux(e,t,n){n=xi(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Kh||(Kh=!0,vm=r),om(e,t)},n}function Wx(e,t,n){n=xi(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){om(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){om(e,t),typeof r!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function U2(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Y3;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=cN.bind(null,e,t,n),t.then(e,e))}function W2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function H2(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=xi(-1,1),t.tag=2,hs(n,t,1))),n.lanes|=1),e)}var X3=_i.ReactCurrentOwner,Nr=!1;function sr(e,t,n,r){t.child=e===null?xx(t,null,n,r):Pl(t,e.child,n,r)}function V2(e,t,n,r,a){n=n.render;var i=t.ref;return ml(t,a),r=U1(e,t,n,r,i,a),n=W1(),e!==null&&!Nr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ci(e,t,a)):(Xt&&n&&E1(t),t.flags|=1,sr(e,t,r,a),t.child)}function K2(e,t,n,r,a){if(e===null){var i=n.type;return typeof i=="function"&&!eg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Hx(e,t,i,r,a)):(e=ph(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:au,n(s,r)&&e.ref===t.ref)return Ci(e,t,a)}return t.flags|=1,e=ms(i,r),e.ref=t.ref,e.return=t,t.child=e}function Hx(e,t,n,r,a){if(e!==null){var i=e.memoizedProps;if(au(i,r)&&e.ref===t.ref)if(Nr=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(Nr=!0);else return t.lanes=e.lanes,Ci(e,t,a)}return lm(e,t,n,r,a)}function Vx(e,t,n){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qt(ll,Tr),Tr|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qt(ll,Tr),Tr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,qt(ll,Tr),Tr|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,qt(ll,Tr),Tr|=r;return sr(e,t,a,n),t.child}function Kx(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function lm(e,t,n,r,a){var i=Sr(n)?no:nr.current;return i=Cl(t,i),ml(t,a),n=U1(e,t,n,r,i,a),r=W1(),e!==null&&!Nr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ci(e,t,a)):(Xt&&r&&E1(t),t.flags|=1,sr(e,t,n,a),t.child)}function G2(e,t,n,r,a){if(Sr(n)){var i=!0;Oh(t)}else i=!1;if(ml(t,a),t.stateNode===null)dh(e,t),qx(t,n,r),sm(t,n,r,a),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var c=s.context,d=n.contextType;typeof d=="object"&&d!==null?d=aa(d):(d=Sr(n)?no:nr.current,d=Cl(t,d));var p=n.getDerivedStateFromProps,f=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||c!==d)&&q2(t,s,r,d),Ji=!1;var v=t.memoizedState;s.state=v,qh(t,r,s,a),c=t.memoizedState,l!==r||v!==c||jr.current||Ji?(typeof p=="function"&&(im(t,n,p,r),c=t.memoizedState),(l=Ji||z2(t,n,l,r,v,c,d))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=d,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,wx(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:va(t.type,l),s.props=d,f=t.pendingProps,v=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=aa(c):(c=Sr(n)?no:nr.current,c=Cl(t,c));var m=n.getDerivedStateFromProps;(p=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==f||v!==c)&&q2(t,s,r,c),Ji=!1,v=t.memoizedState,s.state=v,qh(t,r,s,a);var j=t.memoizedState;l!==f||v!==j||jr.current||Ji?(typeof m=="function"&&(im(t,n,m,r),j=t.memoizedState),(d=Ji||z2(t,n,d,r,v,j,c)||!1)?(p||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,j,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,j,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=j),s.props=r,s.state=j,s.context=c,r=d):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),r=!1)}return cm(e,t,n,r,i,a)}function cm(e,t,n,r,a,i){Kx(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return a&&D2(t,n,!1),Ci(e,t,i);r=t.stateNode,X3.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Pl(t,e.child,null,i),t.child=Pl(t,null,l,i)):sr(e,t,l,i),t.memoizedState=r.state,a&&D2(t,n,!0),t.child}function Gx(e){var t=e.stateNode;t.pendingContext?I2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&I2(e,t.context,!1),B1(e,t.containerInfo)}function Y2(e,t,n,r,a){return Al(),D1(a),t.flags|=256,sr(e,t,n,r),t.child}var um={dehydrated:null,treeContext:null,retryLane:0};function dm(e){return{baseLanes:e,cachePool:null,transitions:null}}function Yx(e,t,n){var r=t.pendingProps,a=Zt.current,i=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),qt(Zt,a&1),e===null)return rm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Lf(s,r,0,null),e=Xs(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=dm(n),t.memoizedState=um,e):K1(t,s));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return J3(e,t,s,r,l,a,n);if(i){i=r.fallback,s=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=ms(a,c),r.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=ms(l,i):(i=Xs(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?dm(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=um,r}return i=e.child,e=i.sibling,r=ms(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function K1(e,t){return t=Lf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zd(e,t,n,r){return r!==null&&D1(r),Pl(t,e.child,null,n),e=K1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function J3(e,t,n,r,a,i,s){if(n)return t.flags&256?(t.flags&=-257,r=op(Error(Ee(422))),zd(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Lf({mode:"visible",children:r.children},a,0,null),i=Xs(i,a,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Pl(t,e.child,null,s),t.child.memoizedState=dm(s),t.memoizedState=um,i);if(!(t.mode&1))return zd(e,t,s,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(Ee(419)),r=op(i,r,void 0),zd(e,t,s,r)}if(l=(s&e.childLanes)!==0,Nr||l){if(r=Mn,r!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,ki(e,a),ja(r,e,a,-1))}return Z1(),r=op(Error(Ee(421))),zd(e,t,s,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=uN.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Fr=ds(a.nextSibling),Rr=t,Xt=!0,ba=null,e!==null&&(ea[ta++]=gi,ea[ta++]=vi,ea[ta++]=ro,gi=e.id,vi=e.overflow,ro=t),t=K1(t,r.children),t.flags|=4096,t)}function X2(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),am(e.return,t,n)}function lp(e,t,n,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Xx(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(sr(e,t,r.children,n),r=Zt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&X2(e,n,t);else if(e.tag===19)X2(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(qt(Zt,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Uh(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),lp(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Uh(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}lp(t,!0,n,null,i);break;case"together":lp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function dh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ci(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),io|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ee(153));if(t.child!==null){for(e=t.child,n=ms(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ms(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Q3(e,t,n){switch(t.tag){case 3:Gx(t),Al();break;case 5:Nx(t);break;case 1:Sr(t.type)&&Oh(t);break;case 4:B1(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;qt($h,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(qt(Zt,Zt.current&1),t.flags|=128,null):n&t.child.childLanes?Yx(e,t,n):(qt(Zt,Zt.current&1),e=Ci(e,t,n),e!==null?e.sibling:null);qt(Zt,Zt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Xx(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),qt(Zt,Zt.current),r)break;return null;case 22:case 23:return t.lanes=0,Vx(e,t,n)}return Ci(e,t,n)}var Jx,hm,Qx,Zx;Jx=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};hm=function(){};Qx=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ks(Ha.current);var i=null;switch(n){case"input":a=Mp(e,a),r=Mp(e,r),i=[];break;case"select":a=tn({},a,{value:void 0}),r=tn({},r,{value:void 0}),i=[];break;case"textarea":a=Op(e,a),r=Op(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Th)}Bp(n,r);var s;n=null;for(d in a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Jc.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=a!=null?a[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Jc.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ut("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Zx=function(e,t,n,r){n!==r&&(t.flags|=4)};function Sc(e,t){if(!Xt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Kn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Z3(e,t,n){var r=t.pendingProps;switch(I1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kn(t),null;case 1:return Sr(t.type)&&Fh(),Kn(t),null;case 3:return r=t.stateNode,_l(),Vt(jr),Vt(nr),z1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Bd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ba!==null&&(bm(ba),ba=null))),hm(e,t),Kn(t),null;case 5:$1(t);var a=Ks(cu.current);if(n=t.type,e!==null&&t.stateNode!=null)Qx(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ee(166));return Kn(t),null}if(e=Ks(Ha.current),Bd(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Ba]=t,r[ou]=i,e=(t.mode&1)!==0,n){case"dialog":Ut("cancel",r),Ut("close",r);break;case"iframe":case"object":case"embed":Ut("load",r);break;case"video":case"audio":for(a=0;a<Dc.length;a++)Ut(Dc[a],r);break;case"source":Ut("error",r);break;case"img":case"image":case"link":Ut("error",r),Ut("load",r);break;case"details":Ut("toggle",r);break;case"input":i2(r,i),Ut("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ut("invalid",r);break;case"textarea":o2(r,i),Ut("invalid",r)}Bp(n,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var l=i[s];s==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Rd(r.textContent,l,e),a=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Rd(r.textContent,l,e),a=["children",""+l]):Jc.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&Ut("scroll",r)}switch(n){case"input":Ld(r),s2(r,i,!0);break;case"textarea":Ld(r),l2(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Th)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ay(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Ba]=t,e[ou]=r,Jx(e,t,!1,!1),t.stateNode=e;e:{switch(s=$p(n,r),n){case"dialog":Ut("cancel",e),Ut("close",e),a=r;break;case"iframe":case"object":case"embed":Ut("load",e),a=r;break;case"video":case"audio":for(a=0;a<Dc.length;a++)Ut(Dc[a],e);a=r;break;case"source":Ut("error",e),a=r;break;case"img":case"image":case"link":Ut("error",e),Ut("load",e),a=r;break;case"details":Ut("toggle",e),a=r;break;case"input":i2(e,r),a=Mp(e,r),Ut("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=tn({},r,{value:void 0}),Ut("invalid",e);break;case"textarea":o2(e,r),a=Op(e,r),Ut("invalid",e);break;default:a=r}Bp(n,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Ly(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Py(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Qc(e,c):typeof c=="number"&&Qc(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Jc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ut("scroll",e):c!=null&&v1(e,i,c,s))}switch(n){case"input":Ld(e),s2(e,r,!1);break;case"textarea":Ld(e),l2(e);break;case"option":r.value!=null&&e.setAttribute("value",""+vs(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?dl(e,!!r.multiple,i,!1):r.defaultValue!=null&&dl(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Th)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Kn(t),null;case 6:if(e&&t.stateNode!=null)Zx(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ee(166));if(n=Ks(cu.current),Ks(Ha.current),Bd(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ba]=t,(i=r.nodeValue!==n)&&(e=Rr,e!==null))switch(e.tag){case 3:Rd(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Rd(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ba]=t,t.stateNode=r}return Kn(t),null;case 13:if(Vt(Zt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xt&&Fr!==null&&t.mode&1&&!(t.flags&128))vx(),Al(),t.flags|=98560,i=!1;else if(i=Bd(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Ee(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ee(317));i[Ba]=t}else Al(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Kn(t),i=!1}else ba!==null&&(bm(ba),ba=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Zt.current&1?Cn===0&&(Cn=3):Z1())),t.updateQueue!==null&&(t.flags|=4),Kn(t),null);case 4:return _l(),hm(e,t),e===null&&iu(t.stateNode.containerInfo),Kn(t),null;case 10:return F1(t.type._context),Kn(t),null;case 17:return Sr(t.type)&&Fh(),Kn(t),null;case 19:if(Vt(Zt),i=t.memoizedState,i===null)return Kn(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)Sc(i,!1);else{if(Cn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Uh(e),s!==null){for(t.flags|=128,Sc(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return qt(Zt,Zt.current&1|2),t.child}e=e.sibling}i.tail!==null&&hn()>El&&(t.flags|=128,r=!0,Sc(i,!1),t.lanes=4194304)}else{if(!r)if(e=Uh(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Sc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Xt)return Kn(t),null}else 2*hn()-i.renderingStartTime>El&&n!==1073741824&&(t.flags|=128,r=!0,Sc(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=hn(),t.sibling=null,n=Zt.current,qt(Zt,r?n&1|2:n&1),t):(Kn(t),null);case 22:case 23:return Q1(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Tr&1073741824&&(Kn(t),t.subtreeFlags&6&&(t.flags|=8192)):Kn(t),null;case 24:return null;case 25:return null}throw Error(Ee(156,t.tag))}function eN(e,t){switch(I1(t),t.tag){case 1:return Sr(t.type)&&Fh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _l(),Vt(jr),Vt(nr),z1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $1(t),null;case 13:if(Vt(Zt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ee(340));Al()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Vt(Zt),null;case 4:return _l(),null;case 10:return F1(t.type._context),null;case 22:case 23:return Q1(),null;case 24:return null;default:return null}}var qd=!1,Qn=!1,tN=typeof WeakSet=="function"?WeakSet:Set,He=null;function ol(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){on(e,t,r)}else n.current=null}function fm(e,t,n){try{n()}catch(r){on(e,t,r)}}var J2=!1;function nN(e,t){if(Xp=Ih,e=ax(),L1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,l=-1,c=-1,d=0,p=0,f=e,v=null;t:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(l=s+a),f!==i||r!==0&&f.nodeType!==3||(c=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)v=f,f=m;for(;;){if(f===e)break t;if(v===n&&++d===a&&(l=s),v===i&&++p===r&&(c=s),(m=f.nextSibling)!==null)break;f=v,v=f.parentNode}f=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jp={focusedElem:e,selectionRange:n},Ih=!1,He=t;He!==null;)if(t=He,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,He=e;else for(;He!==null;){t=He;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var w=j.memoizedProps,S=j.memoizedState,g=t.stateNode,x=g.getSnapshotBeforeUpdate(t.elementType===t.type?w:va(t.type,w),S);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ee(163))}}catch(P){on(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,He=e;break}He=t.return}return j=J2,J2=!1,j}function qc(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&fm(t,n,i)}a=a.next}while(a!==r)}}function Pf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function pm(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function e5(e){var t=e.alternate;t!==null&&(e.alternate=null,e5(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ba],delete t[ou],delete t[em],delete t[R3],delete t[B3])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function t5(e){return e.tag===5||e.tag===3||e.tag===4}function Q2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||t5(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Th));else if(r!==4&&(e=e.child,e!==null))for(mm(e,t,n),e=e.sibling;e!==null;)mm(e,t,n),e=e.sibling}function gm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(gm(e,t,n),e=e.sibling;e!==null;)gm(e,t,n),e=e.sibling}var Rn=null,xa=!1;function Hi(e,t,n){for(n=n.child;n!==null;)n5(e,t,n),n=n.sibling}function n5(e,t,n){if(Wa&&typeof Wa.onCommitFiberUnmount=="function")try{Wa.onCommitFiberUnmount(bf,n)}catch{}switch(n.tag){case 5:Qn||ol(n,t);case 6:var r=Rn,a=xa;Rn=null,Hi(e,t,n),Rn=r,xa=a,Rn!==null&&(xa?(e=Rn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Rn.removeChild(n.stateNode));break;case 18:Rn!==null&&(xa?(e=Rn,n=n.stateNode,e.nodeType===8?tp(e.parentNode,n):e.nodeType===1&&tp(e,n),nu(e)):tp(Rn,n.stateNode));break;case 4:r=Rn,a=xa,Rn=n.stateNode.containerInfo,xa=!0,Hi(e,t,n),Rn=r,xa=a;break;case 0:case 11:case 14:case 15:if(!Qn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&fm(n,t,s),a=a.next}while(a!==r)}Hi(e,t,n);break;case 1:if(!Qn&&(ol(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){on(n,t,l)}Hi(e,t,n);break;case 21:Hi(e,t,n);break;case 22:n.mode&1?(Qn=(r=Qn)||n.memoizedState!==null,Hi(e,t,n),Qn=r):Hi(e,t,n);break;default:Hi(e,t,n)}}function Z2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new tN),t.forEach(function(r){var a=dN.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function pa(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:Rn=l.stateNode,xa=!1;break e;case 3:Rn=l.stateNode.containerInfo,xa=!0;break e;case 4:Rn=l.stateNode.containerInfo,xa=!0;break e}l=l.return}if(Rn===null)throw Error(Ee(160));n5(i,s,a),Rn=null,xa=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){on(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)r5(t,e),t=t.sibling}function r5(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pa(t,e),Ta(e),r&4){try{qc(3,e,e.return),Pf(3,e)}catch(w){on(e,e.return,w)}try{qc(5,e,e.return)}catch(w){on(e,e.return,w)}}break;case 1:pa(t,e),Ta(e),r&512&&n!==null&&ol(n,n.return);break;case 5:if(pa(t,e),Ta(e),r&512&&n!==null&&ol(n,n.return),e.flags&32){var a=e.stateNode;try{Qc(a,"")}catch(w){on(e,e.return,w)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&ky(a,i),$p(l,s);var d=$p(l,i);for(s=0;s<c.length;s+=2){var p=c[s],f=c[s+1];p==="style"?Ly(a,f):p==="dangerouslySetInnerHTML"?Py(a,f):p==="children"?Qc(a,f):v1(a,p,f,d)}switch(l){case"input":Tp(a,i);break;case"textarea":Cy(a,i);break;case"select":var v=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?dl(a,!!i.multiple,m,!1):v!==!!i.multiple&&(i.defaultValue!=null?dl(a,!!i.multiple,i.defaultValue,!0):dl(a,!!i.multiple,i.multiple?[]:"",!1))}a[ou]=i}catch(w){on(e,e.return,w)}}break;case 6:if(pa(t,e),Ta(e),r&4){if(e.stateNode===null)throw Error(Ee(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(w){on(e,e.return,w)}}break;case 3:if(pa(t,e),Ta(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{nu(t.containerInfo)}catch(w){on(e,e.return,w)}break;case 4:pa(t,e),Ta(e);break;case 13:pa(t,e),Ta(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(X1=hn())),r&4&&Z2(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Qn=(d=Qn)||p,pa(t,e),Qn=d):pa(t,e),Ta(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!p&&e.mode&1)for(He=e,p=e.child;p!==null;){for(f=He=p;He!==null;){switch(v=He,m=v.child,v.tag){case 0:case 11:case 14:case 15:qc(4,v,v.return);break;case 1:ol(v,v.return);var j=v.stateNode;if(typeof j.componentWillUnmount=="function"){r=v,n=v.return;try{t=r,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(w){on(r,n,w)}}break;case 5:ol(v,v.return);break;case 22:if(v.memoizedState!==null){tv(f);continue}}m!==null?(m.return=v,He=m):tv(f)}p=p.sibling}e:for(p=null,f=e;;){if(f.tag===5){if(p===null){p=f;try{a=f.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=_y("display",s))}catch(w){on(e,e.return,w)}}}else if(f.tag===6){if(p===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(w){on(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:pa(t,e),Ta(e),r&4&&Z2(e);break;case 21:break;default:pa(t,e),Ta(e)}}function Ta(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(t5(n)){var r=n;break e}n=n.return}throw Error(Ee(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(Qc(a,""),r.flags&=-33);var i=Q2(e);gm(e,i,a);break;case 3:case 4:var s=r.stateNode.containerInfo,l=Q2(e);mm(e,l,s);break;default:throw Error(Ee(161))}}catch(c){on(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rN(e,t,n){He=e,a5(e)}function a5(e,t,n){for(var r=(e.mode&1)!==0;He!==null;){var a=He,i=a.child;if(a.tag===22&&r){var s=a.memoizedState!==null||qd;if(!s){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Qn;l=qd;var d=Qn;if(qd=s,(Qn=c)&&!d)for(He=a;He!==null;)s=He,c=s.child,s.tag===22&&s.memoizedState!==null?nv(a):c!==null?(c.return=s,He=c):nv(a);for(;i!==null;)He=i,a5(i),i=i.sibling;He=a,qd=l,Qn=d}ev(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,He=i):ev(e)}}function ev(e){for(;He!==null;){var t=He;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qn||Pf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Qn)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:va(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&R2(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}R2(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var f=p.dehydrated;f!==null&&nu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ee(163))}Qn||t.flags&512&&pm(t)}catch(v){on(t,t.return,v)}}if(t===e){He=null;break}if(n=t.sibling,n!==null){n.return=t.return,He=n;break}He=t.return}}function tv(e){for(;He!==null;){var t=He;if(t===e){He=null;break}var n=t.sibling;if(n!==null){n.return=t.return,He=n;break}He=t.return}}function nv(e){for(;He!==null;){var t=He;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Pf(4,t)}catch(c){on(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(c){on(t,a,c)}}var i=t.return;try{pm(t)}catch(c){on(t,i,c)}break;case 5:var s=t.return;try{pm(t)}catch(c){on(t,s,c)}}}catch(c){on(t,t.return,c)}if(t===e){He=null;break}var l=t.sibling;if(l!==null){l.return=t.return,He=l;break}He=t.return}}var aN=Math.ceil,Vh=_i.ReactCurrentDispatcher,G1=_i.ReactCurrentOwner,ra=_i.ReactCurrentBatchConfig,jt=0,Mn=null,xn=null,$n=0,Tr=0,ll=ks(0),Cn=0,fu=null,io=0,_f=0,Y1=0,Uc=null,wr=null,X1=0,El=1/0,hi=null,Kh=!1,vm=null,fs=null,Ud=!1,as=null,Gh=0,Wc=0,ym=null,hh=-1,fh=0;function lr(){return jt&6?hn():hh!==-1?hh:hh=hn()}function ps(e){return e.mode&1?jt&2&&$n!==0?$n&-$n:z3.transition!==null?(fh===0&&(fh=qy()),fh):(e=Dt,e!==0||(e=window.event,e=e===void 0?16:Yy(e.type)),e):1}function ja(e,t,n,r){if(50<Wc)throw Wc=0,ym=null,Error(Ee(185));Cu(e,n,r),(!(jt&2)||e!==Mn)&&(e===Mn&&(!(jt&2)&&(_f|=n),Cn===4&&es(e,$n)),kr(e,r),n===1&&jt===0&&!(t.mode&1)&&(El=hn()+500,kf&&Cs()))}function kr(e,t){var n=e.callbackNode;z4(e,t);var r=Eh(e,e===Mn?$n:0);if(r===0)n!==null&&d2(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&d2(n),t===1)e.tag===0?$3(rv.bind(null,e)):px(rv.bind(null,e)),F3(function(){!(jt&6)&&Cs()}),n=null;else{switch(Uy(r)){case 1:n=N1;break;case 4:n=$y;break;case 16:n=Lh;break;case 536870912:n=zy;break;default:n=Lh}n=h5(n,i5.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function i5(e,t){if(hh=-1,fh=0,jt&6)throw Error(Ee(327));var n=e.callbackNode;if(gl()&&e.callbackNode!==n)return null;var r=Eh(e,e===Mn?$n:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Yh(e,r);else{t=r;var a=jt;jt|=2;var i=o5();(Mn!==e||$n!==t)&&(hi=null,El=hn()+500,Ys(e,t));do try{oN();break}catch(l){s5(e,l)}while(1);T1(),Vh.current=i,jt=a,xn!==null?t=0:(Mn=null,$n=0,t=Cn)}if(t!==0){if(t===2&&(a=Hp(e),a!==0&&(r=a,t=xm(e,a))),t===1)throw n=fu,Ys(e,0),es(e,r),kr(e,hn()),n;if(t===6)es(e,r);else{if(a=e.current.alternate,!(r&30)&&!iN(a)&&(t=Yh(e,r),t===2&&(i=Hp(e),i!==0&&(r=i,t=xm(e,i))),t===1))throw n=fu,Ys(e,0),es(e,r),kr(e,hn()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(Ee(345));case 2:zs(e,wr,hi);break;case 3:if(es(e,r),(r&130023424)===r&&(t=X1+500-hn(),10<t)){if(Eh(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){lr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Zp(zs.bind(null,e,wr,hi),t);break}zs(e,wr,hi);break;case 4:if(es(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var s=31-Na(r);i=1<<s,s=t[s],s>a&&(a=s),r&=~i}if(r=a,r=hn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*aN(r/1960))-r,10<r){e.timeoutHandle=Zp(zs.bind(null,e,wr,hi),r);break}zs(e,wr,hi);break;case 5:zs(e,wr,hi);break;default:throw Error(Ee(329))}}}return kr(e,hn()),e.callbackNode===n?i5.bind(null,e):null}function xm(e,t){var n=Uc;return e.current.memoizedState.isDehydrated&&(Ys(e,t).flags|=256),e=Yh(e,t),e!==2&&(t=wr,wr=n,t!==null&&bm(t)),e}function bm(e){wr===null?wr=e:wr.push.apply(wr,e)}function iN(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!ka(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function es(e,t){for(t&=~Y1,t&=~_f,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Na(t),r=1<<n;e[n]=-1,t&=~r}}function rv(e){if(jt&6)throw Error(Ee(327));gl();var t=Eh(e,0);if(!(t&1))return kr(e,hn()),null;var n=Yh(e,t);if(e.tag!==0&&n===2){var r=Hp(e);r!==0&&(t=r,n=xm(e,r))}if(n===1)throw n=fu,Ys(e,0),es(e,t),kr(e,hn()),n;if(n===6)throw Error(Ee(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,zs(e,wr,hi),kr(e,hn()),null}function J1(e,t){var n=jt;jt|=1;try{return e(t)}finally{jt=n,jt===0&&(El=hn()+500,kf&&Cs())}}function so(e){as!==null&&as.tag===0&&!(jt&6)&&gl();var t=jt;jt|=1;var n=ra.transition,r=Dt;try{if(ra.transition=null,Dt=1,e)return e()}finally{Dt=r,ra.transition=n,jt=t,!(jt&6)&&Cs()}}function Q1(){Tr=ll.current,Vt(ll)}function Ys(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,T3(n)),xn!==null)for(n=xn.return;n!==null;){var r=n;switch(I1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fh();break;case 3:_l(),Vt(jr),Vt(nr),z1();break;case 5:$1(r);break;case 4:_l();break;case 13:Vt(Zt);break;case 19:Vt(Zt);break;case 10:F1(r.type._context);break;case 22:case 23:Q1()}n=n.return}if(Mn=e,xn=e=ms(e.current,null),$n=Tr=t,Cn=0,fu=null,Y1=_f=io=0,wr=Uc=null,Vs!==null){for(t=0;t<Vs.length;t++)if(n=Vs[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=a,r.next=s}n.pending=r}Vs=null}return e}function s5(e,t){do{var n=xn;try{if(T1(),ch.current=Hh,Wh){for(var r=en.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Wh=!1}if(ao=0,In=jn=en=null,zc=!1,uu=0,G1.current=null,n===null||n.return===null){Cn=1,fu=t,xn=null;break}e:{var i=e,s=n.return,l=n,c=t;if(t=$n,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,p=l,f=p.tag;if(!(p.mode&1)&&(f===0||f===11||f===15)){var v=p.alternate;v?(p.updateQueue=v.updateQueue,p.memoizedState=v.memoizedState,p.lanes=v.lanes):(p.updateQueue=null,p.memoizedState=null)}var m=W2(s);if(m!==null){m.flags&=-257,H2(m,s,l,i,t),m.mode&1&&U2(i,d,t),t=m,c=d;var j=t.updateQueue;if(j===null){var w=new Set;w.add(c),t.updateQueue=w}else j.add(c);break e}else{if(!(t&1)){U2(i,d,t),Z1();break e}c=Error(Ee(426))}}else if(Xt&&l.mode&1){var S=W2(s);if(S!==null){!(S.flags&65536)&&(S.flags|=256),H2(S,s,l,i,t),D1(Ll(c,l));break e}}i=c=Ll(c,l),Cn!==4&&(Cn=2),Uc===null?Uc=[i]:Uc.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Ux(i,c,t);O2(i,g);break e;case 1:l=c;var x=i.type,N=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(fs===null||!fs.has(N)))){i.flags|=65536,t&=-t,i.lanes|=t;var P=Wx(i,l,t);O2(i,P);break e}}i=i.return}while(i!==null)}c5(n)}catch(R){t=R,xn===n&&n!==null&&(xn=n=n.return);continue}break}while(1)}function o5(){var e=Vh.current;return Vh.current=Hh,e===null?Hh:e}function Z1(){(Cn===0||Cn===3||Cn===2)&&(Cn=4),Mn===null||!(io&268435455)&&!(_f&268435455)||es(Mn,$n)}function Yh(e,t){var n=jt;jt|=2;var r=o5();(Mn!==e||$n!==t)&&(hi=null,Ys(e,t));do try{sN();break}catch(a){s5(e,a)}while(1);if(T1(),jt=n,Vh.current=r,xn!==null)throw Error(Ee(261));return Mn=null,$n=0,Cn}function sN(){for(;xn!==null;)l5(xn)}function oN(){for(;xn!==null&&!I4();)l5(xn)}function l5(e){var t=d5(e.alternate,e,Tr);e.memoizedProps=e.pendingProps,t===null?c5(e):xn=t,G1.current=null}function c5(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=eN(n,t),n!==null){n.flags&=32767,xn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Cn=6,xn=null;return}}else if(n=Z3(n,t,Tr),n!==null){xn=n;return}if(t=t.sibling,t!==null){xn=t;return}xn=t=e}while(t!==null);Cn===0&&(Cn=5)}function zs(e,t,n){var r=Dt,a=ra.transition;try{ra.transition=null,Dt=1,lN(e,t,n,r)}finally{ra.transition=a,Dt=r}return null}function lN(e,t,n,r){do gl();while(as!==null);if(jt&6)throw Error(Ee(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ee(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(q4(e,i),e===Mn&&(xn=Mn=null,$n=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ud||(Ud=!0,h5(Lh,function(){return gl(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ra.transition,ra.transition=null;var s=Dt;Dt=1;var l=jt;jt|=4,G1.current=null,nN(e,n),r5(n,e),P3(Jp),Ih=!!Xp,Jp=Xp=null,e.current=n,rN(n),D4(),jt=l,Dt=s,ra.transition=i}else e.current=n;if(Ud&&(Ud=!1,as=e,Gh=a),i=e.pendingLanes,i===0&&(fs=null),F4(n.stateNode),kr(e,hn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Kh)throw Kh=!1,e=vm,vm=null,e;return Gh&1&&e.tag!==0&&gl(),i=e.pendingLanes,i&1?e===ym?Wc++:(Wc=0,ym=e):Wc=0,Cs(),null}function gl(){if(as!==null){var e=Uy(Gh),t=ra.transition,n=Dt;try{if(ra.transition=null,Dt=16>e?16:e,as===null)var r=!1;else{if(e=as,as=null,Gh=0,jt&6)throw Error(Ee(331));var a=jt;for(jt|=4,He=e.current;He!==null;){var i=He,s=i.child;if(He.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(He=d;He!==null;){var p=He;switch(p.tag){case 0:case 11:case 15:qc(8,p,i)}var f=p.child;if(f!==null)f.return=p,He=f;else for(;He!==null;){p=He;var v=p.sibling,m=p.return;if(e5(p),p===d){He=null;break}if(v!==null){v.return=m,He=v;break}He=m}}}var j=i.alternate;if(j!==null){var w=j.child;if(w!==null){j.child=null;do{var S=w.sibling;w.sibling=null,w=S}while(w!==null)}}He=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,He=s;else e:for(;He!==null;){if(i=He,i.flags&2048)switch(i.tag){case 0:case 11:case 15:qc(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,He=g;break e}He=i.return}}var x=e.current;for(He=x;He!==null;){s=He;var N=s.child;if(s.subtreeFlags&2064&&N!==null)N.return=s,He=N;else e:for(s=x;He!==null;){if(l=He,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Pf(9,l)}}catch(R){on(l,l.return,R)}if(l===s){He=null;break e}var P=l.sibling;if(P!==null){P.return=l.return,He=P;break e}He=l.return}}if(jt=a,Cs(),Wa&&typeof Wa.onPostCommitFiberRoot=="function")try{Wa.onPostCommitFiberRoot(bf,e)}catch{}r=!0}return r}finally{Dt=n,ra.transition=t}}return!1}function av(e,t,n){t=Ll(n,t),t=Ux(e,t,1),e=hs(e,t,1),t=lr(),e!==null&&(Cu(e,1,t),kr(e,t))}function on(e,t,n){if(e.tag===3)av(e,e,n);else for(;t!==null;){if(t.tag===3){av(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fs===null||!fs.has(r))){e=Ll(n,e),e=Wx(t,e,1),t=hs(t,e,1),e=lr(),t!==null&&(Cu(t,1,e),kr(t,e));break}}t=t.return}}function cN(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=lr(),e.pingedLanes|=e.suspendedLanes&n,Mn===e&&($n&n)===n&&(Cn===4||Cn===3&&($n&130023424)===$n&&500>hn()-X1?Ys(e,0):Y1|=n),kr(e,t)}function u5(e,t){t===0&&(e.mode&1?(t=Dd,Dd<<=1,!(Dd&130023424)&&(Dd=4194304)):t=1);var n=lr();e=ki(e,t),e!==null&&(Cu(e,t,n),kr(e,n))}function uN(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),u5(e,n)}function dN(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ee(314))}r!==null&&r.delete(t),u5(e,n)}var d5;d5=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||jr.current)Nr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Nr=!1,Q3(e,t,n);Nr=!!(e.flags&131072)}else Nr=!1,Xt&&t.flags&1048576&&mx(t,Bh,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;dh(e,t),e=t.pendingProps;var a=Cl(t,nr.current);ml(t,n),a=U1(null,t,r,e,a,n);var i=W1();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Sr(r)?(i=!0,Oh(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,R1(t),a.updater=Af,t.stateNode=a,a._reactInternals=t,sm(t,r,e,n),t=cm(null,t,r,!0,i,n)):(t.tag=0,Xt&&i&&E1(t),sr(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(dh(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=fN(r),e=va(r,e),a){case 0:t=lm(null,t,r,e,n);break e;case 1:t=G2(null,t,r,e,n);break e;case 11:t=V2(null,t,r,e,n);break e;case 14:t=K2(null,t,r,va(r.type,e),n);break e}throw Error(Ee(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:va(r,a),lm(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:va(r,a),G2(e,t,r,a,n);case 3:e:{if(Gx(t),e===null)throw Error(Ee(387));r=t.pendingProps,i=t.memoizedState,a=i.element,wx(e,t),qh(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Ll(Error(Ee(423)),t),t=Y2(e,t,r,n,a);break e}else if(r!==a){a=Ll(Error(Ee(424)),t),t=Y2(e,t,r,n,a);break e}else for(Fr=ds(t.stateNode.containerInfo.firstChild),Rr=t,Xt=!0,ba=null,n=xx(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Al(),r===a){t=Ci(e,t,n);break e}sr(e,t,r,n)}t=t.child}return t;case 5:return Nx(t),e===null&&rm(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,Qp(r,a)?s=null:i!==null&&Qp(r,i)&&(t.flags|=32),Kx(e,t),sr(e,t,s,n),t.child;case 6:return e===null&&rm(t),null;case 13:return Yx(e,t,n);case 4:return B1(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Pl(t,null,r,n):sr(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:va(r,a),V2(e,t,r,a,n);case 7:return sr(e,t,t.pendingProps,n),t.child;case 8:return sr(e,t,t.pendingProps.children,n),t.child;case 12:return sr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,qt($h,r._currentValue),r._currentValue=s,i!==null)if(ka(i.value,s)){if(i.children===a.children&&!jr.current){t=Ci(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){s=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=xi(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?c.next=c:(c.next=p.next,p.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),am(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(Ee(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),am(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}sr(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,ml(t,n),a=aa(a),r=r(a),t.flags|=1,sr(e,t,r,n),t.child;case 14:return r=t.type,a=va(r,t.pendingProps),a=va(r.type,a),K2(e,t,r,a,n);case 15:return Hx(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:va(r,a),dh(e,t),t.tag=1,Sr(r)?(e=!0,Oh(t)):e=!1,ml(t,n),qx(t,r,a),sm(t,r,a,n),cm(null,t,r,!0,e,n);case 19:return Xx(e,t,n);case 22:return Vx(e,t,n)}throw Error(Ee(156,t.tag))};function h5(e,t){return By(e,t)}function hN(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function na(e,t,n,r){return new hN(e,t,n,r)}function eg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fN(e){if(typeof e=="function")return eg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===x1)return 11;if(e===b1)return 14}return 2}function ms(e,t){var n=e.alternate;return n===null?(n=na(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ph(e,t,n,r,a,i){var s=2;if(r=e,typeof e=="function")eg(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Qo:return Xs(n.children,a,i,t);case y1:s=8,a|=8;break;case Lp:return e=na(12,n,t,a|2),e.elementType=Lp,e.lanes=i,e;case Ep:return e=na(13,n,t,a),e.elementType=Ep,e.lanes=i,e;case Ip:return e=na(19,n,t,a),e.elementType=Ip,e.lanes=i,e;case Ny:return Lf(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case by:s=10;break e;case wy:s=9;break e;case x1:s=11;break e;case b1:s=14;break e;case Xi:s=16,r=null;break e}throw Error(Ee(130,e==null?e:typeof e,""))}return t=na(s,n,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function Xs(e,t,n,r){return e=na(7,e,r,t),e.lanes=n,e}function Lf(e,t,n,r){return e=na(22,e,r,t),e.elementType=Ny,e.lanes=n,e.stateNode={isHidden:!1},e}function cp(e,t,n){return e=na(6,e,null,t),e.lanes=n,e}function up(e,t,n){return t=na(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function pN(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=W0(0),this.expirationTimes=W0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=W0(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function tg(e,t,n,r,a,i,s,l,c){return e=new pN(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=na(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},R1(i),e}function mN(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function f5(e){if(!e)return ys;e=e._reactInternals;e:{if(ho(e)!==e||e.tag!==1)throw Error(Ee(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Sr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ee(171))}if(e.tag===1){var n=e.type;if(Sr(n))return fx(e,n,t)}return t}function p5(e,t,n,r,a,i,s,l,c){return e=tg(n,r,!0,e,a,i,s,l,c),e.context=f5(null),n=e.current,r=lr(),a=ps(n),i=xi(r,a),i.callback=t??null,hs(n,i,a),e.current.lanes=a,Cu(e,a,r),kr(e,r),e}function Ef(e,t,n,r){var a=t.current,i=lr(),s=ps(a);return n=f5(n),t.context===null?t.context=n:t.pendingContext=n,t=xi(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=hs(a,t,s),e!==null&&(ja(e,a,s,i),lh(e,a,s)),s}function Xh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function iv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ng(e,t){iv(e,t),(e=e.alternate)&&iv(e,t)}function gN(){return null}var m5=typeof reportError=="function"?reportError:function(e){console.error(e)};function rg(e){this._internalRoot=e}If.prototype.render=rg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ee(409));Ef(e,t,null,null)};If.prototype.unmount=rg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;so(function(){Ef(null,e,null,null)}),t[Si]=null}};function If(e){this._internalRoot=e}If.prototype.unstable_scheduleHydration=function(e){if(e){var t=Vy();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Zi.length&&t!==0&&t<Zi[n].priority;n++);Zi.splice(n,0,e),n===0&&Gy(e)}};function ag(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Df(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function sv(){}function vN(e,t,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var d=Xh(s);i.call(d)}}var s=p5(t,r,e,0,null,!1,!1,"",sv);return e._reactRootContainer=s,e[Si]=s.current,iu(e.nodeType===8?e.parentNode:e),so(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var l=r;r=function(){var d=Xh(c);l.call(d)}}var c=tg(e,0,!1,null,null,!1,!1,"",sv);return e._reactRootContainer=c,e[Si]=c.current,iu(e.nodeType===8?e.parentNode:e),so(function(){Ef(t,c,n,r)}),c}function Mf(e,t,n,r,a){var i=n._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var l=a;a=function(){var c=Xh(s);l.call(c)}}Ef(t,s,e,a)}else s=vN(n,t,e,a,r);return Xh(s)}Wy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ic(t.pendingLanes);n!==0&&(j1(t,n|1),kr(t,hn()),!(jt&6)&&(El=hn()+500,Cs()))}break;case 13:so(function(){var r=ki(e,1);if(r!==null){var a=lr();ja(r,e,1,a)}}),ng(e,1)}};S1=function(e){if(e.tag===13){var t=ki(e,134217728);if(t!==null){var n=lr();ja(t,e,134217728,n)}ng(e,134217728)}};Hy=function(e){if(e.tag===13){var t=ps(e),n=ki(e,t);if(n!==null){var r=lr();ja(n,e,t,r)}ng(e,t)}};Vy=function(){return Dt};Ky=function(e,t){var n=Dt;try{return Dt=e,t()}finally{Dt=n}};qp=function(e,t,n){switch(t){case"input":if(Tp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=Sf(r);if(!a)throw Error(Ee(90));Sy(r),Tp(r,a)}}}break;case"textarea":Cy(e,n);break;case"select":t=n.value,t!=null&&dl(e,!!n.multiple,t,!1)}};Dy=J1;My=so;var yN={usingClientEntryPoint:!1,Events:[Pu,nl,Sf,Ey,Iy,J1]},kc={findFiberByHostInstance:Hs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xN={bundleType:kc.bundleType,version:kc.version,rendererPackageName:kc.rendererPackageName,rendererConfig:kc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_i.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Oy(e),e===null?null:e.stateNode},findFiberByHostInstance:kc.findFiberByHostInstance||gN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wd.isDisabled&&Wd.supportsFiber)try{bf=Wd.inject(xN),Wa=Wd}catch{}}zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yN;zr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ag(t))throw Error(Ee(200));return mN(e,t,null,n)};zr.createRoot=function(e,t){if(!ag(e))throw Error(Ee(299));var n=!1,r="",a=m5;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=tg(e,1,!1,null,null,n,!1,r,a),e[Si]=t.current,iu(e.nodeType===8?e.parentNode:e),new rg(t)};zr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ee(188)):(e=Object.keys(e).join(","),Error(Ee(268,e)));return e=Oy(t),e=e===null?null:e.stateNode,e};zr.flushSync=function(e){return so(e)};zr.hydrate=function(e,t,n){if(!Df(t))throw Error(Ee(200));return Mf(null,e,t,!0,n)};zr.hydrateRoot=function(e,t,n){if(!ag(e))throw Error(Ee(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",s=m5;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=p5(t,null,e,1,n??null,a,!1,i,s),e[Si]=t.current,iu(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new If(t)};zr.render=function(e,t,n){if(!Df(t))throw Error(Ee(200));return Mf(null,e,t,!1,n)};zr.unmountComponentAtNode=function(e){if(!Df(e))throw Error(Ee(40));return e._reactRootContainer?(so(function(){Mf(null,null,e,!1,function(){e._reactRootContainer=null,e[Si]=null})}),!0):!1};zr.unstable_batchedUpdates=J1;zr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Df(n))throw Error(Ee(200));if(e==null||e._reactInternals===void 0)throw Error(Ee(38));return Mf(e,t,n,!1,r)};zr.version="18.3.1-next-f1338f8080-20240426";function g5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(g5)}catch(e){console.error(e)}}g5(),gy.exports=zr;var bN=gy.exports,ov=bN;Pp.createRoot=ov.createRoot,Pp.hydrateRoot=ov.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pu(){return pu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pu.apply(this,arguments)}var is;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(is||(is={}));const lv="popstate";function wN(e){e===void 0&&(e={});function t(a,i){let{pathname:s="/",search:l="",hash:c=""}=fo(a.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),wm("",{pathname:s,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(a,i){let s=a.document.querySelector("base"),l="";if(s&&s.getAttribute("href")){let c=a.location.href,d=c.indexOf("#");l=d===-1?c:c.slice(0,d)}return l+"#"+(typeof i=="string"?i:Jh(i))}function r(a,i){ig(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return jN(t,n,r,e)}function ln(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ig(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function NN(){return Math.random().toString(36).substr(2,8)}function cv(e,t){return{usr:e.state,key:e.key,idx:t}}function wm(e,t,n,r){return n===void 0&&(n=null),pu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?fo(t):t,{state:n,key:t&&t.key||r||NN()})}function Jh(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function fo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function jN(e,t,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,s=a.history,l=is.Pop,c=null,d=p();d==null&&(d=0,s.replaceState(pu({},s.state,{idx:d}),""));function p(){return(s.state||{idx:null}).idx}function f(){l=is.Pop;let S=p(),g=S==null?null:S-d;d=S,c&&c({action:l,location:w.location,delta:g})}function v(S,g){l=is.Push;let x=wm(w.location,S,g);n&&n(x,S),d=p()+1;let N=cv(x,d),P=w.createHref(x);try{s.pushState(N,"",P)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;a.location.assign(P)}i&&c&&c({action:l,location:w.location,delta:1})}function m(S,g){l=is.Replace;let x=wm(w.location,S,g);n&&n(x,S),d=p();let N=cv(x,d),P=w.createHref(x);s.replaceState(N,"",P),i&&c&&c({action:l,location:w.location,delta:0})}function j(S){let g=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof S=="string"?S:Jh(S);return x=x.replace(/ $/,"%20"),ln(g,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,g)}let w={get action(){return l},get location(){return e(a,s)},listen(S){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(lv,f),c=S,()=>{a.removeEventListener(lv,f),c=null}},createHref(S){return t(a,S)},createURL:j,encodeLocation(S){let g=j(S);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:v,replace:m,go(S){return s.go(S)}};return w}var uv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(uv||(uv={}));function SN(e,t,n){return n===void 0&&(n="/"),kN(e,t,n,!1)}function kN(e,t,n,r){let a=typeof t=="string"?fo(t):t,i=Il(a.pathname||"/",n);if(i==null)return null;let s=v5(e);CN(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let d=ON(i);l=TN(s[c],d,r)}return l}function v5(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(i,s,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};c.relativePath.startsWith("/")&&(ln(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=gs([r,c.relativePath]),p=n.concat(c);i.children&&i.children.length>0&&(ln(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),v5(i.children,t,p,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:DN(d,i.index),routesMeta:p})};return e.forEach((i,s)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,s);else for(let c of y5(i.path))a(i,s,c)}),t}function y5(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let s=y5(r.join("/")),l=[];return l.push(...s.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...s),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function CN(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:MN(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const AN=/^:[\w-]+$/,PN=3,_N=2,LN=1,EN=10,IN=-2,dv=e=>e==="*";function DN(e,t){let n=e.split("/"),r=n.length;return n.some(dv)&&(r+=IN),t&&(r+=_N),n.filter(a=>!dv(a)).reduce((a,i)=>a+(AN.test(i)?PN:i===""?LN:EN),r)}function MN(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function TN(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,a={},i="/",s=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,p=i==="/"?t:t.slice(i.length)||"/",f=Qh({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},p),v=c.route;if(!f&&d&&n&&!r[r.length-1].route.index&&(f=Qh({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:gs([i,f.pathname]),pathnameBase:zN(gs([i,f.pathnameBase])),route:v}),f.pathnameBase!=="/"&&(i=gs([i,f.pathnameBase]))}return s}function Qh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=FN(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((d,p,f)=>{let{paramName:v,isOptional:m}=p;if(v==="*"){let w=l[f]||"";s=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const j=l[f];return m&&!j?d[v]=void 0:d[v]=(j||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:s,pattern:e}}function FN(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),ig(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function ON(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ig(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Il(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function RN(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?fo(e):e;return{pathname:n?n.startsWith("/")?n:BN(n,t):t,search:qN(r),hash:UN(a)}}function BN(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function dp(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $N(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function x5(e,t){let n=$N(e);return t?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function b5(e,t,n,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=fo(e):(a=pu({},e),ln(!a.pathname||!a.pathname.includes("?"),dp("?","pathname","search",a)),ln(!a.pathname||!a.pathname.includes("#"),dp("#","pathname","hash",a)),ln(!a.search||!a.search.includes("#"),dp("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,l;if(s==null)l=n;else{let f=t.length-1;if(!r&&s.startsWith("..")){let v=s.split("/");for(;v[0]==="..";)v.shift(),f-=1;a.pathname=v.join("/")}l=f>=0?t[f]:"/"}let c=RN(a,l),d=s&&s!=="/"&&s.endsWith("/"),p=(i||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||p)&&(c.pathname+="/"),c}const gs=e=>e.join("/").replace(/\/\/+/g,"/"),zN=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),qN=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,UN=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function WN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const w5=["post","put","patch","delete"];new Set(w5);const HN=["get",...w5];new Set(HN);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mu(){return mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mu.apply(this,arguments)}const Tf=W.createContext(null),N5=W.createContext(null),As=W.createContext(null),Ff=W.createContext(null),po=W.createContext({outlet:null,matches:[],isDataRoute:!1}),j5=W.createContext(null);function VN(e,t){let{relative:n}=t===void 0?{}:t;Lu()||ln(!1);let{basename:r,navigator:a}=W.useContext(As),{hash:i,pathname:s,search:l}=Of(e,{relative:n}),c=s;return r!=="/"&&(c=s==="/"?r:gs([r,s])),a.createHref({pathname:c,search:l,hash:i})}function Lu(){return W.useContext(Ff)!=null}function Li(){return Lu()||ln(!1),W.useContext(Ff).location}function S5(e){W.useContext(As).static||W.useLayoutEffect(e)}function Eu(){let{isDataRoute:e}=W.useContext(po);return e?i6():KN()}function KN(){Lu()||ln(!1);let e=W.useContext(Tf),{basename:t,future:n,navigator:r}=W.useContext(As),{matches:a}=W.useContext(po),{pathname:i}=Li(),s=JSON.stringify(x5(a,n.v7_relativeSplatPath)),l=W.useRef(!1);return S5(()=>{l.current=!0}),W.useCallback(function(d,p){if(p===void 0&&(p={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let f=b5(d,JSON.parse(s),i,p.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:gs([t,f.pathname])),(p.replace?r.replace:r.push)(f,p.state,p)},[t,r,s,i,e])}function Of(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=W.useContext(As),{matches:a}=W.useContext(po),{pathname:i}=Li(),s=JSON.stringify(x5(a,r.v7_relativeSplatPath));return W.useMemo(()=>b5(e,JSON.parse(s),i,n==="path"),[e,s,i,n])}function GN(e,t){return YN(e,t)}function YN(e,t,n,r){Lu()||ln(!1);let{navigator:a}=W.useContext(As),{matches:i}=W.useContext(po),s=i[i.length-1],l=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let d=Li(),p;if(t){var f;let S=typeof t=="string"?fo(t):t;c==="/"||(f=S.pathname)!=null&&f.startsWith(c)||ln(!1),p=S}else p=d;let v=p.pathname||"/",m=v;if(c!=="/"){let S=c.replace(/^\//,"").split("/");m="/"+v.replace(/^\//,"").split("/").slice(S.length).join("/")}let j=SN(e,{pathname:m}),w=e6(j&&j.map(S=>Object.assign({},S,{params:Object.assign({},l,S.params),pathname:gs([c,a.encodeLocation?a.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?c:gs([c,a.encodeLocation?a.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,n,r);return t&&w?W.createElement(Ff.Provider,{value:{location:mu({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:is.Pop}},w):w}function XN(){let e=a6(),t=WN(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},t),n?W.createElement("pre",{style:a},n):null,i)}const JN=W.createElement(XN,null);class QN extends W.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?W.createElement(po.Provider,{value:this.props.routeContext},W.createElement(j5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ZN(e){let{routeContext:t,match:n,children:r}=e,a=W.useContext(Tf);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),W.createElement(po.Provider,{value:t},r)}function e6(e,t,n,r){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,l=(a=n)==null?void 0:a.errors;if(l!=null){let p=s.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);p>=0||ln(!1),s=s.slice(0,Math.min(s.length,p+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<s.length;p++){let f=s[p];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=p),f.route.id){let{loaderData:v,errors:m}=n,j=f.route.loader&&v[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||j){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((p,f,v)=>{let m,j=!1,w=null,S=null;n&&(m=l&&f.route.id?l[f.route.id]:void 0,w=f.route.errorElement||JN,c&&(d<0&&v===0?(s6("route-fallback",!1),j=!0,S=null):d===v&&(j=!0,S=f.route.hydrateFallbackElement||null)));let g=t.concat(s.slice(0,v+1)),x=()=>{let N;return m?N=w:j?N=S:f.route.Component?N=W.createElement(f.route.Component,null):f.route.element?N=f.route.element:N=p,W.createElement(ZN,{match:f,routeContext:{outlet:p,matches:g,isDataRoute:n!=null},children:N})};return n&&(f.route.ErrorBoundary||f.route.errorElement||v===0)?W.createElement(QN,{location:n.location,revalidation:n.revalidation,component:w,error:m,children:x(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):x()},null)}var k5=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(k5||{}),Zh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Zh||{});function t6(e){let t=W.useContext(Tf);return t||ln(!1),t}function n6(e){let t=W.useContext(N5);return t||ln(!1),t}function r6(e){let t=W.useContext(po);return t||ln(!1),t}function C5(e){let t=r6(),n=t.matches[t.matches.length-1];return n.route.id||ln(!1),n.route.id}function a6(){var e;let t=W.useContext(j5),n=n6(Zh.UseRouteError),r=C5(Zh.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function i6(){let{router:e}=t6(k5.UseNavigateStable),t=C5(Zh.UseNavigateStable),n=W.useRef(!1);return S5(()=>{n.current=!0}),W.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,mu({fromRouteId:t},i)))},[e,t])}const hv={};function s6(e,t,n){!t&&!hv[e]&&(hv[e]=!0)}function o6(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Zr(e){ln(!1)}function l6(e){let{basename:t="/",children:n=null,location:r,navigationType:a=is.Pop,navigator:i,static:s=!1,future:l}=e;Lu()&&ln(!1);let c=t.replace(/^\/*/,"/"),d=W.useMemo(()=>({basename:c,navigator:i,static:s,future:mu({v7_relativeSplatPath:!1},l)}),[c,l,i,s]);typeof r=="string"&&(r=fo(r));let{pathname:p="/",search:f="",hash:v="",state:m=null,key:j="default"}=r,w=W.useMemo(()=>{let S=Il(p,c);return S==null?null:{location:{pathname:S,search:f,hash:v,state:m,key:j},navigationType:a}},[c,p,f,v,m,j,a]);return w==null?null:W.createElement(As.Provider,{value:d},W.createElement(Ff.Provider,{children:n,value:w}))}function c6(e){let{children:t,location:n}=e;return GN(Nm(t),n)}new Promise(()=>{});function Nm(e,t){t===void 0&&(t=[]);let n=[];return W.Children.forEach(e,(r,a)=>{if(!W.isValidElement(r))return;let i=[...t,a];if(r.type===W.Fragment){n.push.apply(n,Nm(r.props.children,i));return}r.type!==Zr&&ln(!1),!r.props.index||!r.props.children||ln(!1);let s={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Nm(r.props.children,i)),n.push(s)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ef(){return ef=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ef.apply(this,arguments)}function A5(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function u6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function d6(e,t){return e.button===0&&(!t||t==="_self")&&!u6(e)}const h6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],f6=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],p6="6";try{window.__reactRouterVersion=p6}catch{}const m6=W.createContext({isTransitioning:!1}),g6="startTransition",fv=c4[g6];function v6(e){let{basename:t,children:n,future:r,window:a}=e,i=W.useRef();i.current==null&&(i.current=wN({window:a,v5Compat:!0}));let s=i.current,[l,c]=W.useState({action:s.action,location:s.location}),{v7_startTransition:d}=r||{},p=W.useCallback(f=>{d&&fv?fv(()=>c(f)):c(f)},[c,d]);return W.useLayoutEffect(()=>s.listen(p),[s,p]),W.useEffect(()=>o6(r),[r]),W.createElement(l6,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:s,future:r})}const y6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",x6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,b6=W.forwardRef(function(t,n){let{onClick:r,relative:a,reloadDocument:i,replace:s,state:l,target:c,to:d,preventScrollReset:p,viewTransition:f}=t,v=A5(t,h6),{basename:m}=W.useContext(As),j,w=!1;if(typeof d=="string"&&x6.test(d)&&(j=d,y6))try{let N=new URL(window.location.href),P=d.startsWith("//")?new URL(N.protocol+d):new URL(d),R=Il(P.pathname,m);P.origin===N.origin&&R!=null?d=R+P.search+P.hash:w=!0}catch{}let S=VN(d,{relative:a}),g=N6(d,{replace:s,state:l,target:c,preventScrollReset:p,relative:a,viewTransition:f});function x(N){r&&r(N),N.defaultPrevented||g(N)}return W.createElement("a",ef({},v,{href:j||S,onClick:w||i?r:x,ref:n,target:c}))}),pv=W.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:a=!1,className:i="",end:s=!1,style:l,to:c,viewTransition:d,children:p}=t,f=A5(t,f6),v=Of(c,{relative:f.relative}),m=Li(),j=W.useContext(N5),{navigator:w,basename:S}=W.useContext(As),g=j!=null&&j6(v)&&d===!0,x=w.encodeLocation?w.encodeLocation(v).pathname:v.pathname,N=m.pathname,P=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;a||(N=N.toLowerCase(),P=P?P.toLowerCase():null,x=x.toLowerCase()),P&&S&&(P=Il(P,S)||P);const R=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let q=N===x||!s&&N.startsWith(x)&&N.charAt(R)==="/",M=P!=null&&(P===x||!s&&P.startsWith(x)&&P.charAt(x.length)==="/"),F={isActive:q,isPending:M,isTransitioning:g},H=q?r:void 0,re;typeof i=="function"?re=i(F):re=[i,q?"active":null,M?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let I=typeof l=="function"?l(F):l;return W.createElement(b6,ef({},f,{"aria-current":H,className:re,ref:n,style:I,to:c,viewTransition:d}),typeof p=="function"?p(F):p)});var jm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(jm||(jm={}));var mv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(mv||(mv={}));function w6(e){let t=W.useContext(Tf);return t||ln(!1),t}function N6(e,t){let{target:n,replace:r,state:a,preventScrollReset:i,relative:s,viewTransition:l}=t===void 0?{}:t,c=Eu(),d=Li(),p=Of(e,{relative:s});return W.useCallback(f=>{if(d6(f,n)){f.preventDefault();let v=r!==void 0?r:Jh(d)===Jh(p);c(e,{replace:v,state:a,preventScrollReset:i,relative:s,viewTransition:l})}},[d,c,p,r,a,n,e,i,s,l])}function j6(e,t){t===void 0&&(t={});let n=W.useContext(m6);n==null&&ln(!1);let{basename:r}=w6(jm.useViewTransitionState),a=Of(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=Il(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Il(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Qh(a.pathname,s)!=null||Qh(a.pathname,i)!=null}let S6={data:""},k6=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||S6,C6=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,A6=/\/\*[^]*?\*\/|  +/g,gv=/\n+/g,ts=(e,t)=>{let n="",r="",a="";for(let i in e){let s=e[i];i[0]=="@"?i[1]=="i"?n=i+" "+s+";":r+=i[1]=="f"?ts(s,i):i+"{"+ts(s,i[1]=="k"?"":t)+"}":typeof s=="object"?r+=ts(s,t?t.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):s!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=ts.p?ts.p(i,s):i+":"+s+";")}return n+(t&&a?t+"{"+a+"}":a)+r},ci={},P5=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+P5(e[n]);return t}return e},P6=(e,t,n,r,a)=>{let i=P5(e),s=ci[i]||(ci[i]=(c=>{let d=0,p=11;for(;d<c.length;)p=101*p+c.charCodeAt(d++)>>>0;return"go"+p})(i));if(!ci[s]){let c=i!==e?e:(d=>{let p,f,v=[{}];for(;p=C6.exec(d.replace(A6,""));)p[4]?v.shift():p[3]?(f=p[3].replace(gv," ").trim(),v.unshift(v[0][f]=v[0][f]||{})):v[0][p[1]]=p[2].replace(gv," ").trim();return v[0]})(e);ci[s]=ts(a?{["@keyframes "+s]:c}:c,n?"":"."+s)}let l=n&&ci.g?ci.g:null;return n&&(ci.g=ci[s]),((c,d,p,f)=>{f?d.data=d.data.replace(f,c):d.data.indexOf(c)===-1&&(d.data=p?c+d.data:d.data+c)})(ci[s],t,r,l),s},_6=(e,t,n)=>e.reduce((r,a,i)=>{let s=t[i];if(s&&s.call){let l=s(n),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;s=c?"."+c:l&&typeof l=="object"?l.props?"":ts(l,""):l===!1?"":l}return r+a+(s??"")},"");function Rf(e){let t=this||{},n=e.call?e(t.p):e;return P6(n.unshift?n.raw?_6(n,[].slice.call(arguments,1),t.p):n.reduce((r,a)=>Object.assign(r,a&&a.call?a(t.p):a),{}):n,k6(t.target),t.g,t.o,t.k)}let _5,Sm,km;Rf.bind({g:1});let Ai=Rf.bind({k:1});function L6(e,t,n,r){ts.p=t,_5=e,Sm=n,km=r}function Ps(e,t){let n=this||{};return function(){let r=arguments;function a(i,s){let l=Object.assign({},i),c=l.className||a.className;n.p=Object.assign({theme:Sm&&Sm()},l),n.o=/ *go\d+/.test(c),l.className=Rf.apply(n,r)+(c?" "+c:""),t&&(l.ref=s);let d=e;return e[0]&&(d=l.as||e,delete l.as),km&&d[0]&&km(l),_5(d,l)}return t?t(a):a}}var E6=e=>typeof e=="function",tf=(e,t)=>E6(e)?e(t):e,I6=(()=>{let e=0;return()=>(++e).toString()})(),L5=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),D6=20,sg="default",E5=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case 2:let{toast:r}=t;return E5(e,{type:e.toasts.find(s=>s.id===r.id)?1:0,toast:r});case 3:let{toastId:a}=t;return{...e,toasts:e.toasts.map(s=>s.id===a||a===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},mh=[],I5={toasts:[],pausedAt:void 0,settings:{toastLimit:D6}},qa={},D5=(e,t=sg)=>{qa[t]=E5(qa[t]||I5,e),mh.forEach(([n,r])=>{n===t&&r(qa[t])})},M5=e=>Object.keys(qa).forEach(t=>D5(e,t)),M6=e=>Object.keys(qa).find(t=>qa[t].toasts.some(n=>n.id===e)),Bf=(e=sg)=>t=>{D5(t,e)},T6={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},F6=(e={},t=sg)=>{let[n,r]=W.useState(qa[t]||I5),a=W.useRef(qa[t]);W.useEffect(()=>(a.current!==qa[t]&&r(qa[t]),mh.push([t,r]),()=>{let s=mh.findIndex(([l])=>l===t);s>-1&&mh.splice(s,1)}),[t]);let i=n.toasts.map(s=>{var l,c,d;return{...e,...e[s.type],...s,removeDelay:s.removeDelay||((l=e[s.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:s.duration||((c=e[s.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||T6[s.type],style:{...e.style,...(d=e[s.type])==null?void 0:d.style,...s.style}}});return{...n,toasts:i}},O6=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||I6()}),Iu=e=>(t,n)=>{let r=O6(t,e,n);return Bf(r.toasterId||M6(r.id))({type:2,toast:r}),r.id},Sn=(e,t)=>Iu("blank")(e,t);Sn.error=Iu("error");Sn.success=Iu("success");Sn.loading=Iu("loading");Sn.custom=Iu("custom");Sn.dismiss=(e,t)=>{let n={type:3,toastId:e};t?Bf(t)(n):M5(n)};Sn.dismissAll=e=>Sn.dismiss(void 0,e);Sn.remove=(e,t)=>{let n={type:4,toastId:e};t?Bf(t)(n):M5(n)};Sn.removeAll=e=>Sn.remove(void 0,e);Sn.promise=(e,t,n)=>{let r=Sn.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let i=t.success?tf(t.success,a):void 0;return i?Sn.success(i,{id:r,...n,...n==null?void 0:n.success}):Sn.dismiss(r),a}).catch(a=>{let i=t.error?tf(t.error,a):void 0;i?Sn.error(i,{id:r,...n,...n==null?void 0:n.error}):Sn.dismiss(r)}),e};var R6=1e3,B6=(e,t="default")=>{let{toasts:n,pausedAt:r}=F6(e,t),a=W.useRef(new Map).current,i=W.useCallback((f,v=R6)=>{if(a.has(f))return;let m=setTimeout(()=>{a.delete(f),s({type:4,toastId:f})},v);a.set(f,m)},[]);W.useEffect(()=>{if(r)return;let f=Date.now(),v=n.map(m=>{if(m.duration===1/0)return;let j=(m.duration||0)+m.pauseDuration-(f-m.createdAt);if(j<0){m.visible&&Sn.dismiss(m.id);return}return setTimeout(()=>Sn.dismiss(m.id,t),j)});return()=>{v.forEach(m=>m&&clearTimeout(m))}},[n,r,t]);let s=W.useCallback(Bf(t),[t]),l=W.useCallback(()=>{s({type:5,time:Date.now()})},[s]),c=W.useCallback((f,v)=>{s({type:1,toast:{id:f,height:v}})},[s]),d=W.useCallback(()=>{r&&s({type:6,time:Date.now()})},[r,s]),p=W.useCallback((f,v)=>{let{reverseOrder:m=!1,gutter:j=8,defaultPosition:w}=v||{},S=n.filter(N=>(N.position||w)===(f.position||w)&&N.height),g=S.findIndex(N=>N.id===f.id),x=S.filter((N,P)=>P<g&&N.visible).length;return S.filter(N=>N.visible).slice(...m?[x+1]:[0,x]).reduce((N,P)=>N+(P.height||0)+j,0)},[n]);return W.useEffect(()=>{n.forEach(f=>{if(f.dismissed)i(f.id,f.removeDelay);else{let v=a.get(f.id);v&&(clearTimeout(v),a.delete(f.id))}})},[n,i]),{toasts:n,handlers:{updateHeight:c,startPause:l,endPause:d,calculateOffset:p}}},$6=Ai`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,z6=Ai`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,q6=Ai`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,U6=Ps("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${$6} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${z6} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${q6} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,W6=Ai`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,H6=Ps("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${W6} 1s linear infinite;
`,V6=Ai`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,K6=Ai`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,G6=Ps("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${V6} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${K6} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Y6=Ps("div")`
  position: absolute;
`,X6=Ps("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,J6=Ai`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Q6=Ps("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${J6} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Z6=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?W.createElement(Q6,null,t):t:n==="blank"?null:W.createElement(X6,null,W.createElement(H6,{...r}),n!=="loading"&&W.createElement(Y6,null,n==="error"?W.createElement(U6,{...r}):W.createElement(G6,{...r})))},ej=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,tj=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,nj="0%{opacity:0;} 100%{opacity:1;}",rj="0%{opacity:1;} 100%{opacity:0;}",aj=Ps("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,ij=Ps("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,sj=(e,t)=>{let n=e.includes("top")?1:-1,[r,a]=L5()?[nj,rj]:[ej(n),tj(n)];return{animation:t?`${Ai(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ai(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},oj=W.memo(({toast:e,position:t,style:n,children:r})=>{let a=e.height?sj(e.position||t||"top-center",e.visible):{opacity:0},i=W.createElement(Z6,{toast:e}),s=W.createElement(ij,{...e.ariaProps},tf(e.message,e));return W.createElement(aj,{className:e.className,style:{...a,...n,...e.style}},typeof r=="function"?r({icon:i,message:s}):W.createElement(W.Fragment,null,i,s))});L6(W.createElement);var lj=({id:e,className:t,style:n,onHeightUpdate:r,children:a})=>{let i=W.useCallback(s=>{if(s){let l=()=>{let c=s.getBoundingClientRect().height;r(e,c)};l(),new MutationObserver(l).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return W.createElement("div",{ref:i,className:t,style:n},a)},cj=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:L5()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...a}},uj=Rf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Hd=16,dj=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:a,toasterId:i,containerStyle:s,containerClassName:l})=>{let{toasts:c,handlers:d}=B6(n,i);return W.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:Hd,left:Hd,right:Hd,bottom:Hd,pointerEvents:"none",...s},className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map(p=>{let f=p.position||t,v=d.calculateOffset(p,{reverseOrder:e,gutter:r,defaultPosition:t}),m=cj(f,v);return W.createElement(lj,{id:p.id,key:p.id,onHeightUpdate:d.updateHeight,className:p.visible?uj:"",style:m},p.type==="custom"?tf(p.message,p):a?a(p):W.createElement(oj,{toast:p,position:f}))}))},De=Sn,hj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const fj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pj=(e,t)=>{const n=W.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,children:l,...c},d)=>W.createElement("svg",{ref:d,...hj,width:a,height:a,stroke:r,strokeWidth:s?Number(i)*24/Number(a):i,className:`lucide lucide-${fj(e)}`,...c},[...t.map(([p,f])=>W.createElement(p,f)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${e}`,n};var et=pj;const nf=et("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),mj=et("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),gj=et("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),$f=et("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),vj=et("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),gu=et("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),T5=et("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]),yj=et("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Du=et("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),bi=et("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),xj=et("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),F5=et("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),O5=et("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),bj=et("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),wj=et("Flower",[["path",{d:"M12 7.5a4.5 4.5 0 1 1 4.5 4.5M12 7.5A4.5 4.5 0 1 0 7.5 12M12 7.5V9m-4.5 3a4.5 4.5 0 1 0 4.5 4.5M7.5 12H9m7.5 0a4.5 4.5 0 1 1-4.5 4.5m4.5-4.5H15m-3 4.5V15",key:"51z86h"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"m8 16 1.5-1.5",key:"ce6zph"}],["path",{d:"M14.5 9.5 16 8",key:"1kzrzb"}],["path",{d:"m8 8 1.5 1.5",key:"1yv88w"}],["path",{d:"M14.5 14.5 16 16",key:"12xhjh"}]]),Nj=et("Grid",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}],["line",{x1:"15",x2:"15",y1:"3",y2:"21",key:"1hpv9i"}]]),R5=et("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Cm=et("Layout",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"9",x2:"9",y1:"21",y2:"9",key:"wpwpyp"}]]),B5=et("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),$5=et("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),og=et("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Dl=et("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),jj=et("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),z5=et("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),Am=et("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),Sj=et("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),zf=et("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),q5=et("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),lg=et("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),kj=et("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Bn=et("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Cj=et("Power",[["path",{d:"M18.36 6.64a9 9 0 1 1-12.73 0",key:"phirl6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"12",key:"aemgbe"}]]),Aj=et("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),Js=et("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]),Pj=et("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),_j=et("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),Lj=et("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]),Rl=et("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),mo=et("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),qf=et("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),U5=et("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),W5=et("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]),Ej=et("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),vv=et("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),Ca=et("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),kn=et("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),rf=et("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Ij=et("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]),Dj=et("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),Mj=et("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),hr=et("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),H5=W.createContext(void 0),Tj=({children:e})=>{const[t,n]=W.useState(!1),[r,a]=W.useState(navigator.onLine),[i,s]=W.useState(null);W.useEffect(()=>{(async()=>{try{console.log("Inicializando aplicación..."),await new Promise(d=>setTimeout(d,500)),n(!0),console.log("Aplicación inicializada correctamente")}catch(d){console.error("Error de inicialización:",d),n(!0)}})()},[]),W.useEffect(()=>{const c=()=>a(!0),d=()=>a(!1);return window.addEventListener("online",c),window.addEventListener("offline",d),()=>{window.removeEventListener("online",c),window.removeEventListener("offline",d)}},[]);const l={isReady:t,isOnline:r,lastSync:i};return o.jsx(H5.Provider,{value:l,children:e})},V5=()=>{const e=W.useContext(H5);if(e===void 0)throw new Error("useDatabase must be used within a DatabaseProvider");return e};function At(e){"@babel/helpers - typeof";return At=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},At(e)}function oo(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function fr(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Ka(e){fr(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||At(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Fj(e,t){fr(2,arguments);var n=Ka(e).getTime(),r=oo(t);return new Date(n+r)}var Oj={};function Uf(){return Oj}function Rj(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Bj(e){return fr(1,arguments),e instanceof Date||At(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function $j(e){if(fr(1,arguments),!Bj(e)&&typeof e!="number")return!1;var t=Ka(e);return!isNaN(Number(t))}function zj(e,t){fr(2,arguments);var n=oo(t);return Fj(e,-n)}var qj=864e5;function Uj(e){fr(1,arguments);var t=Ka(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),a=n-r;return Math.floor(a/qj)+1}function af(e){fr(1,arguments);var t=1,n=Ka(e),r=n.getUTCDay(),a=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-a),n.setUTCHours(0,0,0,0),n}function K5(e){fr(1,arguments);var t=Ka(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var a=af(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var s=af(i);return t.getTime()>=a.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function Wj(e){fr(1,arguments);var t=K5(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=af(n);return r}var Hj=6048e5;function Vj(e){fr(1,arguments);var t=Ka(e),n=af(t).getTime()-Wj(t).getTime();return Math.round(n/Hj)+1}function sf(e,t){var n,r,a,i,s,l,c,d;fr(1,arguments);var p=Uf(),f=oo((n=(r=(a=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&a!==void 0?a:p.weekStartsOn)!==null&&r!==void 0?r:(c=p.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=Ka(e),m=v.getUTCDay(),j=(m<f?7:0)+m-f;return v.setUTCDate(v.getUTCDate()-j),v.setUTCHours(0,0,0,0),v}function G5(e,t){var n,r,a,i,s,l,c,d;fr(1,arguments);var p=Ka(e),f=p.getUTCFullYear(),v=Uf(),m=oo((n=(r=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&a!==void 0?a:v.firstWeekContainsDate)!==null&&r!==void 0?r:(c=v.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var j=new Date(0);j.setUTCFullYear(f+1,0,m),j.setUTCHours(0,0,0,0);var w=sf(j,t),S=new Date(0);S.setUTCFullYear(f,0,m),S.setUTCHours(0,0,0,0);var g=sf(S,t);return p.getTime()>=w.getTime()?f+1:p.getTime()>=g.getTime()?f:f-1}function Kj(e,t){var n,r,a,i,s,l,c,d;fr(1,arguments);var p=Uf(),f=oo((n=(r=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&a!==void 0?a:p.firstWeekContainsDate)!==null&&r!==void 0?r:(c=p.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1),v=G5(e,t),m=new Date(0);m.setUTCFullYear(v,0,f),m.setUTCHours(0,0,0,0);var j=sf(m,t);return j}var Gj=6048e5;function Yj(e,t){fr(1,arguments);var n=Ka(e),r=sf(n,t).getTime()-Kj(n,t).getTime();return Math.round(r/Gj)+1}function It(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var Xj={y:function(t,n){var r=t.getUTCFullYear(),a=r>0?r:1-r;return It(n==="yy"?a%100:a,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):It(r+1,2)},d:function(t,n){return It(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return It(t.getUTCHours()%12||12,n.length)},H:function(t,n){return It(t.getUTCHours(),n.length)},m:function(t,n){return It(t.getUTCMinutes(),n.length)},s:function(t,n){return It(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,a=t.getUTCMilliseconds(),i=Math.floor(a*Math.pow(10,r-3));return It(i,n.length)}};const Vi=Xj;var Uo={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Jj={G:function(t,n,r){var a=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var a=t.getUTCFullYear(),i=a>0?a:1-a;return r.ordinalNumber(i,{unit:"year"})}return Vi.y(t,n)},Y:function(t,n,r,a){var i=G5(t,a),s=i>0?i:1-i;if(n==="YY"){var l=s%100;return It(l,2)}return n==="Yo"?r.ordinalNumber(s,{unit:"year"}):It(s,n.length)},R:function(t,n){var r=K5(t);return It(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return It(r,n.length)},Q:function(t,n,r){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(a);case"QQ":return It(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,n,r){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(a);case"qq":return It(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,n,r){var a=t.getUTCMonth();switch(n){case"M":case"MM":return Vi.M(t,n);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(t,n,r){var a=t.getUTCMonth();switch(n){case"L":return String(a+1);case"LL":return It(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(t,n,r,a){var i=Yj(t,a);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):It(i,n.length)},I:function(t,n,r){var a=Vj(t);return n==="Io"?r.ordinalNumber(a,{unit:"week"}):It(a,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):Vi.d(t,n)},D:function(t,n,r){var a=Uj(t);return n==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):It(a,n.length)},E:function(t,n,r){var a=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(t,n,r,a){var i=t.getUTCDay(),s=(i-a.weekStartsOn+8)%7||7;switch(n){case"e":return String(s);case"ee":return It(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,n,r,a){var i=t.getUTCDay(),s=(i-a.weekStartsOn+8)%7||7;switch(n){case"c":return String(s);case"cc":return It(s,n.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,n,r){var a=t.getUTCDay(),i=a===0?7:a;switch(n){case"i":return String(i);case"ii":return It(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(t,n,r){var a=t.getUTCHours(),i=a/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,n,r){var a=t.getUTCHours(),i;switch(a===12?i=Uo.noon:a===0?i=Uo.midnight:i=a/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,n,r){var a=t.getUTCHours(),i;switch(a>=17?i=Uo.evening:a>=12?i=Uo.afternoon:a>=4?i=Uo.morning:i=Uo.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return Vi.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Vi.H(t,n)},K:function(t,n,r){var a=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(a,{unit:"hour"}):It(a,n.length)},k:function(t,n,r){var a=t.getUTCHours();return a===0&&(a=24),n==="ko"?r.ordinalNumber(a,{unit:"hour"}):It(a,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Vi.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Vi.s(t,n)},S:function(t,n){return Vi.S(t,n)},X:function(t,n,r,a){var i=a._originalDate||t,s=i.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return xv(s);case"XXXX":case"XX":return qs(s);case"XXXXX":case"XXX":default:return qs(s,":")}},x:function(t,n,r,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(n){case"x":return xv(s);case"xxxx":case"xx":return qs(s);case"xxxxx":case"xxx":default:return qs(s,":")}},O:function(t,n,r,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+yv(s,":");case"OOOO":default:return"GMT"+qs(s,":")}},z:function(t,n,r,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+yv(s,":");case"zzzz":default:return"GMT"+qs(s,":")}},t:function(t,n,r,a){var i=a._originalDate||t,s=Math.floor(i.getTime()/1e3);return It(s,n.length)},T:function(t,n,r,a){var i=a._originalDate||t,s=i.getTime();return It(s,n.length)}};function yv(e,t){var n=e>0?"-":"+",r=Math.abs(e),a=Math.floor(r/60),i=r%60;if(i===0)return n+String(a);var s=t||"";return n+String(a)+s+It(i,2)}function xv(e,t){if(e%60===0){var n=e>0?"-":"+";return n+It(Math.abs(e)/60,2)}return qs(e,t)}function qs(e,t){var n=t||"",r=e>0?"-":"+",a=Math.abs(e),i=It(Math.floor(a/60),2),s=It(a%60,2);return r+i+n+s}const Qj=Jj;var bv=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Y5=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Zj=function(t,n){var r=t.match(/(P+)(p+)?/)||[],a=r[1],i=r[2];if(!i)return bv(t,n);var s;switch(a){case"P":s=n.dateTime({width:"short"});break;case"PP":s=n.dateTime({width:"medium"});break;case"PPP":s=n.dateTime({width:"long"});break;case"PPPP":default:s=n.dateTime({width:"full"});break}return s.replace("{{date}}",bv(a,n)).replace("{{time}}",Y5(i,n))},eS={p:Y5,P:Zj};const tS=eS;var nS=["D","DD"],rS=["YY","YYYY"];function aS(e){return nS.indexOf(e)!==-1}function iS(e){return rS.indexOf(e)!==-1}function wv(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var sS={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},oS=function(t,n,r){var a,i=sS[t];return typeof i=="string"?a=i:n===1?a=i.one:a=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};const lS=oS;function vl(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var cS={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},uS={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dS={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},hS={date:vl({formats:cS,defaultWidth:"full"}),time:vl({formats:uS,defaultWidth:"full"}),dateTime:vl({formats:dS,defaultWidth:"full"})};const fS=hS;var pS={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},mS=function(t,n,r,a){return pS[t]};const gS=mS;function $a(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",a;if(r==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,s=n!=null&&n.width?String(n.width):i;a=e.formattingValues[s]||e.formattingValues[i]}else{var l=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[c]||e.values[l]}var d=e.argumentCallback?e.argumentCallback(t):t;return a[d]}}var vS={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},yS={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},xS={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},bS={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},wS={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},NS={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},jS=function(t,n){var r=Number(t),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},SS={ordinalNumber:jS,era:$a({values:vS,defaultWidth:"wide"}),quarter:$a({values:yS,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:$a({values:xS,defaultWidth:"wide"}),day:$a({values:bS,defaultWidth:"wide"}),dayPeriod:$a({values:wS,defaultWidth:"wide",formattingValues:NS,defaultFormattingWidth:"wide"})};const kS=SS;function za(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;var s=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?AS(l,function(f){return f.test(s)}):CS(l,function(f){return f.test(s)}),d;d=e.valueCallback?e.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;var p=t.slice(s.length);return{value:d,rest:p}}}function CS(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function AS(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function X5(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var a=r[0],i=t.match(e.parsePattern);if(!i)return null;var s=e.valueCallback?e.valueCallback(i[0]):i[0];s=n.valueCallback?n.valueCallback(s):s;var l=t.slice(a.length);return{value:s,rest:l}}}var PS=/^(\d+)(th|st|nd|rd)?/i,_S=/\d+/i,LS={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ES={any:[/^b/i,/^(a|c)/i]},IS={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},DS={any:[/1/i,/2/i,/3/i,/4/i]},MS={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},TS={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},FS={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},OS={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},RS={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},BS={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},$S={ordinalNumber:X5({matchPattern:PS,parsePattern:_S,valueCallback:function(t){return parseInt(t,10)}}),era:za({matchPatterns:LS,defaultMatchWidth:"wide",parsePatterns:ES,defaultParseWidth:"any"}),quarter:za({matchPatterns:IS,defaultMatchWidth:"wide",parsePatterns:DS,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:za({matchPatterns:MS,defaultMatchWidth:"wide",parsePatterns:TS,defaultParseWidth:"any"}),day:za({matchPatterns:FS,defaultMatchWidth:"wide",parsePatterns:OS,defaultParseWidth:"any"}),dayPeriod:za({matchPatterns:RS,defaultMatchWidth:"any",parsePatterns:BS,defaultParseWidth:"any"})};const zS=$S;var qS={code:"en-US",formatDistance:lS,formatLong:fS,formatRelative:gS,localize:kS,match:zS,options:{weekStartsOn:0,firstWeekContainsDate:1}};const US=qS;var WS=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,HS=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,VS=/^'([^]*?)'?$/,KS=/''/g,GS=/[a-zA-Z]/;function of(e,t,n){var r,a,i,s,l,c,d,p,f,v,m,j,w,S,g,x,N,P;fr(2,arguments);var R=String(t),q=Uf(),M=(r=(a=n==null?void 0:n.locale)!==null&&a!==void 0?a:q.locale)!==null&&r!==void 0?r:US,F=oo((i=(s=(l=(c=n==null?void 0:n.firstWeekContainsDate)!==null&&c!==void 0?c:n==null||(d=n.locale)===null||d===void 0||(p=d.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&l!==void 0?l:q.firstWeekContainsDate)!==null&&s!==void 0?s:(f=q.locale)===null||f===void 0||(v=f.options)===null||v===void 0?void 0:v.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(F>=1&&F<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var H=oo((m=(j=(w=(S=n==null?void 0:n.weekStartsOn)!==null&&S!==void 0?S:n==null||(g=n.locale)===null||g===void 0||(x=g.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&w!==void 0?w:q.weekStartsOn)!==null&&j!==void 0?j:(N=q.locale)===null||N===void 0||(P=N.options)===null||P===void 0?void 0:P.weekStartsOn)!==null&&m!==void 0?m:0);if(!(H>=0&&H<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!M.localize)throw new RangeError("locale must contain localize property");if(!M.formatLong)throw new RangeError("locale must contain formatLong property");var re=Ka(e);if(!$j(re))throw new RangeError("Invalid time value");var I=Rj(re),L=zj(re,I),Y={firstWeekContainsDate:F,weekStartsOn:H,locale:M,_originalDate:re},V=R.match(HS).map(function(X){var Z=X[0];if(Z==="p"||Z==="P"){var ne=tS[Z];return ne(X,M.formatLong)}return X}).join("").match(WS).map(function(X){if(X==="''")return"'";var Z=X[0];if(Z==="'")return YS(X);var ne=Qj[Z];if(ne)return!(n!=null&&n.useAdditionalWeekYearTokens)&&iS(X)&&wv(X,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&aS(X)&&wv(X,t,String(e)),ne(L,X,M.localize,Y);if(Z.match(GS))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Z+"`");return X}).join("");return V}function YS(e){var t=e.match(VS);return t?t[1].replace(KS,"'"):e}var XS={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},JS=function(t,n,r){var a,i=XS[t];return typeof i=="string"?a=i:n===1?a=i.one:a=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"en "+a:"hace "+a:a};const QS=JS;var ZS={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},ek={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},tk={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},nk={date:vl({formats:ZS,defaultWidth:"full"}),time:vl({formats:ek,defaultWidth:"full"}),dateTime:vl({formats:tk,defaultWidth:"full"})};const rk=nk;var ak={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},ik={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},sk=function(t,n,r,a){return n.getUTCHours()!==1?ik[t]:ak[t]};const ok=sk;var lk={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},ck={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},uk={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},dk={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},hk={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},fk={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},pk=function(t,n){var r=Number(t);return r+"º"},mk={ordinalNumber:pk,era:$a({values:lk,defaultWidth:"wide"}),quarter:$a({values:ck,defaultWidth:"wide",argumentCallback:function(t){return Number(t)-1}}),month:$a({values:uk,defaultWidth:"wide"}),day:$a({values:dk,defaultWidth:"wide"}),dayPeriod:$a({values:hk,defaultWidth:"wide",formattingValues:fk,defaultFormattingWidth:"wide"})};const gk=mk;var vk=/^(\d+)(º)?/i,yk=/\d+/i,xk={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},bk={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},wk={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},Nk={any:[/1/i,/2/i,/3/i,/4/i]},jk={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},Sk={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},kk={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},Ck={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},Ak={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},Pk={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},_k={ordinalNumber:X5({matchPattern:vk,parsePattern:yk,valueCallback:function(t){return parseInt(t,10)}}),era:za({matchPatterns:xk,defaultMatchWidth:"wide",parsePatterns:bk,defaultParseWidth:"any"}),quarter:za({matchPatterns:wk,defaultMatchWidth:"wide",parsePatterns:Nk,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:za({matchPatterns:jk,defaultMatchWidth:"wide",parsePatterns:Sk,defaultParseWidth:"any"}),day:za({matchPatterns:kk,defaultMatchWidth:"wide",parsePatterns:Ck,defaultParseWidth:"any"}),dayPeriod:za({matchPatterns:Ak,defaultMatchWidth:"any",parsePatterns:Pk,defaultParseWidth:"any"})};const Lk=_k;var Ek={code:"es",formatDistance:QS,formatLong:rk,formatRelative:ok,localize:gk,match:Lk,options:{weekStartsOn:1,firstWeekContainsDate:1}};const lf=Ek,Ik=({onMenuClick:e,showMenu:t})=>{const n=Eu(),r=Li(),{isOnline:a,lastSync:i}=V5(),[s,l]=wa.useState(new Date);wa.useEffect(()=>{const d=setInterval(()=>l(new Date),1e3);return()=>clearInterval(d)},[]);const c=()=>{switch(r.pathname){case"/":return"Punto de Venta";case"/products":return"Productos";case"/categories":return"Categorías";case"/tables":return"Mesas y Salones";case"/orders":return"Pedidos";case"/configuration":return"Configuración";default:return"KimiPOS"}};return o.jsx("header",{className:"bg-white border-b border-gray-200 shadow-sm",children:o.jsxs("div",{className:"flex items-center justify-between h-16 px-6",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[t&&o.jsx("button",{onClick:e,className:"p-2 rounded-lg text-gray-600 hover:bg-gray-100 lg:hidden",children:o.jsx(jj,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary-500 to-primary-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-sm",children:"K"})}),o.jsx("div",{children:o.jsx("h1",{className:"text-xl font-bold text-gray-900",children:c()})})]})]}),o.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[a?o.jsx(Mj,{className:"w-4 h-4 text-green-600"}):o.jsx(Dj,{className:"w-4 h-4 text-red-600"}),o.jsx("span",{className:`text-sm font-medium ${a?"text-green-600":"text-red-600"}`,children:a?"En línea":"Sin conexión"})]}),i&&o.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[o.jsx(gu,{className:"w-4 h-4"}),o.jsxs("span",{className:"text-sm",children:["Sync: ",of(i,"HH:mm",{locale:lf})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"hidden sm:flex items-center space-x-2 text-gray-600",children:[o.jsx(gu,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:of(s,"HH:mm:ss",{locale:lf})})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[r.pathname!=="/"&&o.jsx("button",{onClick:()=>n("/"),className:"p-2 rounded-lg text-gray-600 hover:bg-gray-100 transition-colors",title:"Ir al POS",children:o.jsx(R5,{className:"w-5 h-5"})}),r.pathname!=="/configuration"&&o.jsx("button",{onClick:()=>n("/configuration"),className:"p-2 rounded-lg text-gray-600 hover:bg-gray-100 transition-colors",title:"Configuración",children:o.jsx(qf,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-lg px-3 py-2",children:[o.jsx(kn,{className:"w-4 h-4 text-gray-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Administrador"})]})]})]})})},Dk=({isOpen:e,onClose:t})=>{const n=Li(),r=[{name:"Punto de Venta",href:"/",icon:R5,description:"Interfaz principal del POS"},{name:"Productos",href:"/products",icon:Am,description:"Gestión de productos"},{name:"Modificadores",href:"/modifiers",icon:W5,description:"Gestión de modificadores"},{name:"Categorías",href:"/categories",icon:Nj,description:"Organización de categorías"},{name:"Mesas y Salones",href:"/configuration/salons",icon:Cm,description:"Editor de salones y mesas"},{name:"Pedidos",href:"/orders",icon:U5,description:"Historial de pedidos"},{name:"Clientes",href:"/customers",icon:rf,description:"Base de datos de clientes"},{name:"Reportes",href:"/reports",icon:mj,description:"Análisis y estadísticas"},{name:"Facturas",href:"/invoices",icon:Js,description:"Gestión de facturas"},{name:"Configuración",href:"/configuration",icon:qf,description:"Configuración del sistema"}];return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"hidden lg:flex lg:flex-shrink-0",children:o.jsx("div",{className:"flex flex-col w-64",children:o.jsxs("div",{className:"flex flex-col flex-grow bg-white border-r border-gray-200 pt-5 pb-4 overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center flex-shrink-0 px-4 mb-8",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-500 to-primary-600 rounded-xl flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-lg",children:"K"})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"KimiPOS"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Sistema de Gestión"})]})]}),o.jsx("nav",{className:"flex-1 px-2 space-y-1",children:r.map(a=>{const i=a.icon,s=n.pathname===a.href;return o.jsxs(pv,{to:a.href,className:`group flex items-center px-2 py-3 text-sm font-medium rounded-lg transition-all duration-200 ${s?"bg-primary-50 text-primary-700 border-r-2 border-primary-500":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[o.jsx(i,{className:`mr-3 h-5 w-5 transition-colors ${s?"text-primary-500":"text-gray-400 group-hover:text-gray-500"}`}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:`font-medium ${s?"text-primary-700":""}`,children:a.name}),o.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:a.description})]})]},a.name)})})]})})}),o.jsx("div",{className:`lg:hidden fixed inset-y-0 left-0 z-50 w-64 bg-white transform transition-transform duration-300 ease-in-out ${e?"translate-x-0":"-translate-x-full"}`,children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary-500 to-primary-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-sm",children:"K"})}),o.jsx("div",{className:"ml-3",children:o.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"KimiPOS"})})]}),o.jsx("button",{onClick:t,className:"p-2 rounded-lg text-gray-600 hover:bg-gray-100",children:o.jsx(hr,{className:"w-5 h-5"})})]}),o.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1 overflow-y-auto",children:r.map(a=>{const i=a.icon,s=n.pathname===a.href;return o.jsxs(pv,{to:a.href,onClick:t,className:`group flex items-center px-2 py-3 text-sm font-medium rounded-lg transition-all duration-200 ${s?"bg-primary-50 text-primary-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[o.jsx(i,{className:`mr-3 h-5 w-5 transition-colors ${s?"text-primary-500":"text-gray-400 group-hover:text-gray-500"}`}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:`font-medium ${s?"text-primary-700":""}`,children:a.name}),o.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:a.description})]})]},a.name)})})]})})]})},Mk=({children:e})=>{const[t,n]=W.useState(!1),{isReady:r}=V5(),a=Li();if(!r)return o.jsx("div",{className:"h-full flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Inicializando KimiPOS"}),o.jsx("p",{className:"text-gray-600",children:"Preparando la base de datos..."})]})});const i=a.pathname==="/";return o.jsxs("div",{className:"h-full flex",children:[!i&&o.jsxs(o.Fragment,{children:[o.jsx(Dk,{isOpen:t,onClose:()=>n(!1)}),t&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>n(!1)})]}),o.jsxs("div",{className:"flex-1 flex flex-col",children:[o.jsx(Ik,{onMenuClick:()=>n(!t),showMenu:!i}),o.jsx("main",{className:"flex-1 overflow-hidden",children:e})]})]})},J5=({visible:e,currentRotation:t,onRotationChange:n,elementRect:r})=>{const[a,i]=W.useState(!1),s=W.useRef(null),l=c=>{c.preventDefault(),c.stopPropagation(),i(!0);let d=c.clientX,p=t;const f=m=>{const j=m.clientX-d;p+=j*1;const S=(p%360+360)%360;n(S),d=m.clientX},v=()=>{i(!1);const m=15,w=(Math.round(p/m)*m%360+360)%360;n(w),document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",v)};document.addEventListener("mousemove",f),document.addEventListener("mouseup",v)};return e?o.jsx("div",{ref:s,className:`rotation-handle absolute z-50 w-8 h-8 bg-blue-500 hover:bg-blue-600 rounded-full flex items-center justify-center cursor-grab shadow-xl border-2 border-white transition-all duration-200 ${a?"cursor-grabbing scale-125 bg-blue-600":"hover:scale-110"}`,style:{left:r.width-10,top:-10,transform:"translate(-50%, -50%)"},onMouseDown:l,title:`Rotar elemento (${Math.round(t)}°)`,children:o.jsx(Lj,{className:"w-4 h-4 text-white"})}):null},Q5=({table:e,isSelected:t=!1,onClick:n,onLongPress:r,onDragStart:a,onDragEnd:i,onRotationChange:s,onDelete:l,showDeleteButton:c=!1,isDraggable:d=!1,scale:p=1})=>{const[f,v]=W.useState(!1),[m,j]=W.useState(!1),[w,S]=W.useState({x:0,y:0}),[g,x]=W.useState({x:isNaN(e.x)?100:e.x,y:isNaN(e.y)?100:e.y}),[N,P]=W.useState(e.rotation||0),R=W.useRef(null),[q,M]=W.useState(null),[F,H]=W.useState(!1);W.useEffect(()=>{x({x:isNaN(e.x)?100:e.x,y:isNaN(e.y)?100:e.y}),P(e.rotation||0)},[e.x,e.y,e.rotation]);const re=C=>{const A=["border-purple-400 bg-purple-100 text-purple-800","border-indigo-400 bg-indigo-100 text-indigo-800","border-pink-400 bg-pink-100 text-pink-800","border-orange-400 bg-orange-100 text-orange-800","border-cyan-400 bg-cyan-100 text-cyan-800","border-emerald-400 bg-emerald-100 text-emerald-800"],z=C.split("").reduce((J,ae)=>(J=(J<<5)-J+ae.charCodeAt(0),J&J),0);return A[Math.abs(z)%A.length]},I=()=>{if(e.id.startsWith("account-"))return"bg-yellow-100 border-yellow-400 text-yellow-800";if(e.mergeGroup)return re(e.mergeGroup);switch(e.status){case"available":return"bg-green-100 border-green-300 text-green-800";case"occupied":return"bg-red-100 border-red-300 text-red-800";case"reserved":return"bg-yellow-100 border-yellow-300 text-yellow-800";default:return"bg-gray-100 border-gray-300 text-gray-800"}},L=()=>{if(!e.occupiedSince)return null;const A=new Date().getTime()-e.occupiedSince.getTime(),z=Math.floor(A/6e4),J=Math.floor(z/60);return J>0?`${J}h ${z%60}m`:`${z}m`},Y=C=>{q&&clearTimeout(q);const A=setTimeout(()=>{H(!0),r==null||r(e)},1e3);M(A)},V=()=>{q&&(clearTimeout(q),M(null)),H(!1)},X=C=>{if(!d){Y();return}C.target.closest(".rotation-handle")||(C.preventDefault(),C.stopPropagation(),v(!0),S({x:C.clientX-g.x*p,y:C.clientY-g.y*p}),a==null||a(e))},Z=C=>{if(!f||!d)return;C.preventDefault();const A=document.querySelector(".relative");if(!A)return;const z=A.getBoundingClientRect(),J=z.width,ae=z.height,le=(C.clientX-w.x)/p,de=(C.clientY-w.y)/p,$=(J-te)/p,ge=(ae-te)/p,Ne=Math.max(0,Math.min(le,$)),ve=Math.max(0,Math.min(de,ge));!isNaN(Ne)&&!isNaN(ve)&&x({x:Ne,y:ve})},ne=()=>{if(f){v(!1);const C=isNaN(g.x)?100:g.x,A=isNaN(g.y)?100:g.y;i==null||i(e,C,A)}else V()},U=C=>{d||Y()},Q=()=>{f||V()},te=80*p,ye=C=>{P(C),s==null||s(e,C)};return W.useEffect(()=>{if(f)return document.addEventListener("mousemove",Z),document.addEventListener("mouseup",ne),()=>{document.removeEventListener("mousemove",Z),document.removeEventListener("mouseup",ne)}},[f,w,p,te,g]),W.useEffect(()=>()=>{q&&clearTimeout(q)},[q]),o.jsxs("div",{ref:R,className:`absolute transition-all duration-200 ${t?"ring-4 ring-primary-500":""}`,style:{left:isNaN(g.x)?100:g.x*p,top:isNaN(g.y)?100:g.y*p,width:te,height:te,cursor:d?f?"grabbing":"grab":"pointer",zIndex:f?1e3:1,transform:`rotate(${N}deg)`,transformOrigin:"center"},onClick:C=>{C.stopPropagation(),F||n==null||n(e)},onMouseDown:X,onMouseUp:ne,onMouseEnter:()=>j(!0),onMouseLeave:()=>j(!1),onTouchStart:U,onTouchEnd:Q,onContextMenu:C=>{C.preventDefault(),r==null||r(e)},children:[o.jsxs("div",{className:`w-full h-full border-2 shadow-lg flex flex-col items-center justify-center relative ${I()} hover:shadow-xl transition-shadow ${e.id.startsWith("account-")?"rounded-lg":"rounded-full"}`,style:{pointerEvents:"none"},children:[o.jsx("div",{className:"text-lg font-bold",children:e.number}),e.temporaryName?o.jsx("div",{className:"text-sm font-bold text-center bg-blue-100 text-blue-800 px-2 py-1 rounded",children:e.temporaryName}):e.name?o.jsx("div",{className:"text-sm font-bold opacity-75 text-center",children:e.name}):null,e.assignedCustomer&&o.jsxs("div",{className:"text-xs font-medium text-center bg-green-100 text-green-800 px-2 py-1 rounded mt-1",children:["👤 ",e.assignedCustomer.name," ",e.assignedCustomer.lastName]}),e.mergedWith&&o.jsxs("div",{className:"absolute -top-2 -right-2 bg-blue-600 text-white text-xs px-2 py-1 rounded-full border-2 border-white shadow-lg",children:["🔗",e.mergedWith]}),e.mergeGroup&&e.isMaster&&o.jsx("div",{className:"absolute -left-2 -top-2 bg-yellow-500 text-white text-xs px-1.5 py-0.5 rounded-full border border-white shadow-sm",children:"★"}),e.status==="occupied"&&o.jsxs(o.Fragment,{children:[e.occupiedSince&&(!e.mergeGroup||e.isMaster)&&o.jsxs("div",{className:"absolute -top-6 left-1/2 transform -translate-x-1/2 bg-gradient-to-r from-red-600 to-rose-600 text-white text-xs font-bold px-2 py-1 rounded-md shadow-md border border-white flex items-center space-x-1",children:[o.jsx(gu,{className:"w-3 h-3"}),o.jsx("span",{children:L()})]}),e.currentOrder&&(!e.mergeGroup||e.isMaster)&&o.jsxs("div",{className:"absolute -bottom-6 left-1/2 transform -translate-x-1/2 bg-black text-white text-xs font-bold px-2 py-1 rounded-md shadow-md border border-white",children:["€",e.currentOrder.total.toFixed(2)]}),e.mergeGroup&&!e.isMaster&&o.jsx("div",{className:"absolute -bottom-6 left-1/2 transform -translate-x-1/2 bg-blue-600 text-white text-xs px-1 py-0.5 rounded-full",children:"🔗"})]}),e.capacity&&o.jsx("div",{className:"absolute -right-2 -top-2 bg-gray-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs",children:o.jsx(rf,{className:"w-3 h-3"})}),o.jsx("div",{className:`absolute -right-1 -bottom-1 w-4 h-4 rounded-full border-2 border-white ${e.status==="available"?"bg-green-500":e.status==="occupied"?"bg-red-500":"bg-yellow-500"}`})]}),d&&m&&!f&&s&&o.jsx(J5,{visible:!0,currentRotation:N,onRotationChange:ye,elementRect:{x:0,y:0,width:te,height:te}})]})},Tk=""+new URL("bar-fda04224.svg",import.meta.url).href,Fk=""+new URL("plant-658fec4b.svg",import.meta.url).href,Z5=({item:e,isSelected:t,isDraggable:n=!1,onDragEnd:r,onRotationChange:a})=>{const[i,s]=W.useState(!1),[l,c]=W.useState(!1),[d,p]=W.useState({x:0,y:0}),[f,v]=W.useState(e.rotation||0),m=W.useRef(null),j=x=>{var R;if(!n||x.target.closest(".rotation-handle"))return;x.preventDefault(),s(!0);const P=(R=m.current)==null?void 0:R.getBoundingClientRect();P&&p({x:x.clientX-P.left,y:x.clientY-P.top})},w=x=>{if(!i||!n)return;const N=document.querySelector(".salon-canvas");if(N){const P=N.getBoundingClientRect(),R=Math.max(0,x.clientX-P.left-d.x),q=Math.max(0,x.clientY-P.top-d.y);r==null||r(e,R,q)}},S=()=>s(!1),g=x=>{v(x),a==null||a(e,x)};return W.useEffect(()=>{v(e.rotation||0)},[e.rotation]),W.useEffect(()=>{if(i)return document.addEventListener("mousemove",w),document.addEventListener("mouseup",S),()=>{document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",S)}},[i,d,e,n]),o.jsxs("div",{ref:m,className:`absolute ${t?"ring-2 ring-primary-500":""} `,style:{left:e.x,top:e.y,transform:`rotate(${f}deg)`,transformOrigin:"center"},onMouseDown:j,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[e.kind==="plant"?o.jsx("img",{src:Fk,alt:"Planta",style:{width:e.width||80,height:e.height||110,pointerEvents:"none"},draggable:!1,className:"select-none drop-shadow"}):o.jsx("img",{src:Tk,alt:"Barra de bar",style:{width:e.width||240,height:e.height||90,pointerEvents:"none"},draggable:!1,className:"select-none drop-shadow"}),n&&l&&!i&&a&&o.jsx(J5,{visible:!0,currentRotation:f,onRotationChange:g,elementRect:{x:0,y:0,width:e.width||(e.kind==="plant"?80:240),height:e.height||(e.kind==="plant"?110:90)}})]})},Ok=({tables:e,scale:t=1})=>{const n=a=>{const i=["#8b5cf6","#6366f1","#ec4899","#f97316","#06b6d4","#10b981"],s=a.split("").reduce((l,c)=>(l=(l<<5)-l+c.charCodeAt(0),l&l),0);return i[Math.abs(s)%i.length]},r=e.reduce((a,i)=>(i.mergeGroup&&(a[i.mergeGroup]||(a[i.mergeGroup]=[]),a[i.mergeGroup].push(i)),a),{});return o.jsx("svg",{className:"absolute inset-0 pointer-events-none",style:{zIndex:5},width:"100%",height:"100%",children:Object.entries(r).map(([a,i])=>{if(i.length<2)return null;const s=n(a),l=i.find(f=>f.isMaster),c=i.filter(f=>!f.isMaster);if(!l)return null;const d=(l.x+40)*t,p=(l.y+40)*t;return c.map((f,v)=>{const m=(f.x+40)*t,j=(f.y+40)*t,w=(d+m)/2,S=(p+j)/2,g=w+(p-j)*.2,x=S+(m-d)*.2;return o.jsxs("g",{children:[o.jsx("path",{d:`M ${d} ${p} Q ${g} ${x} ${m} ${j}`,stroke:s,strokeWidth:"3",fill:"none",strokeDasharray:"6,4",opacity:"0.8"}),o.jsx("circle",{cx:m,cy:j,r:"4",fill:s,opacity:"0.9"}),o.jsx("circle",{cx:d,cy:p,r:"6",fill:"#fbbf24",opacity:"0.9"}),o.jsx("text",{x:d,y:p+2,textAnchor:"middle",fontSize:"8",fill:"white",fontWeight:"bold",children:"★"})]},`${a}-${v}`)})})})},eb=W.createContext(void 0),Rk=({children:e})=>{const[t,n]=W.useState([]),[r,a]=W.useState("salon-1");W.useEffect(()=>{try{const X=localStorage.getItem("kimipos_salons"),Z=localStorage.getItem("kimipos_active_salon");if(X){const U=JSON.parse(X).map(te=>({...te,tables:(te.tables||[]).map(ye=>({...ye,rotation:ye.rotation||0,occupiedSince:ye.occupiedSince?new Date(ye.occupiedSince):void 0})),decor:(te.decor||[]).map(ye=>({id:ye.id,kind:(ye.kind||ye.type)??"plant",x:ye.x??100,y:ye.y??100,rotation:ye.rotation||0,width:ye.width,height:ye.height}))}));if(!U.some(te=>te.id==="named-accounts")){const te={id:"named-accounts",name:"Cuentas por nombre",width:800,height:600,tables:[],decor:[]};U.push(te)}n(U)}else n([{id:"salon-1",name:"Salón Principal",width:800,height:600,tables:[{id:"1",number:"1",name:"Entrada",status:"available",x:100,y:100,capacity:4},{id:"2",number:"2",name:"Ventana",status:"available",x:250,y:120,capacity:2},{id:"3",number:"3",name:"Central",status:"available",x:180,y:250,capacity:6},{id:"4",number:"4",name:"Terraza",status:"available",x:350,y:200,capacity:4},{id:"5",number:"5",name:"VIP",status:"available",x:120,y:350,capacity:8},{id:"6",number:"6",status:"available",x:300,y:320,capacity:2}],decor:[]},{id:"named-accounts",name:"Cuentas por nombre",width:800,height:600,tables:[],decor:[]}]);Z&&a(Z)}catch{}},[]),W.useEffect(()=>{if(t.length>0)try{localStorage.setItem("kimipos_salons",JSON.stringify(t)),localStorage.setItem("kimipos_active_salon",r)}catch{}},[t,r]);const[i,s]=W.useState({});W.useEffect(()=>{try{const X=localStorage.getItem("kimipos_table_orders");if(console.log("Cargando pedidos guardados:",X),X){const Z=JSON.parse(X);console.log("Pedidos parseados:",Z),s(Z)}else console.log("No hay pedidos guardados, usando datos demo"),s({2:[{productId:"1",productName:"Coca Cola",quantity:2,unitPrice:25,totalPrice:50,status:"pending"},{productId:"3",productName:"Corona",quantity:1,unitPrice:45,totalPrice:45,status:"pending"},{productId:"5",productName:"Jack Daniels",quantity:1,unitPrice:120,totalPrice:120,status:"pending"}]})}catch{}},[]),W.useEffect(()=>{if(Object.keys(i).length>0)try{localStorage.setItem("kimipos_table_orders",JSON.stringify(i))}catch{}},[i]);const l=t.find(X=>X.id===r)||t[0],c=(X,Z,ne)=>{n(U=>U.map(Q=>Q.id!==r?Q:{...Q,tables:Q.tables.map(te=>te.id===X?{...te,status:Z,occupiedSince:Z==="occupied"?new Date:void 0,currentOrder:ne||te.currentOrder}:te)}))},d=(X,Z,ne,U)=>{console.log("Añadiendo pedido a mesa:",X,ne,U),n(Q=>Q.map(te=>te.id!==r?te:{...te,tables:te.tables.map(ye=>ye.id===X?{...ye,status:"occupied",occupiedSince:new Date,currentOrder:{id:`order-${Date.now()}`,total:Z,itemCount:(ne==null?void 0:ne.length)||1},assignedCustomer:U||ye.assignedCustomer,temporaryName:U?void 0:ye.temporaryName}:ye)})),ne&&s(Q=>{const te={...Q,[X]:ne};return console.log("Guardando pedidos:",te),te})},p=X=>{const Z=f(X);let ne=[X];if(Z&&Z.mergeGroup&&(ne=I(X).map(Q=>Q.id)),X.startsWith("account-")){Y(X);return}n(U=>U.map(Q=>Q.id!==r?Q:{...Q,tables:Q.tables.map(te=>ne.includes(te.id)?{...te,status:"available",occupiedSince:void 0,currentOrder:void 0,temporaryName:void 0,assignedCustomer:void 0,mergedWith:void 0,isMaster:void 0,mergeGroup:void 0}:te)})),s(U=>{const Q={...U};return ne.forEach(te=>{delete Q[te]}),Q})},f=X=>l==null?void 0:l.tables.find(Z=>Z.id===X),v=X=>i[X]||[],m=X=>{n(Z=>Z.map(ne=>{if(ne.id!==r)return ne;const U=new Set(ne.tables.map(ye=>parseInt(ye.number)).filter(ye=>!Number.isNaN(ye)));let Q=Number.isNaN(parseInt(X.number))?1:parseInt(X.number);for(;U.has(Q);)Q+=1;const te=X.id||`table-${Date.now()}`;return{...ne,tables:[...ne.tables,{...X,id:te,number:String(Q)}]}}))},j=X=>{const Z=f(X);return Z&&Z.status==="occupied"?!1:(n(ne=>ne.map(U=>U.id!==r?U:{...U,tables:U.tables.filter(Q=>Q.id!==X)})),s(ne=>{const U={...ne};return delete U[X],U}),!0)},w=(X,Z,ne)=>{const U=isNaN(Z)?100:Z,Q=isNaN(ne)?100:ne;n(te=>te.map(ye=>ye.id!==r?ye:{...ye,tables:ye.tables.map(C=>C.id===X?{...C,x:U,y:Q}:C)}))},S=(X,Z)=>{const ne=isNaN(Z)?0:Z;n(U=>U.map(Q=>Q.id!==r?Q:{...Q,tables:Q.tables.map(te=>te.id===X?{...te,rotation:ne}:te)}))},g=X=>{n(Z=>Z.map(ne=>ne.id!==r?ne:{...ne,decor:[...ne.decor,X]}))},x=(X,Z,ne)=>{n(U=>U.map(Q=>Q.id!==r?Q:{...Q,decor:Q.decor.map(te=>te.id===X?{...te,x:Z,y:ne}:te)}))},N=(X,Z)=>{const ne=isNaN(Z)?0:Z;n(U=>U.map(Q=>Q.id!==r?Q:{...Q,decor:Q.decor.map(te=>te.id===X?{...te,rotation:ne}:te)}))},P=(X=`Salón ${t.length+1}`)=>{const Z=`salon-${Date.now()}`;return n(ne=>[...ne,{id:Z,name:X,width:800,height:600,tables:[],decor:[]}]),a(Z),Z},R=X=>{n(Z=>Z.filter(ne=>ne.id!==X)),r===X&&t.length>1&&a(t[0].id)},q=(X,Z)=>{n(ne=>ne.map(U=>U.id===X?{...U,name:Z}:U))},M=(X,Z)=>{const ne=f(X);let U=ne==null?void 0:ne.mergeGroup;U||(U=`merge-${X}-${Date.now()}`),n(C=>C.map(A=>A.id!==r?A:{...A,tables:A.tables.map(z=>z.id===X?{...z,mergedWith:Z,isMaster:!0,mergeGroup:U}:z.id===Z?{...z,mergedWith:X,isMaster:!1,mergeGroup:U}:z)}));const Q=v(X),te=v(Z),ye=[...Q,...te];if(ye.length>0){const C=ye.reduce((A,z)=>A+z.totalPrice,0);n(A=>A.map(z=>z.id!==r?z:{...z,tables:z.tables.map(J=>J.id===X?{...J,status:"occupied",currentOrder:{id:`merged-order-${Date.now()}`,total:C,itemCount:ye.length}}:J)})),s(A=>({...A,[X]:ye,[Z]:[]}))}},F=X=>{const Z=f(X);if(!Z||!Z.mergedWith)return;const ne=Z.mergedWith;n(U=>U.map(Q=>Q.id!==r?Q:{...Q,tables:Q.tables.map(te=>te.id===X||te.id===ne?{...te,mergedWith:void 0,isMaster:void 0,mergeGroup:void 0}:te)})),Z.isMaster||s(U=>{const Q={...U};return delete Q[X],Q})},H=X=>{n(Z=>Z.map(ne=>ne.id!==r?ne:{...ne,tables:ne.tables.map(U=>U.id===X?{...U,mergedWith:void 0,isMaster:void 0,mergeGroup:void 0}:U)}))},re=(X,Z)=>{n(ne=>ne.map(U=>U.id!==r?U:{...U,tables:U.tables.map(Q=>Q.id===X?{...Q,temporaryName:Z}:Q)}))},I=X=>{const Z=f(X);return!Z||!Z.mergeGroup?[Z]:(l==null?void 0:l.tables.filter(ne=>ne.mergeGroup===Z.mergeGroup))||[]},L=X=>{var le,de;if((le=t.find($=>$.id==="named-accounts"))==null?void 0:le.tables.find($=>$.name===X))throw new Error(`Ya existe una cuenta para ${X}`);const ne=((de=t.find($=>$.id==="named-accounts"))==null?void 0:de.tables)||[],U=4,Q=Math.floor(ne.length/U),te=ne.length%U,ye=120,C=120,A=120,z=120,J=`account-${Date.now()}`,ae={id:J,number:X,name:X,status:"occupied",x:ye+te*A,y:C+Q*z,capacity:1,occupiedSince:new Date,temporaryName:X};return n($=>$.map(ge=>ge.id!=="named-accounts"?ge:{...ge,tables:[...ge.tables,ae]})),J},Y=X=>{n(Z=>Z.map(ne=>ne.id!=="named-accounts"?ne:{...ne,tables:ne.tables.filter(U=>U.id!==X)})),s(Z=>{const ne={...Z};return delete ne[X],ne})},V={salons:t,activeSalonId:r,setActiveSalon:a,tables:(l==null?void 0:l.tables)||[],decor:(l==null?void 0:l.decor)||[],addSalon:P,removeSalon:R,renameSalon:q,updateTableStatus:c,addOrderToTable:d,clearTableOrder:p,getTableById:f,getTableOrderItems:v,addTable:m,removeTable:j,updateTablePosition:w,updateTableRotation:S,mergeTables:M,unmergeTables:F,forceUnmergeTable:H,getTableMergeGroup:I,updateTableTemporaryName:re,addDecor:g,updateDecorPosition:x,updateDecorRotation:N,addNamedAccount:L,removeNamedAccount:Y};return o.jsx(eb.Provider,{value:V,children:e})},Wf=()=>{const e=W.useContext(eb);if(e===void 0)throw new Error("useTables must be used within a TableProvider");return e},Bk=({isOpen:e,onClose:t,onSelectTable:n,selectedTableId:r,forceOpen:a=!1,onTicketWithoutTable:i})=>{const[s,l]=W.useState(""),[c,d]=W.useState("all"),[p,f]=W.useState(!1),[v,m]=W.useState(null),[j,w]=W.useState(""),[S,g]=W.useState(!1),[x,N]=W.useState(""),{salons:P,activeSalonId:R,setActiveSalon:q,tables:M,decor:F,updateTableTemporaryName:H,updateTableStatus:re,addNamedAccount:I}=Wf(),L=Eu();W.useEffect(()=>{e||(f(!1),m(null),w(""))},[e]);const Y=M.filter(A=>{var ae,le;const z=!s||A.number.toLowerCase().includes(s.toLowerCase())||((ae=A.name)==null?void 0:ae.toLowerCase().includes(s.toLowerCase()))||((le=A.temporaryName)==null?void 0:le.toLowerCase().includes(s.toLowerCase())),J=c==="all"||A.status===c;return z&&J}),V=A=>{if(console.log("Click en mesa:",A.number,"Estado:",A.status,"Modal abierto:",p),p){f(!1),m(null),w("");return}(A.status==="available"||A.status==="occupied"||A.status==="reserved")&&(l(""),n(A),t())},X=A=>{q(A)},Z=A=>{console.log("Long press en mesa:",A.number,"Estado:",A.status),m(A),w(A.temporaryName||""),f(!0)},ne=()=>{if(v){const A=j.trim()||null;H(v.id,A),f(!1),m(null),w(""),A&&setTimeout(()=>{console.log(`Nombre temporal "${A}" asignado a la Mesa ${v.number}`)},100)}},U=()=>{f(!1),m(null),w("")},Q=A=>{if(A.preventDefault(),!x.trim()){De.error("Por favor ingresa el nombre del cliente");return}try{const z=I(x.trim());De.success(`Cuenta creada para ${x.trim()}`);const J={id:z,number:x.trim(),name:x.trim(),status:"occupied",x:0,y:0,capacity:1,occupiedSince:new Date,temporaryName:x.trim()};g(!1),N(""),n(J),t()}catch(z){console.error("Error creating named account:",z),z instanceof Error&&z.message.includes("Ya existe una cuenta")?De.error(z.message):De.error("Error al crear la cuenta")}},te=()=>{g(!1),N("")},ye=(A,z)=>{re(A.id,z),console.log(`Mesa ${A.number} cambiada a estado: ${z}`)},C=()=>{f(!1),m(null),w(""),t()};return e?o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[o.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:a?void 0:C}),o.jsxs("div",{className:"inline-block w-full h-screen max-w-none my-0 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-none",children:[o.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Dl,{className:"w-6 h-6 text-primary-600"}),o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Seleccionar Mesa"})]}),i&&o.jsxs("button",{onClick:i,className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-violet-600 hover:from-purple-700 hover:to-violet-700 text-white font-bold rounded-xl shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105 flex items-center space-x-2 text-base border-2 border-purple-400 ring-2 ring-purple-200",children:[o.jsx(bi,{className:"w-5 h-5"}),o.jsx("span",{children:"Ticket sin Mesa"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("button",{onClick:()=>{t(),L("/configuration")},className:"px-3 py-2 bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 text-white font-medium rounded-lg shadow-md hover:shadow-lg transition-all duration-200 flex items-center space-x-2 text-sm",title:"Configuración",children:[o.jsx(qf,{className:"w-4 h-4"}),o.jsx("span",{children:"Configuración"})]}),!a&&o.jsx("button",{onClick:C,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(hr,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-xs text-gray-500 mb-2 font-medium",children:"SELECCIONAR SALÓN"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:P.map(A=>o.jsx("button",{onClick:()=>X(A.id),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 shadow-sm hover:shadow-md ${R===A.id?A.id==="named-accounts"?"bg-gradient-to-r from-yellow-500 to-amber-600 text-white shadow-lg transform scale-105":"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg transform scale-105":A.id==="named-accounts"?"bg-yellow-100 text-yellow-700 hover:bg-yellow-200 border border-yellow-300 hover:border-yellow-400":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200 hover:border-gray-300"}`,children:A.name},A.id))})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-end",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(mo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{type:"text",placeholder:"Buscar mesa por número o nombre...",value:s,onChange:A=>l(A.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(bj,{className:"w-5 h-5 text-gray-400"}),o.jsxs("select",{value:c,onChange:A=>d(A.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"all",children:"Todas"}),o.jsx("option",{value:"available",children:"Disponibles"}),o.jsx("option",{value:"occupied",children:"Ocupadas"}),o.jsx("option",{value:"reserved",children:"Reservadas"})]})]})]})]}),o.jsxs("div",{className:"p-4 h-[calc(100vh-120px)]",children:[o.jsx("div",{className:"relative bg-gray-100 rounded-lg border-2 border-dashed border-gray-300 h-full overflow-hidden",children:o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 to-gray-100",children:o.jsxs("div",{className:"salon-canvas relative w-full h-full",children:[F.map(A=>o.jsx(Z5,{item:A},A.id)),o.jsx(Ok,{tables:Y,scale:1}),Y.map(A=>o.jsx(Q5,{table:A,isSelected:r===A.id,onClick:V,onLongPress:Z,scale:1},A.id)),R==="named-accounts"&&Y.length===0&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsxs("div",{className:"text-center p-8 bg-white bg-opacity-90 rounded-xl shadow-lg max-w-md",children:[o.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(kn,{className:"w-8 h-8 text-yellow-600"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No hay cuentas creadas"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Haz clic en el botón flotante (+) para crear tu primera cuenta por nombre"}),o.jsxs("button",{onClick:()=>g(!0),className:"px-6 py-3 bg-gradient-to-r from-yellow-500 to-amber-600 hover:from-yellow-600 hover:to-amber-700 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 flex items-center space-x-2 mx-auto",children:[o.jsx(kn,{className:"w-5 h-5"}),o.jsx("span",{children:"Crear Primera Cuenta"})]})]})})]})})}),o.jsxs("div",{className:"mt-4 flex flex-wrap gap-4 text-sm",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full"}),o.jsx("span",{children:"Disponible"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-4 h-4 bg-red-500 rounded-full"}),o.jsx("span",{children:"Ocupada"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded-full"}),o.jsx("span",{children:"Reservada"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-4 h-4 bg-purple-500 rounded-full border-2 border-purple-600"}),o.jsx("span",{children:"Mesas Unidas"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-4 h-4 bg-yellow-400 rounded-full flex items-center justify-center text-xs",children:"★"}),o.jsx("span",{children:"Mesa Principal"})]})]}),o.jsxs("div",{className:"mt-4 p-4 bg-gray-100 rounded-lg",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Debug - Cambiar Estado de Mesas:"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:Y.map(A=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("span",{className:"text-xs font-medium",children:["Mesa ",A.number,":"]}),o.jsx("button",{onClick:()=>ye(A,"available"),className:`px-2 py-1 text-xs rounded ${A.status==="available"?"bg-green-500 text-white":"bg-gray-200"}`,children:"Disp"}),o.jsx("button",{onClick:()=>ye(A,"occupied"),className:`px-2 py-1 text-xs rounded ${A.status==="occupied"?"bg-red-500 text-white":"bg-gray-200"}`,children:"Ocup"}),o.jsx("button",{onClick:()=>ye(A,"reserved"),className:`px-2 py-1 text-xs rounded ${A.status==="reserved"?"bg-yellow-500 text-white":"bg-gray-200"}`,children:"Res"})]},A.id))})]})]}),R==="named-accounts"&&o.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:o.jsxs("button",{onClick:()=>g(!0),className:"px-6 py-4 bg-gradient-to-r from-yellow-500 to-amber-600 hover:from-yellow-600 hover:to-amber-700 text-white rounded-full shadow-2xl hover:shadow-3xl transition-all duration-300 hover:scale-110 flex items-center space-x-2",title:"Crear Nueva Cuenta",children:[o.jsx(kn,{className:"w-6 h-6"}),o.jsx("span",{className:"font-semibold text-sm",children:"Nueva Cuenta"})]})}),R==="named-accounts"&&o.jsx("div",{className:"px-4 py-3 bg-yellow-50 border-t border-yellow-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"text-sm text-yellow-800",children:[o.jsx("p",{className:"font-semibold",children:"📋 Salón de Cuentas por Nombre"}),o.jsx("p",{className:"text-xs",children:"Haz clic en el botón flotante (+) para crear una nueva cuenta"})]}),o.jsxs("button",{onClick:()=>g(!0),className:"px-4 py-2 bg-gradient-to-r from-yellow-500 to-amber-600 hover:from-yellow-600 hover:to-amber-700 text-white font-medium rounded-lg shadow-md hover:shadow-lg transition-all duration-200 flex items-center space-x-2",children:[o.jsx(kn,{className:"w-4 h-4"}),o.jsx("span",{children:"Nueva Cuenta"})]})]})}),o.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"text-sm text-gray-600",children:[o.jsx("p",{children:"Haz clic en una mesa disponible u ocupada para seleccionarla"}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["💡 ",o.jsx("strong",{children:"Pulsación sostenida (1s)"})," o ",o.jsx("strong",{children:"clic derecho"})," para asignar nombre temporal"]})]}),o.jsx("button",{onClick:C,className:"btn btn-secondary",children:"Cancelar"})]})})]})]}),p&&v&&o.jsx("div",{className:"fixed inset-0 z-[55] overflow-y-auto",children:o.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[o.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:U}),o.jsxs("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[o.jsx(kn,{className:"w-6 h-6 text-blue-600"}),o.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Nombre Temporal - Mesa ",v.number]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del cliente (opcional)"}),o.jsx("input",{type:"text",value:j,onChange:A=>w(A.target.value),placeholder:"Ej: Juanito, María, etc.",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",autoFocus:!0,onKeyPress:A=>{A.key==="Enter"&&ne()}}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Este nombre se mantendrá hasta que se cierre la cuenta de la mesa"})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{onClick:U,className:"flex-1 px-4 py-3 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancelar"}),o.jsx("button",{onClick:ne,className:"flex-1 px-4 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white rounded-xl font-medium transition-all duration-200 hover:scale-105",children:"Guardar"})]})]})]})}),S&&o.jsx("div",{className:"fixed inset-0 z-[55] overflow-y-auto",children:o.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[o.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:te}),o.jsxs("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[o.jsx(kn,{className:"w-6 h-6 text-yellow-600"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Nueva Cuenta por Nombre"})]}),o.jsxs("form",{onSubmit:Q,children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del Cliente *"}),o.jsx("input",{type:"text",required:!0,value:x,onChange:A=>N(A.target.value),placeholder:"Juan Pérez, María García...",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 text-sm",autoFocus:!0})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{type:"button",onClick:te,className:"flex-1 px-4 py-3 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-gradient-to-r from-yellow-500 to-amber-600 hover:from-yellow-600 hover:to-amber-700 text-white rounded-xl font-medium transition-all duration-200 hover:scale-105",children:"Crear Cuenta"})]})]})]})]})})]}):null},tb=W.createContext(void 0),$k=({children:e})=>{const[t,n]=W.useState(()=>{const d=localStorage.getItem("restaurantConfig");if(d){const p=JSON.parse(d);return{restaurantName:p.restaurantName??"Mi Restaurante",currency:p.currency??"MXN",taxRate:p.taxRate??.16,modifiers:p.modifiers??{global:[],byCategory:{}}}}return{restaurantName:"Mi Restaurante",currency:"MXN",taxRate:.16,modifiers:{global:[],byCategory:{}}}}),c={config:t,updateConfig:d=>{const p={...t,...d};n(p),localStorage.setItem("restaurantConfig",JSON.stringify(p))},getCurrencySymbol:()=>{switch(t.currency){case"MXN":return"$";case"USD":return"$";case"EUR":return"€";default:return"$"}},getTaxRate:()=>t.taxRate,getModifiersForCategory:d=>{if(!t.modifiers)return[];const p=d&&t.modifiers.byCategory[d]||[],f=t.modifiers.global||[];return Array.from(new Set([...f,...p]))},updateCategoryModifiers:(d,p)=>{var v,m;const f={...t,modifiers:{global:((v=t.modifiers)==null?void 0:v.global)||[],byCategory:{...((m=t.modifiers)==null?void 0:m.byCategory)||{},[d]:p}}};n(f),localStorage.setItem("restaurantConfig",JSON.stringify(f))}};return o.jsx(tb.Provider,{value:c,children:e})},Bl=()=>{const e=W.useContext(tb);if(e===void 0)throw new Error("useConfig must be used within a ConfigProvider");return e},Wt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,bn=Object.keys,tr=Array.isArray;function cr(e,t){return typeof t!="object"||bn(t).forEach(function(n){e[n]=t[n]}),e}typeof Promise>"u"||Wt.Promise||(Wt.Promise=Promise);const vu=Object.getPrototypeOf,zk={}.hasOwnProperty;function $r(e,t){return zk.call(e,t)}function Ml(e,t){typeof t=="function"&&(t=t(vu(e))),(typeof Reflect>"u"?bn:Reflect.ownKeys)(t).forEach(n=>{wi(e,n,t[n])})}const nb=Object.defineProperty;function wi(e,t,n,r){nb(e,t,cr(n&&$r(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function yl(e){return{from:function(t){return e.prototype=Object.create(t.prototype),wi(e.prototype,"constructor",e),{extend:Ml.bind(null,e.prototype)}}}}const qk=Object.getOwnPropertyDescriptor;function cg(e,t){let n;return qk(e,t)||(n=vu(e))&&cg(n,t)}const Uk=[].slice;function cf(e,t,n){return Uk.call(e,t,n)}function rb(e,t){return t(e)}function Mc(e){if(!e)throw new Error("Assertion Failed")}function ab(e){Wt.setImmediate?setImmediate(e):setTimeout(e,0)}function ib(e,t){return e.reduce((n,r,a)=>{var i=t(r,a);return i&&(n[i[0]]=i[1]),n},{})}function Ni(e,t){if(typeof t=="string"&&$r(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var n=[],r=0,a=t.length;r<a;++r){var i=Ni(e,t[r]);n.push(i)}return n}var s=t.indexOf(".");if(s!==-1){var l=e[t.substr(0,s)];return l==null?void 0:Ni(l,t.substr(s+1))}}function Sa(e,t,n){if(e&&t!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){Mc(typeof n!="string"&&"length"in n);for(var r=0,a=t.length;r<a;++r)Sa(e,t[r],n[r])}else{var i=t.indexOf(".");if(i!==-1){var s=t.substr(0,i),l=t.substr(i+1);if(l==="")n===void 0?tr(e)&&!isNaN(parseInt(s))?e.splice(s,1):delete e[s]:e[s]=n;else{var c=e[s];c&&$r(e,s)||(c=e[s]={}),Sa(c,l,n)}}else n===void 0?tr(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function sb(e){var t={};for(var n in e)$r(e,n)&&(t[n]=e[n]);return t}const Wk=[].concat;function ob(e){return Wk.apply([],e)}const lb="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ob([8,16,32,64].map(e=>["Int","Uint","Float"].map(t=>t+e+"Array")))).filter(e=>Wt[e]),Hk=lb.map(e=>Wt[e]);ib(lb,e=>[e,!0]);let Qi=null;function Mu(e){Qi=typeof WeakMap<"u"&&new WeakMap;const t=Pm(e);return Qi=null,t}function Pm(e){if(!e||typeof e!="object")return e;let t=Qi&&Qi.get(e);if(t)return t;if(tr(e)){t=[],Qi&&Qi.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(Pm(e[n]))}else if(Hk.indexOf(e.constructor)>=0)t=e;else{const i=vu(e);for(var a in t=i===Object.prototype?{}:Object.create(i),Qi&&Qi.set(e,t),e)$r(e,a)&&(t[a]=Pm(e[a]))}return t}const{toString:Vk}={};function _m(e){return Vk.call(e).slice(8,-1)}const Lm=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Kk=typeof Lm=="symbol"?function(e){var t;return e!=null&&(t=e[Lm])&&t.apply(e)}:function(){return null},Go={};function mi(e){var t,n,r,a;if(arguments.length===1){if(tr(e))return e.slice();if(this===Go&&typeof e=="string")return[e];if(a=Kk(e)){for(n=[];!(r=a.next()).done;)n.push(r.value);return n}if(e==null)return[e];if(typeof(t=e.length)=="number"){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const ug=typeof Symbol<"u"?e=>e[Symbol.toStringTag]==="AsyncFunction":()=>!1;var Ga=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function cb(e,t){Ga=e,ub=t}var ub=()=>!0;const Gk=!new Error("").stack;function go(){if(Gk)try{throw go.arguments,new Error}catch(e){return e}return new Error}function Em(e,t){var n=e.stack;return n?(t=t||0,n.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),n.split(`
`).slice(t).filter(ub).map(r=>`
`+r).join("")):""}var db=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],dg=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(db),Yk={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function xl(e,t){this._e=go(),this.name=e,this.message=t}function hb(e,t){return e+". Errors: "+Object.keys(t).map(n=>t[n].toString()).filter((n,r,a)=>a.indexOf(n)===r).join(`
`)}function uf(e,t,n,r){this._e=go(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=hb(e,t)}function Hc(e,t){this._e=go(),this.name="BulkError",this.failures=Object.keys(t).map(n=>t[n]),this.failuresByPos=t,this.message=hb(e,t)}yl(xl).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Em(this._e,2))}},toString:function(){return this.name+": "+this.message}}),yl(uf).from(xl),yl(Hc).from(xl);var hg=dg.reduce((e,t)=>(e[t]=t+"Error",e),{});const Xk=xl;var it=dg.reduce((e,t)=>{var n=t+"Error";function r(a,i){this._e=go(),this.name=n,a?typeof a=="string"?(this.message=`${a}${i?`
 `+i:""}`,this.inner=i||null):typeof a=="object"&&(this.message=`${a.name} ${a.message}`,this.inner=a):(this.message=Yk[t]||n,this.inner=null)}return yl(r).from(Xk),e[t]=r,e},{});it.Syntax=SyntaxError,it.Type=TypeError,it.Range=RangeError;var Nv=db.reduce((e,t)=>(e[t+"Error"]=it[t],e),{}),gh=dg.reduce((e,t)=>(["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=it[t]),e),{});function Rt(){}function yu(e){return e}function Jk(e,t){return e==null||e===yu?t:function(n){return t(e(n))}}function lo(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function Qk(e,t){return e===Rt?t:function(){var n=e.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?lo(r,this.onsuccess):r),a&&(this.onerror=this.onerror?lo(a,this.onerror):a),i!==void 0?i:n}}function Zk(e,t){return e===Rt?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?lo(n,this.onsuccess):n),r&&(this.onerror=this.onerror?lo(r,this.onerror):r)}}function e8(e,t){return e===Rt?t:function(n){var r=e.apply(this,arguments);cr(n,r);var a=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return a&&(this.onsuccess=this.onsuccess?lo(a,this.onsuccess):a),i&&(this.onerror=this.onerror?lo(i,this.onerror):i),r===void 0?s===void 0?void 0:s:cr(r,s)}}function t8(e,t){return e===Rt?t:function(){return t.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function fg(e,t){return e===Rt?t:function(){var n=e.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,a=arguments.length,i=new Array(a);a--;)i[a]=arguments[a];return n.then(function(){return t.apply(r,i)})}return t.apply(this,arguments)}}gh.ModifyError=uf,gh.DexieError=xl,gh.BulkError=Hc;var xu={};const fb=100,[Im,df,Dm]=typeof Promise>"u"?[]:(()=>{let e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,vu(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,vu(t),e]})(),pb=df&&df.then,vh=Im&&Im.constructor,pg=!!Dm;var Mm=!1,n8=Dm?()=>{Dm.then(Vd)}:Wt.setImmediate?setImmediate.bind(null,Vd):Wt.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver(()=>{Vd(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(Vd,0)},Vc=function(e,t){Tc.push([e,t]),hf&&(n8(),hf=!1)},Tm=!0,hf=!0,Qs=[],yh=[],Fm=null,Om=yu,bl={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:kv,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(e=>{try{kv(e[0],e[1])}catch{}})}},Xe=bl,Tc=[],Zs=0,xh=[];function We(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Rt,this._lib=!1;var t=this._PSD=Xe;if(Ga&&(this._stackHolder=go(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==xu)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Bm(this,this._value))}this._state=null,this._value=null,++t.ref,gb(this,e)}const Rm={get:function(){var e=Xe,t=ff;function n(r,a){var i=!e.global&&(e!==Xe||t!==ff);const s=i&&!Pi();var l=new We((c,d)=>{mg(this,new mb(pf(r,e,i,s),pf(a,e,i,s),c,d,e))});return Ga&&xb(l,this),l}return n.prototype=xu,n},set:function(e){wi(this,"then",e&&e.prototype===xu?Rm:{get:function(){return e},set:Rm.set})}};function mb(e,t,n,r,a){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=n,this.reject=r,this.psd=a}function gb(e,t){try{t(n=>{if(e._state===null){if(n===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&Tu();n&&typeof n.then=="function"?gb(e,(a,i)=>{n instanceof We?n._then(a,i):n.then(a,i)}):(e._state=!0,e._value=n,vb(e)),r&&Fu()}},Bm.bind(null,e))}catch(n){Bm(e,n)}}function Bm(e,t){if(yh.push(t),e._state===null){var n=e._lib&&Tu();t=Om(t),e._state=!1,e._value=t,Ga&&t!==null&&typeof t=="object"&&!t._promise&&function(r,a,i){try{r.apply(null,i)}catch(s){a&&a(s)}}(()=>{var r=cg(t,"stack");t._promise=e,wi(t,"stack",{get:()=>Mm?r&&(r.get?r.get.apply(t):r.value):e.stack})}),function(r){Qs.some(a=>a._value===r._value)||Qs.push(r)}(e),vb(e),n&&Fu()}}function vb(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)mg(e,t[n]);var a=e._PSD;--a.ref||a.finalize(),Zs===0&&(++Zs,Vc(()=>{--Zs==0&&gg()},[]))}function mg(e,t){if(e._state!==null){var n=e._state?t.onFulfilled:t.onRejected;if(n===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Zs,Vc(r8,[n,e,t])}else e._listeners.push(t)}function r8(e,t,n){try{Fm=t;var r,a=t._value;t._state?r=e(a):(yh.length&&(yh=[]),r=e(a),yh.indexOf(a)===-1&&function(i){for(var s=Qs.length;s;)if(Qs[--s]._value===i._value)return void Qs.splice(s,1)}(t)),n.resolve(r)}catch(i){n.reject(i)}finally{Fm=null,--Zs==0&&gg(),--n.psd.ref||n.psd.finalize()}}function yb(e,t,n){if(t.length===n)return t;var r="";if(e._state===!1){var a,i,s=e._value;s!=null?(a=s.name||"Error",i=s.message||s,r=Em(s,0)):(a=s,i=""),t.push(a+(i?": "+i:"")+r)}return Ga&&((r=Em(e._stackHolder,2))&&t.indexOf(r)===-1&&t.push(r),e._prev&&yb(e._prev,t,n)),t}function xb(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function Vd(){Tu()&&Fu()}function Tu(){var e=Tm;return Tm=!1,hf=!1,e}function Fu(){var e,t,n;do for(;Tc.length>0;)for(e=Tc,Tc=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}while(Tc.length>0);Tm=!0,hf=!0}function gg(){var e=Qs;Qs=[],e.forEach(r=>{r._PSD.onunhandled.call(null,r._value,r)});for(var t=xh.slice(0),n=t.length;n;)t[--n]()}function Kd(e){return new We(xu,!1,e)}function Yt(e,t){var n=Xe;return function(){var r=Tu(),a=Xe;try{return bs(n,!0),e.apply(this,arguments)}catch(i){t&&t(i)}finally{bs(a,!1),r&&Fu()}}}Ml(We.prototype,{then:Rm,_then:function(e,t){mg(this,new mb(null,null,e,t,Xe))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],n=arguments[1];return typeof t=="function"?this.then(null,r=>r instanceof t?n(r):Kd(r)):this.then(null,r=>r&&r.name===t?n(r):Kd(r))},finally:function(e){return this.then(t=>(e(),t),t=>(e(),Kd(t)))},stack:{get:function(){if(this._stack)return this._stack;try{Mm=!0;var e=yb(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=e),e}finally{Mm=!1}}},timeout:function(e,t){return e<1/0?new We((n,r)=>{var a=setTimeout(()=>r(new it.Timeout(t)),e);this.then(n,r).finally(clearTimeout.bind(null,a))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&wi(We.prototype,Symbol.toStringTag,"Dexie.Promise"),bl.env=bb(),Ml(We,{all:function(){var e=mi.apply(null,arguments).map(Gd);return new We(function(t,n){e.length===0&&t([]);var r=e.length;e.forEach((a,i)=>We.resolve(a).then(s=>{e[i]=s,--r||t(e)},n))})},resolve:e=>{if(e instanceof We)return e;if(e&&typeof e.then=="function")return new We((n,r)=>{e.then(n,r)});var t=new We(xu,!0,e);return xb(t,Fm),t},reject:Kd,race:function(){var e=mi.apply(null,arguments).map(Gd);return new We((t,n)=>{e.map(r=>We.resolve(r).then(t,n))})},PSD:{get:()=>Xe,set:e=>Xe=e},totalEchoes:{get:()=>ff},newPSD:xs,usePSD:zl,scheduler:{get:()=>Vc,set:e=>{Vc=e}},rejectionMapper:{get:()=>Om,set:e=>{Om=e}},follow:(e,t)=>new We((n,r)=>xs((a,i)=>{var s=Xe;s.unhandleds=[],s.onunhandled=i,s.finalize=lo(function(){(function(l){function c(){l(),xh.splice(xh.indexOf(c),1)}xh.push(c),++Zs,Vc(()=>{--Zs==0&&gg()},[])})(()=>{this.unhandleds.length===0?a():i(this.unhandleds[0])})},s.finalize),e()},t,n,r))}),vh&&(vh.allSettled&&wi(We,"allSettled",function(){const e=mi.apply(null,arguments).map(Gd);return new We(t=>{e.length===0&&t([]);let n=e.length;const r=new Array(n);e.forEach((a,i)=>We.resolve(a).then(s=>r[i]={status:"fulfilled",value:s},s=>r[i]={status:"rejected",reason:s}).then(()=>--n||t(r)))})}),vh.any&&typeof AggregateError<"u"&&wi(We,"any",function(){const e=mi.apply(null,arguments).map(Gd);return new We((t,n)=>{e.length===0&&n(new AggregateError([]));let r=e.length;const a=new Array(r);e.forEach((i,s)=>We.resolve(i).then(l=>t(l),l=>{a[s]=l,--r||n(new AggregateError(a))}))})}));const Zn={awaits:0,echoes:0,id:0};var a8=0,bh=[],hp=0,ff=0,i8=0;function xs(e,t,n,r){var a=Xe,i=Object.create(a);i.parent=a,i.ref=0,i.global=!1,i.id=++i8;var s=bl.env;i.env=pg?{Promise:We,PromiseProp:{value:We,configurable:!0,writable:!0},all:We.all,race:We.race,allSettled:We.allSettled,any:We.any,resolve:We.resolve,reject:We.reject,nthen:jv(s.nthen,i),gthen:jv(s.gthen,i)}:{},t&&cr(i,t),++a.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var l=zl(i,e,n,r);return i.ref===0&&i.finalize(),l}function $l(){return Zn.id||(Zn.id=++a8),++Zn.awaits,Zn.echoes+=fb,Zn.id}function Pi(){return!!Zn.awaits&&(--Zn.awaits==0&&(Zn.id=0),Zn.echoes=Zn.awaits*fb,!0)}function Gd(e){return Zn.echoes&&e&&e.constructor===vh?($l(),e.then(t=>(Pi(),t),t=>(Pi(),An(t)))):e}function s8(e){++ff,Zn.echoes&&--Zn.echoes!=0||(Zn.echoes=Zn.id=0),bh.push(Xe),bs(e,!0)}function o8(){var e=bh[bh.length-1];bh.pop(),bs(e,!1)}function bs(e,t){var n=Xe;if((t?!Zn.echoes||hp++&&e===Xe:!hp||--hp&&e===Xe)||wb(t?s8.bind(null,e):o8),e!==Xe&&(Xe=e,n===bl&&(bl.env=bb()),pg)){var r=bl.env.Promise,a=e.env;df.then=a.nthen,r.prototype.then=a.gthen,(n.global||e.global)&&(Object.defineProperty(Wt,"Promise",a.PromiseProp),r.all=a.all,r.race=a.race,r.resolve=a.resolve,r.reject=a.reject,a.allSettled&&(r.allSettled=a.allSettled),a.any&&(r.any=a.any))}}function bb(){var e=Wt.Promise;return pg?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(Wt,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:df.then,gthen:e.prototype.then}:{}}function zl(e,t,n,r,a){var i=Xe;try{return bs(e,!0),t(n,r,a)}finally{bs(i,!1)}}function wb(e){pb.call(Im,e)}function pf(e,t,n,r){return typeof e!="function"?e:function(){var a=Xe;n&&$l(),bs(t,!0);try{return e.apply(this,arguments)}finally{bs(a,!1),r&&wb(Pi)}}}function jv(e,t){return function(n,r){return e.call(this,pf(n,t),pf(r,t))}}(""+pb).indexOf("[native code]")===-1&&($l=Pi=Rt);const Sv="unhandledrejection";function kv(e,t){var n;try{n=t.onuncatched(e)}catch{}if(n!==!1)try{var r,a={promise:t,reason:e};if(Wt.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(Sv,!0,!0),cr(r,a)):Wt.CustomEvent&&cr(r=new CustomEvent(Sv,{detail:a}),a),r&&Wt.dispatchEvent&&(dispatchEvent(r),!Wt.PromiseRejectionEvent&&Wt.onunhandledrejection))try{Wt.onunhandledrejection(r)}catch{}Ga&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch{}}var An=We.reject;function $m(e,t,n,r){if(e.idbdb&&(e._state.openComplete||Xe.letThrough||e._vip)){var a=e._createTransaction(t,n,e._dbSchema);try{a.create(),e._state.PR1398_maxLoop=3}catch(i){return i.name===hg.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>$m(e,t,n,r))):An(i)}return a._promise(t,(i,s)=>xs(()=>(Xe.trans=a,r(i,s,a)))).then(i=>a._completion.then(()=>i))}if(e._state.openComplete)return An(new it.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return An(new it.DatabaseClosed);e.open().catch(Rt)}return e._state.dbReadyPromise.then(()=>$m(e,t,n,r))}const Cv="3.2.7",Gs=String.fromCharCode(65535),zm=-1/0,ui="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Nb="String expected.",Kc=[],Hf=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),l8=Hf,c8=Hf,jb=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),Vf="__dbnames",fp="readonly",pp="readwrite";function co(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const Sb={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Yd(e){return typeof e!="string"||/\./.test(e)?t=>t:t=>(t[e]===void 0&&e in t&&delete(t=Mu(t))[e],t)}let u8=class{_trans(t,n,r){const a=this._tx||Xe.trans,i=this.name;function s(c,d,p){if(!p.schema[i])throw new it.NotFound("Table "+i+" not part of transaction");return n(p.idbtrans,p)}const l=Tu();try{return a&&a.db===this.db?a===Xe.trans?a._promise(t,s,r):xs(()=>a._promise(t,s,r),{trans:a,transless:Xe.transless||Xe}):$m(this.db,t,[this.name],s)}finally{l&&Fu()}}get(t,n){return t&&t.constructor===Object?this.where(t).first(n):this._trans("readonly",r=>this.core.get({trans:r,key:t}).then(a=>this.hook.reading.fire(a))).then(n)}where(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(tr(t))return new this.db.WhereClause(this,`[${t.join("+")}]`);const n=bn(t);if(n.length===1)return this.where(n[0]).equals(t[n[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter(d=>{if(d.compound&&n.every(p=>d.keyPath.indexOf(p)>=0)){for(let p=0;p<n.length;++p)if(n.indexOf(d.keyPath[p])===-1)return!1;return!0}return!1}).sort((d,p)=>d.keyPath.length-p.keyPath.length)[0];if(r&&this.db._maxKey!==Gs){const d=r.keyPath.slice(0,n.length);return this.where(d).equals(d.map(p=>t[p]))}!r&&Ga&&console.warn(`The query ${JSON.stringify(t)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);const{idxByName:a}=this.schema,i=this.db._deps.indexedDB;function s(d,p){try{return i.cmp(d,p)===0}catch{return!1}}const[l,c]=n.reduce(([d,p],f)=>{const v=a[f],m=t[f];return[d||v,d||!v?co(p,v&&v.multi?j=>{const w=Ni(j,f);return tr(w)&&w.some(S=>s(m,S))}:j=>s(m,Ni(j,f))):p]},[null,null]);return l?this.where(l.name).equals(t[l.keyPath]).filter(c):r?this.filter(c):this.where(n).equals("")}filter(t){return this.toCollection().and(t)}count(t){return this.toCollection().count(t)}offset(t){return this.toCollection().offset(t)}limit(t){return this.toCollection().limit(t)}each(t){return this.toCollection().each(t)}toArray(t){return this.toCollection().toArray(t)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(t){return new this.db.Collection(new this.db.WhereClause(this,tr(t)?`[${t.join("+")}]`:t))}reverse(){return this.toCollection().reverse()}mapToClass(t){this.schema.mappedClass=t;const n=r=>{if(!r)return r;const a=Object.create(t.prototype);for(var i in r)if($r(r,i))try{a[i]=r[i]}catch{}return a};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),t}defineClass(){return this.mapToClass(function(t){cr(this,t)})}add(t,n){const{auto:r,keyPath:a}=this.schema.primKey;let i=t;return a&&r&&(i=Yd(a)(t)),this._trans("readwrite",s=>this.core.mutate({trans:s,type:"add",keys:n!=null?[n]:null,values:[i]})).then(s=>s.numFailures?We.reject(s.failures[0]):s.lastResult).then(s=>{if(a)try{Sa(t,a,s)}catch{}return s})}update(t,n){if(typeof t!="object"||tr(t))return this.where(":id").equals(t).modify(n);{const r=Ni(t,this.schema.primKey.keyPath);if(r===void 0)return An(new it.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?bn(n).forEach(a=>{Sa(t,a,n[a])}):n(t,{value:t,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}}put(t,n){const{auto:r,keyPath:a}=this.schema.primKey;let i=t;return a&&r&&(i=Yd(a)(t)),this._trans("readwrite",s=>this.core.mutate({trans:s,type:"put",values:[i],keys:n!=null?[n]:null})).then(s=>s.numFailures?We.reject(s.failures[0]):s.lastResult).then(s=>{if(a)try{Sa(t,a,s)}catch{}return s})}delete(t){return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:[t]})).then(n=>n.numFailures?We.reject(n.failures[0]):void 0)}clear(){return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"deleteRange",range:Sb})).then(t=>t.numFailures?We.reject(t.failures[0]):void 0)}bulkGet(t){return this._trans("readonly",n=>this.core.getMany({keys:t,trans:n}).then(r=>r.map(a=>this.hook.reading.fire(a))))}bulkAdd(t,n,r){const a=Array.isArray(n)?n:void 0,i=(r=r||(a?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",s=>{const{auto:l,keyPath:c}=this.schema.primKey;if(c&&a)throw new it.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(a&&a.length!==t.length)throw new it.InvalidArgument("Arguments objects and keys must have the same length");const d=t.length;let p=c&&l?t.map(Yd(c)):t;return this.core.mutate({trans:s,type:"add",keys:a,values:p,wantResults:i}).then(({numFailures:f,results:v,lastResult:m,failures:j})=>{if(f===0)return i?v:m;throw new Hc(`${this.name}.bulkAdd(): ${f} of ${d} operations failed`,j)})})}bulkPut(t,n,r){const a=Array.isArray(n)?n:void 0,i=(r=r||(a?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",s=>{const{auto:l,keyPath:c}=this.schema.primKey;if(c&&a)throw new it.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(a&&a.length!==t.length)throw new it.InvalidArgument("Arguments objects and keys must have the same length");const d=t.length;let p=c&&l?t.map(Yd(c)):t;return this.core.mutate({trans:s,type:"put",keys:a,values:p,wantResults:i}).then(({numFailures:f,results:v,lastResult:m,failures:j})=>{if(f===0)return i?v:m;throw new Hc(`${this.name}.bulkPut(): ${f} of ${d} operations failed`,j)})})}bulkDelete(t){const n=t.length;return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:t})).then(({numFailures:r,lastResult:a,failures:i})=>{if(r===0)return a;throw new Hc(`${this.name}.bulkDelete(): ${r} of ${n} operations failed`,i)})}};function Gc(e){var t={},n=function(s,l){if(l){for(var c=arguments.length,d=new Array(c-1);--c;)d[c-1]=arguments[c];return t[s].subscribe.apply(null,d),e}if(typeof s=="string")return t[s]};n.addEventType=i;for(var r=1,a=arguments.length;r<a;++r)i(arguments[r]);return n;function i(s,l,c){if(typeof s!="object"){var d;l||(l=t8),c||(c=Rt);var p={subscribers:[],fire:c,subscribe:function(f){p.subscribers.indexOf(f)===-1&&(p.subscribers.push(f),p.fire=l(p.fire,f))},unsubscribe:function(f){p.subscribers=p.subscribers.filter(function(v){return v!==f}),p.fire=p.subscribers.reduce(l,c)}};return t[s]=n[s]=p,p}bn(d=s).forEach(function(f){var v=d[f];if(tr(v))i(f,d[f][0],d[f][1]);else{if(v!=="asap")throw new it.InvalidArgument("Invalid event config");var m=i(f,yu,function(){for(var j=arguments.length,w=new Array(j);j--;)w[j]=arguments[j];m.subscribers.forEach(function(S){ab(function(){S.apply(null,w)})})})}})}}function Cc(e,t){return yl(t).from({prototype:e}),t}function Wo(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function mp(e,t){e.filter=co(e.filter,t)}function gp(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>co(r(),t()):t,e.justLimit=n&&!r}function wh(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new it.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function Av(e,t,n){const r=wh(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:r,range:e.range}})}function Xd(e,t,n,r){const a=e.replayFilter?co(e.filter,e.replayFilter()):e.filter;if(e.or){const i={},s=(l,c,d)=>{if(!a||a(c,d,v=>c.stop(v),v=>c.fail(v))){var p=c.primaryKey,f=""+p;f==="[object ArrayBuffer]"&&(f=""+new Uint8Array(p)),$r(i,f)||(i[f]=!0,t(l,c,d))}};return Promise.all([e.or._iterate(s,n),Pv(Av(e,r,n),e.algorithm,s,!e.keysOnly&&e.valueMapper)])}return Pv(Av(e,r,n),co(e.algorithm,a),t,!e.keysOnly&&e.valueMapper)}function Pv(e,t,n,r){var a=Yt(r?(i,s,l)=>n(r(i),s,l):n);return e.then(i=>{if(i)return i.start(()=>{var s=()=>i.continue();t&&!t(i,l=>s=l,l=>{i.stop(l),s=Rt},l=>{i.fail(l),s=Rt})||a(i.value,i,l=>s=l),s()})})}function or(e,t){try{const n=_v(e),r=_v(t);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(a,i){const s=a.length,l=i.length,c=s<l?s:l;for(let d=0;d<c;++d)if(a[d]!==i[d])return a[d]<i[d]?-1:1;return s===l?0:s<l?-1:1}(Lv(e),Lv(t));case"Array":return function(a,i){const s=a.length,l=i.length,c=s<l?s:l;for(let d=0;d<c;++d){const p=or(a[d],i[d]);if(p!==0)return p}return s===l?0:s<l?-1:1}(e,t)}}catch{}return NaN}function _v(e){const t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";const n=_m(e);return n==="ArrayBuffer"?"binary":n}function Lv(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}let d8=class{_read(t,n){var r=this._ctx;return r.error?r.table._trans(null,An.bind(null,r.error)):r.table._trans("readonly",t).then(n)}_write(t){var n=this._ctx;return n.error?n.table._trans(null,An.bind(null,n.error)):n.table._trans("readwrite",t,"locked")}_addAlgorithm(t){var n=this._ctx;n.algorithm=co(n.algorithm,t)}_iterate(t,n){return Xd(this._ctx,t,n,this._ctx.table.core)}clone(t){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return t&&cr(r,t),n._ctx=r,n}raw(){return this._ctx.valueMapper=null,this}each(t){var n=this._ctx;return this._read(r=>Xd(n,t,r,n.table.core))}count(t){return this._read(n=>{const r=this._ctx,a=r.table.core;if(Wo(r,!0))return a.count({trans:n,query:{index:wh(r,a.schema),range:r.range}}).then(s=>Math.min(s,r.limit));var i=0;return Xd(r,()=>(++i,!1),n,a).then(()=>i)}).then(t)}sortBy(t,n){const r=t.split(".").reverse(),a=r[0],i=r.length-1;function s(d,p){return p?s(d[r[p]],p-1):d[a]}var l=this._ctx.dir==="next"?1:-1;function c(d,p){var f=s(d,i),v=s(p,i);return f<v?-l:f>v?l:0}return this.toArray(function(d){return d.sort(c)}).then(n)}toArray(t){return this._read(n=>{var r=this._ctx;if(r.dir==="next"&&Wo(r,!0)&&r.limit>0){const{valueMapper:a}=r,i=wh(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:i,range:r.range}}).then(({result:s})=>a?s.map(a):s)}{const a=[];return Xd(r,i=>a.push(i),n,r.table.core).then(()=>a)}},t)}offset(t){var n=this._ctx;return t<=0||(n.offset+=t,Wo(n)?gp(n,()=>{var r=t;return(a,i)=>r===0||(r===1?(--r,!1):(i(()=>{a.advance(r),r=0}),!1))}):gp(n,()=>{var r=t;return()=>--r<0})),this}limit(t){return this._ctx.limit=Math.min(this._ctx.limit,t),gp(this._ctx,()=>{var n=t;return function(r,a,i){return--n<=0&&a(i),n>=0}},!0),this}until(t,n){return mp(this._ctx,function(r,a,i){return!t(r.value)||(a(i),n)}),this}first(t){return this.limit(1).toArray(function(n){return n[0]}).then(t)}last(t){return this.reverse().first(t)}filter(t){var n,r;return mp(this._ctx,function(a){return t(a.value)}),n=this._ctx,r=t,n.isMatch=co(n.isMatch,r),this}and(t){return this.filter(t)}or(t){return new this.db.WhereClause(this._ctx.table,t,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,a){t(a.key,a)})}eachUniqueKey(t){return this._ctx.unique="unique",this.eachKey(t)}eachPrimaryKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,a){t(a.primaryKey,a)})}keys(t){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(a,i){r.push(i.key)}).then(function(){return r}).then(t)}primaryKeys(t){var n=this._ctx;if(n.dir==="next"&&Wo(n,!0)&&n.limit>0)return this._read(a=>{var i=wh(n,n.table.core.schema);return n.table.core.query({trans:a,values:!1,limit:n.limit,query:{index:i,range:n.range}})}).then(({result:a})=>a).then(t);n.keysOnly=!n.isMatch;var r=[];return this.each(function(a,i){r.push(i.primaryKey)}).then(function(){return r}).then(t)}uniqueKeys(t){return this._ctx.unique="unique",this.keys(t)}firstKey(t){return this.limit(1).keys(function(n){return n[0]}).then(t)}lastKey(t){return this.reverse().firstKey(t)}distinct(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return mp(this._ctx,function(a){var i=a.primaryKey.toString(),s=$r(r,i);return r[i]=!0,!s}),this}modify(t){var n=this._ctx;return this._write(r=>{var a;if(typeof t=="function")a=t;else{var i=bn(t),s=i.length;a=function(w){for(var S=!1,g=0;g<s;++g){var x=i[g],N=t[x];Ni(w,x)!==N&&(Sa(w,x,N),S=!0)}return S}}const l=n.table.core,{outbound:c,extractKey:d}=l.schema.primaryKey,p=this.db._options.modifyChunkSize||200,f=[];let v=0;const m=[],j=(w,S)=>{const{failures:g,numFailures:x}=S;v+=w-x;for(let N of bn(g))f.push(g[N])};return this.clone().primaryKeys().then(w=>{const S=g=>{const x=Math.min(p,w.length-g);return l.getMany({trans:r,keys:w.slice(g,g+x),cache:"immutable"}).then(N=>{const P=[],R=[],q=c?[]:null,M=[];for(let H=0;H<x;++H){const re=N[H],I={value:Mu(re),primKey:w[g+H]};a.call(I,I.value,I)!==!1&&(I.value==null?M.push(w[g+H]):c||or(d(re),d(I.value))===0?(R.push(I.value),c&&q.push(w[g+H])):(M.push(w[g+H]),P.push(I.value)))}const F=Wo(n)&&n.limit===1/0&&(typeof t!="function"||t===vp)&&{index:n.index,range:n.range};return Promise.resolve(P.length>0&&l.mutate({trans:r,type:"add",values:P}).then(H=>{for(let re in H.failures)M.splice(parseInt(re),1);j(P.length,H)})).then(()=>(R.length>0||F&&typeof t=="object")&&l.mutate({trans:r,type:"put",keys:q,values:R,criteria:F,changeSpec:typeof t!="function"&&t}).then(H=>j(R.length,H))).then(()=>(M.length>0||F&&t===vp)&&l.mutate({trans:r,type:"delete",keys:M,criteria:F}).then(H=>j(M.length,H))).then(()=>w.length>g+x&&S(g+p))})};return S(0).then(()=>{if(f.length>0)throw new uf("Error modifying one or more objects",f,v,m);return w.length})})})}delete(){var t=this._ctx,n=t.range;return Wo(t)&&(t.isPrimKey&&!c8||n.type===3)?this._write(r=>{const{primaryKey:a}=t.table.core.schema,i=n;return t.table.core.count({trans:r,query:{index:a,range:i}}).then(s=>t.table.core.mutate({trans:r,type:"deleteRange",range:i}).then(({failures:l,lastResult:c,results:d,numFailures:p})=>{if(p)throw new uf("Could not delete some values",Object.keys(l).map(f=>l[f]),s-p);return s-p}))}):this.modify(vp)}};const vp=(e,t)=>t.value=null;function h8(e,t){return e<t?-1:e===t?0:1}function f8(e,t){return e>t?-1:e===t?0:1}function Mr(e,t,n){var r=e instanceof Cb?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function Ho(e){return new e.Collection(e,()=>kb("")).limit(0)}function p8(e,t,n,r,a,i){for(var s=Math.min(e.length,r.length),l=-1,c=0;c<s;++c){var d=t[c];if(d!==r[c])return a(e[c],n[c])<0?e.substr(0,c)+n[c]+n.substr(c+1):a(e[c],r[c])<0?e.substr(0,c)+r[c]+n.substr(c+1):l>=0?e.substr(0,l)+t[l]+n.substr(l+1):null;a(e[c],d)<0&&(l=c)}return s<r.length&&i==="next"?e+n.substr(e.length):s<e.length&&i==="prev"?e.substr(0,n.length):l<0?null:e.substr(0,l)+r[l]+n.substr(l+1)}function Jd(e,t,n,r){var a,i,s,l,c,d,p,f=n.length;if(!n.every(w=>typeof w=="string"))return Mr(e,Nb);function v(w){a=function(g){return g==="next"?x=>x.toUpperCase():x=>x.toLowerCase()}(w),i=function(g){return g==="next"?x=>x.toLowerCase():x=>x.toUpperCase()}(w),s=w==="next"?h8:f8;var S=n.map(function(g){return{lower:i(g),upper:a(g)}}).sort(function(g,x){return s(g.lower,x.lower)});l=S.map(function(g){return g.upper}),c=S.map(function(g){return g.lower}),d=w,p=w==="next"?"":r}v("next");var m=new e.Collection(e,()=>Yi(l[0],c[f-1]+r));m._ondirectionchange=function(w){v(w)};var j=0;return m._addAlgorithm(function(w,S,g){var x=w.key;if(typeof x!="string")return!1;var N=i(x);if(t(N,c,j))return!0;for(var P=null,R=j;R<f;++R){var q=p8(x,N,l[R],c[R],s,d);q===null&&P===null?j=R+1:(P===null||s(P,q)>0)&&(P=q)}return S(P!==null?function(){w.continue(P+p)}:g),!1}),m}function Yi(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function kb(e){return{type:1,lower:e,upper:e}}class Cb{get Collection(){return this._ctx.table.db.Collection}between(t,n,r,a){r=r!==!1,a=a===!0;try{return this._cmp(t,n)>0||this._cmp(t,n)===0&&(r||a)&&(!r||!a)?Ho(this):new this.Collection(this,()=>Yi(t,n,!r,!a))}catch{return Mr(this,ui)}}equals(t){return t==null?Mr(this,ui):new this.Collection(this,()=>kb(t))}above(t){return t==null?Mr(this,ui):new this.Collection(this,()=>Yi(t,void 0,!0))}aboveOrEqual(t){return t==null?Mr(this,ui):new this.Collection(this,()=>Yi(t,void 0,!1))}below(t){return t==null?Mr(this,ui):new this.Collection(this,()=>Yi(void 0,t,!1,!0))}belowOrEqual(t){return t==null?Mr(this,ui):new this.Collection(this,()=>Yi(void 0,t))}startsWith(t){return typeof t!="string"?Mr(this,Nb):this.between(t,t+Gs,!0,!0)}startsWithIgnoreCase(t){return t===""?this.startsWith(t):Jd(this,(n,r)=>n.indexOf(r[0])===0,[t],Gs)}equalsIgnoreCase(t){return Jd(this,(n,r)=>n===r[0],[t],"")}anyOfIgnoreCase(){var t=mi.apply(Go,arguments);return t.length===0?Ho(this):Jd(this,(n,r)=>r.indexOf(n)!==-1,t,"")}startsWithAnyOfIgnoreCase(){var t=mi.apply(Go,arguments);return t.length===0?Ho(this):Jd(this,(n,r)=>r.some(a=>n.indexOf(a)===0),t,Gs)}anyOf(){const t=mi.apply(Go,arguments);let n=this._cmp;try{t.sort(n)}catch{return Mr(this,ui)}if(t.length===0)return Ho(this);const r=new this.Collection(this,()=>Yi(t[0],t[t.length-1]));r._ondirectionchange=i=>{n=i==="next"?this._ascending:this._descending,t.sort(n)};let a=0;return r._addAlgorithm((i,s,l)=>{const c=i.key;for(;n(c,t[a])>0;)if(++a,a===t.length)return s(l),!1;return n(c,t[a])===0||(s(()=>{i.continue(t[a])}),!1)}),r}notEqual(t){return this.inAnyRange([[zm,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const t=mi.apply(Go,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return Mr(this,ui)}const n=t.reduce((r,a)=>r?r.concat([[r[r.length-1][1],a]]):[[zm,a]],null);return n.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})}inAnyRange(t,n){const r=this._cmp,a=this._ascending,i=this._descending,s=this._min,l=this._max;if(t.length===0)return Ho(this);if(!t.every(x=>x[0]!==void 0&&x[1]!==void 0&&a(x[0],x[1])<=0))return Mr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",it.InvalidArgument);const c=!n||n.includeLowers!==!1,d=n&&n.includeUppers===!0;let p,f=a;function v(x,N){return f(x[0],N[0])}try{p=t.reduce(function(x,N){let P=0,R=x.length;for(;P<R;++P){const q=x[P];if(r(N[0],q[1])<0&&r(N[1],q[0])>0){q[0]=s(q[0],N[0]),q[1]=l(q[1],N[1]);break}}return P===R&&x.push(N),x},[]),p.sort(v)}catch{return Mr(this,ui)}let m=0;const j=d?x=>a(x,p[m][1])>0:x=>a(x,p[m][1])>=0,w=c?x=>i(x,p[m][0])>0:x=>i(x,p[m][0])>=0;let S=j;const g=new this.Collection(this,()=>Yi(p[0][0],p[p.length-1][1],!c,!d));return g._ondirectionchange=x=>{x==="next"?(S=j,f=a):(S=w,f=i),p.sort(v)},g._addAlgorithm((x,N,P)=>{for(var R=x.key;S(R);)if(++m,m===p.length)return N(P),!1;return!!function(q){return!j(q)&&!w(q)}(R)||(this._cmp(R,p[m][1])===0||this._cmp(R,p[m][0])===0||N(()=>{f===a?x.continue(p[m][0]):x.continue(p[m][1])}),!1)}),g}startsWithAnyOf(){const t=mi.apply(Go,arguments);return t.every(n=>typeof n=="string")?t.length===0?Ho(this):this.inAnyRange(t.map(n=>[n,n+Gs])):Mr(this,"startsWithAnyOf() only works with strings")}}function Ra(e){return Yt(function(t){return bu(t),e(t.target.error),!1})}function bu(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const wu="storagemutated",ns="x-storagemutated-1",ws=Gc(null,wu);class m8{_lock(){return Mc(!Xe.global),++this._reculock,this._reculock!==1||Xe.global||(Xe.lockOwnerFor=this),this}_unlock(){if(Mc(!Xe.global),--this._reculock==0)for(Xe.global||(Xe.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{zl(t[1],t[0])}catch{}}return this}_locked(){return this._reculock&&Xe.lockOwnerFor!==this}create(t){if(!this.mode)return this;const n=this.db.idbdb,r=this.db._state.dbOpenError;if(Mc(!this.idbtrans),!t&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new it.DatabaseClosed(r);case"MissingAPIError":throw new it.MissingAPI(r.message,r);default:throw new it.OpenFailed(r)}if(!this.active)throw new it.TransactionInactive;return Mc(this._completion._state===null),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Yt(a=>{bu(a),this._reject(t.error)}),t.onabort=Yt(a=>{bu(a),this.active&&this._reject(new it.Abort(t.error)),this.active=!1,this.on("abort").fire(a)}),t.oncomplete=Yt(()=>{this.active=!1,this._resolve(),"mutatedParts"in t&&ws.storagemutated.fire(t.mutatedParts)}),this}_promise(t,n,r){if(t==="readwrite"&&this.mode!=="readwrite")return An(new it.ReadOnly("Transaction is readonly"));if(!this.active)return An(new it.TransactionInactive);if(this._locked())return new We((i,s)=>{this._blockedFuncs.push([()=>{this._promise(t,n,r).then(i,s)},Xe])});if(r)return xs(()=>{var i=new We((s,l)=>{this._lock();const c=n(s,l,this);c&&c.then&&c.then(s,l)});return i.finally(()=>this._unlock()),i._lib=!0,i});var a=new We((i,s)=>{var l=n(i,s,this);l&&l.then&&l.then(i,s)});return a._lib=!0,a}_root(){return this.parent?this.parent._root():this}waitFor(t){var n=this._root();const r=We.resolve(t);if(n._waitingFor)n._waitingFor=n._waitingFor.then(()=>r);else{n._waitingFor=r,n._waitingQueue=[];var a=n.idbtrans.objectStore(n.storeNames[0]);(function s(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(a.get(-1/0).onsuccess=s)})()}var i=n._waitingFor;return new We((s,l)=>{r.then(c=>n._waitingQueue.push(Yt(s.bind(null,c))),c=>n._waitingQueue.push(Yt(l.bind(null,c)))).finally(()=>{n._waitingFor===i&&(n._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new it.Abort))}table(t){const n=this._memoizedTables||(this._memoizedTables={});if($r(n,t))return n[t];const r=this.schema[t];if(!r)throw new it.NotFound("Table "+t+" not part of transaction");const a=new this.db.Table(t,r,this);return a.core=this.db.core.table(t),n[t]=a,a}}function qm(e,t,n,r,a,i,s){return{name:e,keyPath:t,unique:n,multi:r,auto:a,compound:i,src:(n&&!s?"&":"")+(r?"*":"")+(a?"++":"")+Ab(t)}}function Ab(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function Pb(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:ib(n,r=>[r.name,r])}}let Nu=e=>{try{return e.only([[]]),Nu=()=>[[]],[[]]}catch{return Nu=()=>Gs,Gs}};function Um(e){return e==null?()=>{}:typeof e=="string"?function(t){return t.split(".").length===1?r=>r[t]:r=>Ni(r,t)}(e):t=>Ni(t,e)}function Ev(e){return[].slice.call(e)}let g8=0;function Yc(e){return e==null?":id":typeof e=="string"?e:`[${e.join("+")}]`}function v8(e,t,n){function r(c){if(c.type===3)return null;if(c.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:d,upper:p,lowerOpen:f,upperOpen:v}=c;return d===void 0?p===void 0?null:t.upperBound(p,!!v):p===void 0?t.lowerBound(d,!!f):t.bound(d,p,!!f,!!v)}const{schema:a,hasGetAll:i}=function(c,d){const p=Ev(c.objectStoreNames);return{schema:{name:c.name,tables:p.map(f=>d.objectStore(f)).map(f=>{const{keyPath:v,autoIncrement:m}=f,j=tr(v),w=v==null,S={},g={name:f.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:w,compound:j,keyPath:v,autoIncrement:m,unique:!0,extractKey:Um(v)},indexes:Ev(f.indexNames).map(x=>f.index(x)).map(x=>{const{name:N,unique:P,multiEntry:R,keyPath:q}=x,M={name:N,compound:tr(q),keyPath:q,unique:P,multiEntry:R,extractKey:Um(q)};return S[Yc(q)]=M,M}),getIndexByKeyPath:x=>S[Yc(x)]};return S[":id"]=g.primaryKey,v!=null&&(S[Yc(v)]=g.primaryKey),g})},hasGetAll:p.length>0&&"getAll"in d.objectStore(p[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),s=a.tables.map(c=>function(d){const p=d.name;return{name:p,schema:d,mutate:function({trans:f,type:v,keys:m,values:j,range:w}){return new Promise((S,g)=>{S=Yt(S);const x=f.objectStore(p),N=x.keyPath==null,P=v==="put"||v==="add";if(!P&&v!=="delete"&&v!=="deleteRange")throw new Error("Invalid operation type: "+v);const{length:R}=m||j||{length:1};if(m&&j&&m.length!==j.length)throw new Error("Given keys array must have same length as given values array.");if(R===0)return S({numFailures:0,failures:{},results:[],lastResult:void 0});let q;const M=[],F=[];let H=0;const re=L=>{++H,bu(L)};if(v==="deleteRange"){if(w.type===4)return S({numFailures:H,failures:F,results:[],lastResult:void 0});w.type===3?M.push(q=x.clear()):M.push(q=x.delete(r(w)))}else{const[L,Y]=P?N?[j,m]:[j,null]:[m,null];if(P)for(let V=0;V<R;++V)M.push(q=Y&&Y[V]!==void 0?x[v](L[V],Y[V]):x[v](L[V])),q.onerror=re;else for(let V=0;V<R;++V)M.push(q=x[v](L[V])),q.onerror=re}const I=L=>{const Y=L.target.result;M.forEach((V,X)=>V.error!=null&&(F[X]=V.error)),S({numFailures:H,failures:F,results:v==="delete"?m:M.map(V=>V.result),lastResult:Y})};q.onerror=L=>{re(L),I(L)},q.onsuccess=I})},getMany:({trans:f,keys:v})=>new Promise((m,j)=>{m=Yt(m);const w=f.objectStore(p),S=v.length,g=new Array(S);let x,N=0,P=0;const R=M=>{const F=M.target;g[F._pos]=F.result,++P===N&&m(g)},q=Ra(j);for(let M=0;M<S;++M)v[M]!=null&&(x=w.get(v[M]),x._pos=M,x.onsuccess=R,x.onerror=q,++N);N===0&&m(g)}),get:({trans:f,key:v})=>new Promise((m,j)=>{m=Yt(m);const w=f.objectStore(p).get(v);w.onsuccess=S=>m(S.target.result),w.onerror=Ra(j)}),query:function(f){return v=>new Promise((m,j)=>{m=Yt(m);const{trans:w,values:S,limit:g,query:x}=v,N=g===1/0?void 0:g,{index:P,range:R}=x,q=w.objectStore(p),M=P.isPrimaryKey?q:q.index(P.name),F=r(R);if(g===0)return m({result:[]});if(f){const H=S?M.getAll(F,N):M.getAllKeys(F,N);H.onsuccess=re=>m({result:re.target.result}),H.onerror=Ra(j)}else{let H=0;const re=S||!("openKeyCursor"in M)?M.openCursor(F):M.openKeyCursor(F),I=[];re.onsuccess=L=>{const Y=re.result;return Y?(I.push(S?Y.value:Y.primaryKey),++H===g?m({result:I}):void Y.continue()):m({result:I})},re.onerror=Ra(j)}})}(i),openCursor:function({trans:f,values:v,query:m,reverse:j,unique:w}){return new Promise((S,g)=>{S=Yt(S);const{index:x,range:N}=m,P=f.objectStore(p),R=x.isPrimaryKey?P:P.index(x.name),q=j?w?"prevunique":"prev":w?"nextunique":"next",M=v||!("openKeyCursor"in R)?R.openCursor(r(N),q):R.openKeyCursor(r(N),q);M.onerror=Ra(g),M.onsuccess=Yt(F=>{const H=M.result;if(!H)return void S(null);H.___id=++g8,H.done=!1;const re=H.continue.bind(H);let I=H.continuePrimaryKey;I&&(I=I.bind(H));const L=H.advance.bind(H),Y=()=>{throw new Error("Cursor not stopped")};H.trans=f,H.stop=H.continue=H.continuePrimaryKey=H.advance=()=>{throw new Error("Cursor not started")},H.fail=Yt(g),H.next=function(){let V=1;return this.start(()=>V--?this.continue():this.stop()).then(()=>this)},H.start=V=>{const X=new Promise((ne,U)=>{ne=Yt(ne),M.onerror=Ra(U),H.fail=U,H.stop=Q=>{H.stop=H.continue=H.continuePrimaryKey=H.advance=Y,ne(Q)}}),Z=()=>{if(M.result)try{V()}catch(ne){H.fail(ne)}else H.done=!0,H.start=()=>{throw new Error("Cursor behind last entry")},H.stop()};return M.onsuccess=Yt(ne=>{M.onsuccess=Z,Z()}),H.continue=re,H.continuePrimaryKey=I,H.advance=L,Z(),X},S(H)},g)})},count({query:f,trans:v}){const{index:m,range:j}=f;return new Promise((w,S)=>{const g=v.objectStore(p),x=m.isPrimaryKey?g:g.index(m.name),N=r(j),P=N?x.count(N):x.count();P.onsuccess=Yt(R=>w(R.target.result)),P.onerror=Ra(S)})}}}(c)),l={};return s.forEach(c=>l[c.name]=c),{stack:"dbcore",transaction:e.transaction.bind(e),table(c){if(!l[c])throw new Error(`Table '${c}' not found`);return l[c]},MIN_KEY:-1/0,MAX_KEY:Nu(t),schema:a}}function Wm({_novip:e},t){const n=t.db,r=function(a,i,{IDBKeyRange:s,indexedDB:l},c){return{dbcore:function(p,f){return f.reduce((v,{create:m})=>({...v,...m(v)}),p)}(v8(i,s,c),a.dbcore)}}(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach(a=>{const i=a.name;e.core.schema.tables.some(s=>s.name===i)&&(a.core=e.core.table(i),e[i]instanceof e.Table&&(e[i].core=a.core))})}function mf({_novip:e},t,n,r){n.forEach(a=>{const i=r[a];t.forEach(s=>{const l=cg(s,a);(!l||"value"in l&&l.value===void 0)&&(s===e.Transaction.prototype||s instanceof e.Transaction?wi(s,a,{get(){return this.table(a)},set(c){nb(this,a,{value:c,writable:!0,configurable:!0,enumerable:!0})}}):s[a]=new e.Table(a,i))})})}function Hm({_novip:e},t){t.forEach(n=>{for(let r in n)n[r]instanceof e.Table&&delete n[r]})}function y8(e,t){return e._cfg.version-t._cfg.version}function x8(e,t,n,r){const a=e._dbSchema,i=e._createTransaction("readwrite",e._storeNames,a);i.create(n),i._completion.catch(r);const s=i._reject.bind(i),l=Xe.transless||Xe;xs(()=>{Xe.trans=i,Xe.transless=l,t===0?(bn(a).forEach(c=>{yp(n,c,a[c].primKey,a[c].indexes)}),Wm(e,n),We.follow(()=>e.on.populate.fire(i)).catch(s)):function({_novip:c},d,p,f){const v=[],m=c._versions;let j=c._dbSchema=Km(c,c.idbdb,f),w=!1;const S=m.filter(x=>x._cfg.version>=d);function g(){return v.length?We.resolve(v.shift()(p.idbtrans)).then(g):We.resolve()}return S.forEach(x=>{v.push(()=>{const N=j,P=x._cfg.dbschema;Gm(c,N,f),Gm(c,P,f),j=c._dbSchema=P;const R=_b(N,P);R.add.forEach(M=>{yp(f,M[0],M[1].primKey,M[1].indexes)}),R.change.forEach(M=>{if(M.recreate)throw new it.Upgrade("Not yet support for changing primary key");{const F=f.objectStore(M.name);M.add.forEach(H=>Vm(F,H)),M.change.forEach(H=>{F.deleteIndex(H.name),Vm(F,H)}),M.del.forEach(H=>F.deleteIndex(H))}});const q=x._cfg.contentUpgrade;if(q&&x._cfg.version>d){Wm(c,f),p._memoizedTables={},w=!0;let M=sb(P);R.del.forEach(I=>{M[I]=N[I]}),Hm(c,[c.Transaction.prototype]),mf(c,[c.Transaction.prototype],bn(M),M),p.schema=M;const F=ug(q);let H;F&&$l();const re=We.follow(()=>{if(H=q(p),H&&F){var I=Pi.bind(null,null);H.then(I,I)}});return H&&typeof H.then=="function"?We.resolve(H):re.then(()=>H)}}),v.push(N=>{(!w||!l8)&&function(P,R){[].slice.call(R.db.objectStoreNames).forEach(q=>P[q]==null&&R.db.deleteObjectStore(q))}(x._cfg.dbschema,N),Hm(c,[c.Transaction.prototype]),mf(c,[c.Transaction.prototype],c._storeNames,c._dbSchema),p.schema=c._dbSchema})}),g().then(()=>{var x,N;N=f,bn(x=j).forEach(P=>{N.db.objectStoreNames.contains(P)||yp(N,P,x[P].primKey,x[P].indexes)})})}(e,t,i,n).catch(s)})}function _b(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const a=e[r],i=t[r];if(a){const s={name:r,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(a.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||a.primKey.auto!==i.primKey.auto&&!Hf)s.recreate=!0,n.change.push(s);else{const l=a.idxByName,c=i.idxByName;let d;for(d in l)c[d]||s.del.push(d);for(d in c){const p=l[d],f=c[d];p?p.src!==f.src&&s.change.push(f):s.add.push(f)}(s.del.length>0||s.add.length>0||s.change.length>0)&&n.change.push(s)}}else n.add.push([r,i])}return n}function yp(e,t,n,r){const a=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(i=>Vm(a,i)),a}function Vm(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function Km(e,t,n){const r={};return cf(t.objectStoreNames,0).forEach(a=>{const i=n.objectStore(a);let s=i.keyPath;const l=qm(Ab(s),s||"",!1,!1,!!i.autoIncrement,s&&typeof s!="string",!0),c=[];for(let p=0;p<i.indexNames.length;++p){const f=i.index(i.indexNames[p]);s=f.keyPath;var d=qm(f.name,s,!!f.unique,!!f.multiEntry,!1,s&&typeof s!="string",!1);c.push(d)}r[a]=Pb(a,l,c)}),r}function Gm({_novip:e},t,n){const r=n.db.objectStoreNames;for(let a=0;a<r.length;++a){const i=r[a],s=n.objectStore(i);e._hasGetAll="getAll"in s;for(let l=0;l<s.indexNames.length;++l){const c=s.indexNames[l],d=s.index(c).keyPath,p=typeof d=="string"?d:"["+cf(d).join("+")+"]";if(t[i]){const f=t[i].idxByName[p];f&&(f.name=c,delete t[i].idxByName[p],t[i].idxByName[c]=f)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Wt.WorkerGlobalScope&&Wt instanceof Wt.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class b8{_parseStoresSpec(t,n){bn(t).forEach(r=>{if(t[r]!==null){var a=t[r].split(",").map((s,l)=>{const c=(s=s.trim()).replace(/([&*]|\+\+)/g,""),d=/^\[/.test(c)?c.match(/^\[(.*)\]$/)[1].split("+"):c;return qm(c,d||null,/\&/.test(s),/\*/.test(s),/\+\+/.test(s),tr(d),l===0)}),i=a.shift();if(i.multi)throw new it.Schema("Primary key cannot be multi-valued");a.forEach(s=>{if(s.auto)throw new it.Schema("Only primary key can be marked as autoIncrement (++)");if(!s.keyPath)throw new it.Schema("Index must have a name and cannot be an empty string")}),n[r]=Pb(r,i,a)}})}stores(t){const n=this.db;this._cfg.storesSource=this._cfg.storesSource?cr(this._cfg.storesSource,t):t;const r=n._versions,a={};let i={};return r.forEach(s=>{cr(a,s._cfg.storesSource),i=s._cfg.dbschema={},s._parseStoresSpec(a,i)}),n._dbSchema=i,Hm(n,[n._allTables,n,n.Transaction.prototype]),mf(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],bn(i),i),n._storeNames=bn(i),this}upgrade(t){return this._cfg.contentUpgrade=fg(this._cfg.contentUpgrade||Rt,t),this}}function vg(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new eo(Vf,{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function yg(e){return e&&typeof e.databases=="function"}function Ym(e){return xs(function(){return Xe.letThrough=!0,e()})}function w8(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()}).finally(function(){return clearInterval(e)}):Promise.resolve()}function N8(e){const t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(()=>t.dbOpenError?An(t.dbOpenError):e);Ga&&(t.openCanceller._stackHolder=go()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const r=t.openCanceller;function a(){if(t.openCanceller!==r)throw new it.DatabaseClosed("db.open() was cancelled")}let i=t.dbReadyResolve,s=null,l=!1;const c=()=>new We((d,p)=>{if(a(),!n)throw new it.MissingAPI;const f=e.name,v=t.autoSchema?n.open(f):n.open(f,Math.round(10*e.verno));if(!v)throw new it.MissingAPI;v.onerror=Ra(p),v.onblocked=Yt(e._fireOnBlocked),v.onupgradeneeded=Yt(m=>{if(s=v.transaction,t.autoSchema&&!e._options.allowEmptyDB){v.onerror=bu,s.abort(),v.result.close();const w=n.deleteDatabase(f);w.onsuccess=w.onerror=Yt(()=>{p(new it.NoSuchDatabase(`Database ${f} doesnt exist`))})}else{s.onerror=Ra(p);var j=m.oldVersion>Math.pow(2,62)?0:m.oldVersion;l=j<1,e._novip.idbdb=v.result,x8(e,j/10,s,p)}},p),v.onsuccess=Yt(()=>{s=null;const m=e._novip.idbdb=v.result,j=cf(m.objectStoreNames);if(j.length>0)try{const S=m.transaction((w=j).length===1?w[0]:w,"readonly");t.autoSchema?function({_novip:g},x,N){g.verno=x.version/10;const P=g._dbSchema=Km(0,x,N);g._storeNames=cf(x.objectStoreNames,0),mf(g,[g._allTables],bn(P),P)}(e,m,S):(Gm(e,e._dbSchema,S),function(g,x){const N=_b(Km(0,g.idbdb,x),g._dbSchema);return!(N.add.length||N.change.some(P=>P.add.length||P.change.length))}(e,S)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Wm(e,S)}catch{}var w;Kc.push(e),m.onversionchange=Yt(S=>{t.vcFired=!0,e.on("versionchange").fire(S)}),m.onclose=Yt(S=>{e.on("close").fire(S)}),l&&function({indexedDB:S,IDBKeyRange:g},x){!yg(S)&&x!==Vf&&vg(S,g).put({name:x}).catch(Rt)}(e._deps,f),d()},p)}).catch(d=>d&&d.name==="UnknownError"&&t.PR1398_maxLoop>0?(t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),c()):We.reject(d));return We.race([r,(typeof navigator>"u"?We.resolve():w8()).then(c)]).then(()=>(a(),t.onReadyBeingFired=[],We.resolve(Ym(()=>e.on.ready.fire(e.vip))).then(function d(){if(t.onReadyBeingFired.length>0){let p=t.onReadyBeingFired.reduce(fg,Rt);return t.onReadyBeingFired=[],We.resolve(Ym(()=>p(e.vip))).then(d)}}))).finally(()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(()=>e).catch(d=>{t.dbOpenError=d;try{s&&s.abort()}catch{}return r===t.openCanceller&&e._close(),An(d)}).finally(()=>{t.openComplete=!0,i()})}function Xm(e){var t=i=>e.next(i),n=a(t),r=a(i=>e.throw(i));function a(i){return s=>{var l=i(s),c=l.value;return l.done?c:c&&typeof c.then=="function"?c.then(n,r):tr(c)?Promise.all(c).then(n,r):n(c)}}return a(t)()}function j8(e,t,n){var r=arguments.length;if(r<2)throw new it.InvalidArgument("Too few arguments");for(var a=new Array(r-1);--r;)a[r-1]=arguments[r];return n=a.pop(),[e,ob(a),n]}function Lb(e,t,n,r,a){return We.resolve().then(()=>{const i=Xe.transless||Xe,s=e._createTransaction(t,n,e._dbSchema,r),l={trans:s,transless:i};if(r)s.idbtrans=r.idbtrans;else try{s.create(),e._state.PR1398_maxLoop=3}catch(f){return f.name===hg.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>Lb(e,t,n,null,a))):An(f)}const c=ug(a);let d;c&&$l();const p=We.follow(()=>{if(d=a.call(s,s),d)if(c){var f=Pi.bind(null,null);d.then(f,f)}else typeof d.next=="function"&&typeof d.throw=="function"&&(d=Xm(d))},l);return(d&&typeof d.then=="function"?We.resolve(d).then(f=>s.active?f:An(new it.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):p.then(()=>d)).then(f=>(r&&s._resolve(),s._completion.then(()=>f))).catch(f=>(s._reject(f),An(f)))})}function Qd(e,t,n){const r=tr(e)?e.slice():[e];for(let a=0;a<n;++a)r.push(t);return r}const S8={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:r}=n,a={},i=[];function s(p,f,v){const m=Yc(p),j=a[m]=a[m]||[],w=p==null?0:typeof p=="string"?1:p.length,S=f>0,g={...v,isVirtual:S,keyTail:f,keyLength:w,extractKey:Um(p),unique:!S&&v.unique};return j.push(g),g.isPrimaryKey||i.push(g),w>1&&s(w===2?p[0]:p.slice(0,w-1),f+1,v),j.sort((x,N)=>x.keyTail-N.keyTail),g}const l=s(r.primaryKey.keyPath,0,r.primaryKey);a[":id"]=[l];for(const p of r.indexes)s(p.keyPath,0,p);function c(p){const f=p.query.index;return f.isVirtual?{...p,query:{index:f,range:(v=p.query.range,m=f.keyTail,{type:v.type===1?2:v.type,lower:Qd(v.lower,v.lowerOpen?e.MAX_KEY:e.MIN_KEY,m),lowerOpen:!0,upper:Qd(v.upper,v.upperOpen?e.MIN_KEY:e.MAX_KEY,m),upperOpen:!0})}}:p;var v,m}return{...n,schema:{...r,primaryKey:l,indexes:i,getIndexByKeyPath:function(p){const f=a[Yc(p)];return f&&f[0]}},count:p=>n.count(c(p)),query:p=>n.query(c(p)),openCursor(p){const{keyTail:f,isVirtual:v,keyLength:m}=p.query.index;return v?n.openCursor(c(p)).then(j=>j&&function(w){return Object.create(w,{continue:{value:function(g){g!=null?w.continue(Qd(g,p.reverse?e.MAX_KEY:e.MIN_KEY,f)):p.unique?w.continue(w.key.slice(0,m).concat(p.reverse?e.MIN_KEY:e.MAX_KEY,f)):w.continue()}},continuePrimaryKey:{value(g,x){w.continuePrimaryKey(Qd(g,e.MAX_KEY,f),x)}},primaryKey:{get:()=>w.primaryKey},key:{get(){const g=w.key;return m===1?g[0]:g.slice(0,m)}},value:{get:()=>w.value}})}(j)):n.openCursor(p)}}}}}};function xg(e,t,n,r){return n=n||{},r=r||"",bn(e).forEach(a=>{if($r(t,a)){var i=e[a],s=t[a];if(typeof i=="object"&&typeof s=="object"&&i&&s){const l=_m(i);l!==_m(s)?n[r+a]=t[a]:l==="Object"?xg(i,s,n,r+a+"."):i!==s&&(n[r+a]=t[a])}else i!==s&&(n[r+a]=t[a])}else n[r+a]=void 0}),bn(t).forEach(a=>{$r(e,a)||(n[r+a]=t[a])}),n}const k8={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema;return{...n,mutate(i){const s=Xe.trans,{deleting:l,creating:c,updating:d}=s.table(t).hook;switch(i.type){case"add":if(c.fire===Rt)break;return s._promise("readwrite",()=>p(i),!0);case"put":if(c.fire===Rt&&d.fire===Rt)break;return s._promise("readwrite",()=>p(i),!0);case"delete":if(l.fire===Rt)break;return s._promise("readwrite",()=>p(i),!0);case"deleteRange":if(l.fire===Rt)break;return s._promise("readwrite",()=>function(v){return f(v.trans,v.range,1e4)}(i),!0)}return n.mutate(i);function p(v){const m=Xe.trans,j=v.keys||function(w,S){return S.type==="delete"?S.keys:S.keys||S.values.map(w.extractKey)}(r,v);if(!j)throw new Error("Keys missing");return(v=v.type==="add"||v.type==="put"?{...v,keys:j}:{...v}).type!=="delete"&&(v.values=[...v.values]),v.keys&&(v.keys=[...v.keys]),function(w,S,g){return S.type==="add"?Promise.resolve([]):w.getMany({trans:S.trans,keys:g,cache:"immutable"})}(n,v,j).then(w=>{const S=j.map((g,x)=>{const N=w[x],P={onerror:null,onsuccess:null};if(v.type==="delete")l.fire.call(P,g,N,m);else if(v.type==="add"||N===void 0){const R=c.fire.call(P,g,v.values[x],m);g==null&&R!=null&&(g=R,v.keys[x]=g,r.outbound||Sa(v.values[x],r.keyPath,g))}else{const R=xg(N,v.values[x]),q=d.fire.call(P,R,g,N,m);if(q){const M=v.values[x];Object.keys(q).forEach(F=>{$r(M,F)?M[F]=q[F]:Sa(M,F,q[F])})}}return P});return n.mutate(v).then(({failures:g,results:x,numFailures:N,lastResult:P})=>{for(let R=0;R<j.length;++R){const q=x?x[R]:j[R],M=S[R];q==null?M.onerror&&M.onerror(g[R]):M.onsuccess&&M.onsuccess(v.type==="put"&&w[R]?v.values[R]:q)}return{failures:g,results:x,numFailures:N,lastResult:P}}).catch(g=>(S.forEach(x=>x.onerror&&x.onerror(g)),Promise.reject(g)))})}function f(v,m,j){return n.query({trans:v,values:!1,query:{index:r,range:m},limit:j}).then(({result:w})=>p({type:"delete",keys:w,trans:v}).then(S=>S.numFailures>0?Promise.reject(S.failures[0]):w.length<j?{failures:[],numFailures:0,lastResult:void 0}:f(v,{...m,lower:w[w.length-1],lowerOpen:!0},j)))}}}}})};function Eb(e,t,n){try{if(!t||t.keys.length<e.length)return null;const r=[];for(let a=0,i=0;a<t.keys.length&&i<e.length;++a)or(t.keys[a],e[i])===0&&(r.push(n?Mu(t.values[a]):t.values[a]),++i);return r.length===e.length?r:null}catch{return null}}const C8={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:r=>{if(!r.cache)return n.getMany(r);const a=Eb(r.keys,r.trans._cache,r.cache==="clone");return a?We.resolve(a):n.getMany(r).then(i=>(r.trans._cache={keys:r.keys,values:r.cache==="clone"?Mu(i):i},i))},mutate:r=>(r.type!=="add"&&(r.trans._cache=null),n.mutate(r))}}})};function bg(e){return!("from"in e)}const pi=function(e,t){if(!this){const n=new pi;return e&&"d"in e&&cr(n,e),n}cr(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function ju(e,t,n){const r=or(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if(bg(e))return cr(e,{from:t,to:n,d:1});const a=e.l,i=e.r;if(or(n,e.from)<0)return a?ju(a,t,n):e.l={from:t,to:n,d:1,l:null,r:null},Iv(e);if(or(t,e.to)>0)return i?ju(i,t,n):e.r={from:t,to:n,d:1,l:null,r:null},Iv(e);or(t,e.from)<0&&(e.from=t,e.l=null,e.d=i?i.d+1:1),or(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const s=!e.r;a&&!e.l&&gf(e,a),i&&s&&gf(e,i)}function gf(e,t){bg(t)||function n(r,{from:a,to:i,l:s,r:l}){ju(r,a,i),s&&n(r,s),l&&n(r,l)}(e,t)}function A8(e,t){const n=Jm(t);let r=n.next();if(r.done)return!1;let a=r.value;const i=Jm(e);let s=i.next(a.from),l=s.value;for(;!r.done&&!s.done;){if(or(l.from,a.to)<=0&&or(l.to,a.from)>=0)return!0;or(a.from,l.from)<0?a=(r=n.next(l.from)).value:l=(s=i.next(a.from)).value}return!1}function Jm(e){let t=bg(e)?null:{s:0,n:e};return{next(n){const r=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&or(n,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||or(n,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Iv(e){var t,n;const r=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((n=e.l)===null||n===void 0?void 0:n.d)||0),a=r>1?"r":r<-1?"l":"";if(a){const i=a==="r"?"l":"r",s={...e},l=e[a];e.from=l.from,e.to=l.to,e[a]=l[a],s[a]=l[i],e[i]=s,s.d=Dv(s)}e.d=Dv(e)}function Dv({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}Ml(pi.prototype,{add(e){return gf(this,e),this},addKey(e){return ju(this,e,e),this},addKeys(e){return e.forEach(t=>ju(this,t,t)),this},[Lm](){return Jm(this)}});const P8={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,n=new pi(e.MIN_KEY,e.MAX_KEY);return{...e,table:r=>{const a=e.table(r),{schema:i}=a,{primaryKey:s}=i,{extractKey:l,outbound:c}=s,d={...a,mutate:v=>{const m=v.trans,j=m.mutatedParts||(m.mutatedParts={}),w=q=>{const M=`idb://${t}/${r}/${q}`;return j[M]||(j[M]=new pi)},S=w(""),g=w(":dels"),{type:x}=v;let[N,P]=v.type==="deleteRange"?[v.range]:v.type==="delete"?[v.keys]:v.values.length<50?[[],v.values]:[];const R=v.trans._cache;return a.mutate(v).then(q=>{if(tr(N)){x!=="delete"&&(N=q.results),S.addKeys(N);const M=Eb(N,R);M||x==="add"||g.addKeys(N),(M||P)&&function(F,H,re,I){function L(Y){const V=F(Y.name||"");function X(ne){return ne!=null?Y.extractKey(ne):null}const Z=ne=>Y.multiEntry&&tr(ne)?ne.forEach(U=>V.addKey(U)):V.addKey(ne);(re||I).forEach((ne,U)=>{const Q=re&&X(re[U]),te=I&&X(I[U]);or(Q,te)!==0&&(Q!=null&&Z(Q),te!=null&&Z(te))})}H.indexes.forEach(L)}(w,i,M,P)}else if(N){const M={from:N.lower,to:N.upper};g.add(M),S.add(M)}else S.add(n),g.add(n),i.indexes.forEach(M=>w(M.name).add(n));return q})}},p=({query:{index:v,range:m}})=>{var j,w;return[v,new pi((j=m.lower)!==null&&j!==void 0?j:e.MIN_KEY,(w=m.upper)!==null&&w!==void 0?w:e.MAX_KEY)]},f={get:v=>[s,new pi(v.key)],getMany:v=>[s,new pi().addKeys(v.keys)],count:p,query:p,openCursor:p};return bn(f).forEach(v=>{d[v]=function(m){const{subscr:j}=Xe;if(j){const w=P=>{const R=`idb://${t}/${r}/${P}`;return j[R]||(j[R]=new pi)},S=w(""),g=w(":dels"),[x,N]=f[v](m);if(w(x.name||"").add(N),!x.isPrimaryKey){if(v!=="count"){const P=v==="query"&&c&&m.values&&a.query({...m,values:!1});return a[v].apply(this,arguments).then(R=>{if(v==="query"){if(c&&m.values)return P.then(({result:M})=>(S.addKeys(M),R));const q=m.values?R.result.map(l):R.result;m.values?S.addKeys(q):g.addKeys(q)}else if(v==="openCursor"){const q=R,M=m.values;return q&&Object.create(q,{key:{get:()=>(g.addKey(q.primaryKey),q.key)},primaryKey:{get(){const F=q.primaryKey;return g.addKey(F),F}},value:{get:()=>(M&&S.addKey(q.primaryKey),q.value)}})}return R})}g.add(n)}}return a[v].apply(this,arguments)}}),d}}}};class eo{constructor(t,n){this._middlewares={},this.verno=0;const r=eo.dependencies;this._options=n={addons:eo.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...n},this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};const{addons:a}=n;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const i={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Rt,dbReadyPromise:null,cancelOpen:Rt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var s;i.dbReadyPromise=new We(l=>{i.dbReadyResolve=l}),i.openCanceller=new We((l,c)=>{i.cancelOpen=c}),this._state=i,this.name=t,this.on=Gc(this,"populate","blocked","versionchange","close",{ready:[fg,Rt]}),this.on.ready.subscribe=rb(this.on.ready.subscribe,l=>(c,d)=>{eo.vip(()=>{const p=this._state;if(p.openComplete)p.dbOpenError||We.resolve().then(c),d&&l(c);else if(p.onReadyBeingFired)p.onReadyBeingFired.push(c),d&&l(c);else{l(c);const f=this;d||l(function v(){f.on.ready.unsubscribe(c),f.on.ready.unsubscribe(v)})}})}),this.Collection=(s=this,Cc(d8.prototype,function(l,c){this.db=s;let d=Sb,p=null;if(c)try{d=c()}catch(j){p=j}const f=l._ctx,v=f.table,m=v.hook.reading.fire;this._ctx={table:v,index:f.index,isPrimKey:!f.index||v.schema.primKey.keyPath&&f.index===v.schema.primKey.name,range:d,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:p,or:f.or,valueMapper:m!==yu?m:null}})),this.Table=function(l){return Cc(u8.prototype,function(c,d,p){this.db=l,this._tx=p,this.name=c,this.schema=d,this.hook=l._allTables[c]?l._allTables[c].hook:Gc(null,{creating:[Qk,Rt],reading:[Jk,yu],updating:[e8,Rt],deleting:[Zk,Rt]})})}(this),this.Transaction=function(l){return Cc(m8.prototype,function(c,d,p,f,v){this.db=l,this.mode=c,this.storeNames=d,this.schema=p,this.chromeTransactionDurability=f,this.idbtrans=null,this.on=Gc(this,"complete","error","abort"),this.parent=v||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new We((m,j)=>{this._resolve=m,this._reject=j}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},m=>{var j=this.active;return this.active=!1,this.on.error.fire(m),this.parent?this.parent._reject(m):j&&this.idbtrans&&this.idbtrans.abort(),An(m)})})}(this),this.Version=function(l){return Cc(b8.prototype,function(c){this.db=l,this._cfg={version:c,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(l){return Cc(Cb.prototype,function(c,d,p){this.db=l,this._ctx={table:c,index:d===":id"?null:d,or:p};const f=l._deps.indexedDB;if(!f)throw new it.MissingAPI;this._cmp=this._ascending=f.cmp.bind(f),this._descending=(v,m)=>f.cmp(m,v),this._max=(v,m)=>f.cmp(v,m)>0?v:m,this._min=(v,m)=>f.cmp(v,m)<0?v:m,this._IDBKeyRange=l._deps.IDBKeyRange})}(this),this.on("versionchange",l=>{l.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",l=>{!l.newVersion||l.newVersion<l.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${l.oldVersion/10}`)}),this._maxKey=Nu(n.IDBKeyRange),this._createTransaction=(l,c,d,p)=>new this.Transaction(l,c,d,this._options.chromeTransactionDurability,p),this._fireOnBlocked=l=>{this.on("blocked").fire(l),Kc.filter(c=>c.name===this.name&&c!==this&&!c._state.vcFired).map(c=>c.on("versionchange").fire(l))},this.use(S8),this.use(k8),this.use(P8),this.use(C8),this.vip=Object.create(this,{_vip:{value:!0}}),a.forEach(l=>l(this))}version(t){if(isNaN(t)||t<.1)throw new it.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new it.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);const n=this._versions;var r=n.filter(a=>a._cfg.version===t)[0];return r||(r=new this.Version(t),n.push(r),n.sort(y8),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(t){return this.idbdb&&(this._state.openComplete||Xe.letThrough||this._vip)?t():new We((n,r)=>{if(this._state.openComplete)return r(new it.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void r(new it.DatabaseClosed);this.open().catch(Rt)}this._state.dbReadyPromise.then(n,r)}).then(t)}use({stack:t,create:n,level:r,name:a}){a&&this.unuse({stack:t,name:a});const i=this._middlewares[t]||(this._middlewares[t]=[]);return i.push({stack:t,create:n,level:r??10,name:a}),i.sort((s,l)=>s.level-l.level),this}unuse({stack:t,name:n,create:r}){return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(a=>r?a.create!==r:!!n&&a.name!==n)),this}open(){return N8(this)}_close(){const t=this._state,n=Kc.indexOf(this);if(n>=0&&Kc.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new We(r=>{t.dbReadyResolve=r}),t.openCanceller=new We((r,a)=>{t.cancelOpen=a})}close(){this._close();const t=this._state;this._options.autoOpen=!1,t.dbOpenError=new it.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}delete(){const t=arguments.length>0,n=this._state;return new We((r,a)=>{const i=()=>{this.close();var s=this._deps.indexedDB.deleteDatabase(this.name);s.onsuccess=Yt(()=>{(function({indexedDB:l,IDBKeyRange:c},d){!yg(l)&&d!==Vf&&vg(l,c).delete(d).catch(Rt)})(this._deps,this.name),r()}),s.onerror=Ra(a),s.onblocked=this._fireOnBlocked};if(t)throw new it.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(i):i()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return bn(this._allTables).map(t=>this._allTables[t])}transaction(){const t=j8.apply(this,arguments);return this._transaction.apply(this,t)}_transaction(t,n,r){let a=Xe.trans;a&&a.db===this&&t.indexOf("!")===-1||(a=null);const i=t.indexOf("?")!==-1;let s,l;t=t.replace("!","").replace("?","");try{if(l=n.map(d=>{var p=d instanceof this.Table?d.name:d;if(typeof p!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return p}),t=="r"||t===fp)s=fp;else{if(t!="rw"&&t!=pp)throw new it.InvalidArgument("Invalid transaction mode: "+t);s=pp}if(a){if(a.mode===fp&&s===pp){if(!i)throw new it.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");a=null}a&&l.forEach(d=>{if(a&&a.storeNames.indexOf(d)===-1){if(!i)throw new it.SubTransaction("Table "+d+" not included in parent transaction.");a=null}}),i&&a&&!a.active&&(a=null)}}catch(d){return a?a._promise(null,(p,f)=>{f(d)}):An(d)}const c=Lb.bind(null,this,s,l,a,r);return a?a._promise(s,c,"lock"):Xe.trans?zl(Xe.transless,()=>this._whenReady(c)):this._whenReady(c)}table(t){if(!$r(this._allTables,t))throw new it.InvalidTable(`Table ${t} does not exist`);return this._allTables[t]}}const _8=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class L8{constructor(t){this._subscribe=t}subscribe(t,n,r){return this._subscribe(t&&typeof t!="function"?t:{next:t,error:n,complete:r})}[_8](){return this}}function Ib(e,t){return bn(t).forEach(n=>{gf(e[n]||(e[n]=new pi),t[n])}),e}function Db(e){let t,n=!1;const r=new L8(a=>{const i=ug(e);let s=!1,l={},c={};const d={get closed(){return s},unsubscribe:()=>{s=!0,ws.storagemutated.unsubscribe(m)}};a.start&&a.start(d);let p=!1,f=!1;function v(){return bn(c).some(w=>l[w]&&A8(l[w],c[w]))}const m=w=>{Ib(l,w),v()&&j()},j=()=>{if(p||s)return;l={};const w={},S=function(g){i&&$l();const x=()=>xs(e,{subscr:g,trans:null}),N=Xe.trans?zl(Xe.transless,x):x();return i&&N.then(Pi,Pi),N}(w);f||(ws(wu,m),f=!0),p=!0,Promise.resolve(S).then(g=>{n=!0,t=g,p=!1,s||(v()?j():(l={},c=w,a.next&&a.next(g)))},g=>{p=!1,n=!1,a.error&&a.error(g),d.unsubscribe()})};return j(),d});return r.hasValue=()=>n,r.getValue=()=>t,r}let Qm;try{Qm={indexedDB:Wt.indexedDB||Wt.mozIndexedDB||Wt.webkitIndexedDB||Wt.msIndexedDB,IDBKeyRange:Wt.IDBKeyRange||Wt.webkitIDBKeyRange}}catch{Qm={indexedDB:null,IDBKeyRange:null}}const Bs=eo;function Nh(e){let t=yi;try{yi=!0,ws.storagemutated.fire(e)}finally{yi=t}}Ml(Bs,{...gh,delete:e=>new Bs(e,{addons:[]}).delete(),exists:e=>new Bs(e,{addons:[]}).open().then(t=>(t.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(e){try{return function({indexedDB:t,IDBKeyRange:n}){return yg(t)?Promise.resolve(t.databases()).then(r=>r.map(a=>a.name).filter(a=>a!==Vf)):vg(t,n).toCollection().primaryKeys()}(Bs.dependencies).then(e)}catch{return An(new it.MissingAPI)}},defineClass:()=>function(e){cr(this,e)},ignoreTransaction:e=>Xe.trans?zl(Xe.transless,e):e(),vip:Ym,async:function(e){return function(){try{var t=Xm(e.apply(this,arguments));return t&&typeof t.then=="function"?t:We.resolve(t)}catch(n){return An(n)}}},spawn:function(e,t,n){try{var r=Xm(e.apply(n,t||[]));return r&&typeof r.then=="function"?r:We.resolve(r)}catch(a){return An(a)}},currentTransaction:{get:()=>Xe.trans||null},waitFor:function(e,t){const n=We.resolve(typeof e=="function"?Bs.ignoreTransaction(e):e).timeout(t||6e4);return Xe.trans?Xe.trans.waitFor(n):n},Promise:We,debug:{get:()=>Ga,set:e=>{cb(e,e==="dexie"?()=>!0:jb)}},derive:yl,extend:cr,props:Ml,override:rb,Events:Gc,on:ws,liveQuery:Db,extendObservabilitySet:Ib,getByKeyPath:Ni,setByKeyPath:Sa,delByKeyPath:function(e,t){typeof t=="string"?Sa(e,t,void 0):"length"in t&&[].map.call(t,function(n){Sa(e,n,void 0)})},shallowClone:sb,deepClone:Mu,getObjectDiff:xg,cmp:or,asap:ab,minKey:zm,addons:[],connections:Kc,errnames:hg,dependencies:Qm,semVer:Cv,version:Cv.split(".").map(e=>parseInt(e)).reduce((e,t,n)=>e+t/Math.pow(10,2*n))}),Bs.maxKey=Nu(Bs.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(ws(wu,e=>{if(!yi){let t;Hf?(t=document.createEvent("CustomEvent"),t.initCustomEvent(ns,!0,!0,e)):t=new CustomEvent(ns,{detail:e}),yi=!0,dispatchEvent(t),yi=!1}}),addEventListener(ns,({detail:e})=>{yi||Nh(e)}));let yi=!1;if(typeof BroadcastChannel<"u"){const e=new BroadcastChannel(ns);typeof e.unref=="function"&&e.unref(),ws(wu,t=>{yi||e.postMessage(t)}),e.onmessage=t=>{t.data&&Nh(t.data)}}else if(typeof self<"u"&&typeof navigator<"u"){ws(wu,t=>{try{yi||(typeof localStorage<"u"&&localStorage.setItem(ns,JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(n=>n.postMessage({type:ns,changedParts:t})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",t=>{if(t.key===ns){const n=JSON.parse(t.newValue);n&&Nh(n.changedParts)}});const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",function({data:t}){t&&t.type===ns&&Nh(t.changedParts)})}We.rejectionMapper=function(e,t){if(!e||e instanceof xl||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Nv[e.name])return e;var n=new Nv[e.name](t||e.message,e);return"stack"in e&&wi(n,"stack",{get:function(){return this.inner.stack}}),n},cb(Ga,jb);class E8 extends eo{constructor(){super("KimiPOSDatabase");fa(this,"categories");fa(this,"products");fa(this,"posTables");fa(this,"salons");fa(this,"orders");fa(this,"orderItems");fa(this,"customers");fa(this,"configuration");fa(this,"syncLogs");fa(this,"namedAccounts");this.version(1).stores({categories:"++id, name, order, isActive, syncStatus",products:"++id, name, categoryId, isActive, price, syncStatus",posTables:"++id, number, salonId, status, currentOrderId, syncStatus",salons:"++id, name, isActive, syncStatus",orders:"++id, tableId, status, createdAt, syncStatus",orderItems:"++id, orderId, productId, status",customers:"++id, name, email, phone, syncStatus",configuration:"++id, key, category, syncStatus",syncLogs:"++id, table, recordId, status, createdAt"}),this.version(2).stores({namedAccounts:"++id, name, salonId, status, syncStatus"}),this.version(3).stores({customers:"++id, name, lastName, email, phone, cardCode, syncStatus"}),this.categories.hook("creating",function(n,r,a){r.createdAt=new Date,r.updatedAt=new Date,r.syncStatus="pending"}),this.categories.hook("updating",function(n,r,a,i){n.updatedAt=new Date,n.syncStatus="pending"}),this.products.hook("creating",function(n,r,a){r.createdAt=new Date,r.updatedAt=new Date,r.syncStatus="pending"}),this.products.hook("updating",function(n,r,a,i){n.updatedAt=new Date,n.syncStatus="pending"}),this.posTables.hook("creating",function(n,r,a){r.createdAt=new Date,r.updatedAt=new Date,r.syncStatus="pending"}),this.posTables.hook("updating",function(n,r,a,i){n.updatedAt=new Date,n.syncStatus="pending"}),this.salons.hook("creating",function(n,r,a){r.createdAt=new Date,r.updatedAt=new Date,r.syncStatus="pending"}),this.salons.hook("updating",function(n,r,a,i){n.updatedAt=new Date,n.syncStatus="pending"}),this.customers.hook("creating",function(n,r,a){r.createdAt=new Date,r.updatedAt=new Date,r.syncStatus="pending"}),this.customers.hook("updating",function(n,r,a,i){n.updatedAt=new Date,n.syncStatus="pending"}),this.orders.hook("creating",function(n,r,a){r.createdAt=new Date,r.updatedAt=new Date,r.syncStatus="pending"}),this.orders.hook("updating",function(n,r,a,i){n.updatedAt=new Date,n.syncStatus="pending"}),this.customers.hook("creating",function(n,r,a){r.createdAt=new Date,r.updatedAt=new Date,r.syncStatus="pending"}),this.customers.hook("updating",function(n,r,a,i){n.updatedAt=new Date,n.syncStatus="pending"}),this.configuration.hook("creating",function(n,r,a){r.updatedAt=new Date,r.syncStatus="pending"}),this.configuration.hook("updating",function(n,r,a,i){n.updatedAt=new Date,n.syncStatus="pending"}),this.syncLogs.hook("creating",function(n,r,a){r.createdAt=new Date}),this.namedAccounts.hook("creating",function(n,r,a){r.createdAt=new Date,r.updatedAt=new Date,r.syncStatus="pending"}),this.namedAccounts.hook("updating",function(n,r,a,i){n.updatedAt=new Date,n.syncStatus="pending"})}async addSyncLog(n,r,a,i){return await this.syncLogs.add({table:n,recordId:r,action:a,data:i,status:"pending",attempts:0,createdAt:new Date})}async getPendingSyncLogs(){return await this.syncLogs.where("status").equals("pending").toArray()}async markSyncSuccess(n){return await this.syncLogs.update(n,{status:"success",lastAttempt:new Date})}async markSyncError(n,r){const a=await this.syncLogs.get(n);if(a)return await this.syncLogs.update(n,{status:"error",error:r,attempts:a.attempts+1,lastAttempt:new Date})}}const Ct=new E8,Mb=W.createContext(void 0),Kf=()=>{const e=W.useContext(Mb);if(!e)throw new Error("useCustomers must be used within a CustomerProvider");return e},I8=({children:e})=>{const[t,n]=W.useState([]),r=async()=>{try{const v=await Ct.customers.toArray();n(v)}catch(v){console.error("Error loading customers:",v),De.error("Error al cargar los clientes")}},a=async()=>{await r()},i=async v=>{try{if(v.cardCode&&await Ct.customers.where("cardCode").equals(v.cardCode).first()){De.error("Ya existe un cliente con ese código de tarjeta");return}const m={...v,id:Date.now().toString(),createdAt:new Date,updatedAt:new Date};await Ct.customers.add(m),await r(),De.success("Cliente agregado exitosamente")}catch(m){console.error("Error adding customer:",m),De.error("Error al agregar el cliente")}},s=async(v,m)=>{try{if(m.cardCode&&await Ct.customers.where("cardCode").equals(m.cardCode).filter(S=>S.id!==v).first()){De.error("Ya existe un cliente con ese código de tarjeta");return}const j={...m,updatedAt:new Date};await Ct.customers.update(v,j),await r(),De.success("Cliente actualizado exitosamente")}catch(j){console.error("Error updating customer:",j),De.error("Error al actualizar el cliente")}},l=async v=>{try{const m=await Ct.customers.get(v);if(m&&await Ct.orders.where("customerName").equals(m.name).count()>0){De.error("No se puede eliminar el cliente porque tiene pedidos asociados");return}await Ct.customers.delete(v),await r(),De.success("Cliente eliminado exitosamente")}catch(m){console.error("Error deleting customer:",m),De.error("Error al eliminar el cliente")}},c=v=>{if(!v.trim())return t;const m=v.toLowerCase();return t.filter(j=>j.name.toLowerCase().includes(m)||j.lastName.toLowerCase().includes(m)||j.email.toLowerCase().includes(m)||j.phone.toLowerCase().includes(m)||j.cardCode.toLowerCase().includes(m))},d=v=>t.find(m=>m.id===v),p=v=>t.find(m=>m.cardCode===v);W.useEffect(()=>{r()},[]);const f={customers:t,addCustomer:i,updateCustomer:s,deleteCustomer:l,searchCustomers:c,loadCustomers:r,refreshCustomers:a,getCustomerById:d,getCustomerByCardCode:p};return o.jsx(Mb.Provider,{value:f,children:e})},D8=.21,Tb=e=>e/(1+D8),M8=e=>e-Tb(e),ss=e=>e.toFixed(2),T8=e=>e.reduce((t,n)=>{const r=Tb(n.unitPrice);return t+r*n.quantity},0),F8=e=>e.reduce((t,n)=>{const r=M8(n.unitPrice);return t+r*n.quantity},0),O8=e=>e.reduce((t,n)=>t+n.unitPrice*n.quantity,0),R8="modulepreload",B8=function(e,t){return new URL(e,t).href},Mv={},Zm=function(t,n,r){if(!n||n.length===0)return t();const a=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=B8(i,r),i in Mv)return;Mv[i]=!0;const s=i.endsWith(".css"),l=s?'[rel="stylesheet"]':"";if(!!r)for(let p=a.length-1;p>=0;p--){const f=a[p];if(f.href===i&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const d=document.createElement("link");if(d.rel=s?"stylesheet":R8,s||(d.as="script",d.crossOrigin=""),d.href=i,document.head.appendChild(d),s)return new Promise((p,f)=>{d.addEventListener("load",p),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i})};var er=Uint8Array,Or=Uint16Array,wg=Int32Array,Gf=new er([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Yf=new er([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),e1=new er([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Fb=function(e,t){for(var n=new Or(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var a=new wg(n[30]),r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)a[i]=i-n[r]<<5|r;return{b:n,r:a}},Ob=Fb(Gf,2),Rb=Ob.b,t1=Ob.r;Rb[28]=258,t1[258]=28;var Bb=Fb(Yf,0),$8=Bb.b,Tv=Bb.r,n1=new Or(32768);for(var Ht=0;Ht<32768;++Ht){var Ki=(Ht&43690)>>1|(Ht&21845)<<1;Ki=(Ki&52428)>>2|(Ki&13107)<<2,Ki=(Ki&61680)>>4|(Ki&3855)<<4,n1[Ht]=((Ki&65280)>>8|(Ki&255)<<8)>>1}var Va=function(e,t,n){for(var r=e.length,a=0,i=new Or(t);a<r;++a)e[a]&&++i[e[a]-1];var s=new Or(t);for(a=1;a<t;++a)s[a]=s[a-1]+i[a-1]<<1;var l;if(n){l=new Or(1<<t);var c=15-t;for(a=0;a<r;++a)if(e[a])for(var d=a<<4|e[a],p=t-e[a],f=s[e[a]-1]++<<p,v=f|(1<<p)-1;f<=v;++f)l[n1[f]>>c]=d}else for(l=new Or(r),a=0;a<r;++a)e[a]&&(l[a]=n1[s[e[a]-1]++]>>15-e[a]);return l},Ns=new er(288);for(var Ht=0;Ht<144;++Ht)Ns[Ht]=8;for(var Ht=144;Ht<256;++Ht)Ns[Ht]=9;for(var Ht=256;Ht<280;++Ht)Ns[Ht]=7;for(var Ht=280;Ht<288;++Ht)Ns[Ht]=8;var Su=new er(32);for(var Ht=0;Ht<32;++Ht)Su[Ht]=5;var z8=Va(Ns,9,0),q8=Va(Ns,9,1),U8=Va(Su,5,0),W8=Va(Su,5,1),xp=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},ma=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},bp=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},Ng=function(e){return(e+7)/8|0},$b=function(e,t,n){return(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length),new er(e.subarray(t,n))},H8=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ya=function(e,t,n){var r=new Error(t||H8[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,ya),!n)throw r;return r},V8=function(e,t,n,r){var a=e.length,i=r?r.length:0;if(!a||t.f&&!t.l)return n||new er(0);var s=!n,l=s||t.i!=2,c=t.i;s&&(n=new er(a*3));var d=function(Ne){var ve=n.length;if(Ne>ve){var _e=new er(Math.max(ve*2,Ne));_e.set(n),n=_e}},p=t.f||0,f=t.p||0,v=t.b||0,m=t.l,j=t.d,w=t.m,S=t.n,g=a*8;do{if(!m){p=ma(e,f,1);var x=ma(e,f+1,3);if(f+=3,x)if(x==1)m=q8,j=W8,w=9,S=5;else if(x==2){var q=ma(e,f,31)+257,M=ma(e,f+10,15)+4,F=q+ma(e,f+5,31)+1;f+=14;for(var H=new er(F),re=new er(19),I=0;I<M;++I)re[e1[I]]=ma(e,f+I*3,7);f+=M*3;for(var L=xp(re),Y=(1<<L)-1,V=Va(re,L,1),I=0;I<F;){var X=V[ma(e,f,Y)];f+=X&15;var N=X>>4;if(N<16)H[I++]=N;else{var Z=0,ne=0;for(N==16?(ne=3+ma(e,f,3),f+=2,Z=H[I-1]):N==17?(ne=3+ma(e,f,7),f+=3):N==18&&(ne=11+ma(e,f,127),f+=7);ne--;)H[I++]=Z}}var U=H.subarray(0,q),Q=H.subarray(q);w=xp(U),S=xp(Q),m=Va(U,w,1),j=Va(Q,S,1)}else ya(1);else{var N=Ng(f)+4,P=e[N-4]|e[N-3]<<8,R=N+P;if(R>a){c&&ya(0);break}l&&d(v+P),n.set(e.subarray(N,R),v),t.b=v+=P,t.p=f=R*8,t.f=p;continue}if(f>g){c&&ya(0);break}}l&&d(v+131072);for(var te=(1<<w)-1,ye=(1<<S)-1,C=f;;C=f){var Z=m[bp(e,f)&te],A=Z>>4;if(f+=Z&15,f>g){c&&ya(0);break}if(Z||ya(2),A<256)n[v++]=A;else if(A==256){C=f,m=null;break}else{var z=A-254;if(A>264){var I=A-257,J=Gf[I];z=ma(e,f,(1<<J)-1)+Rb[I],f+=J}var ae=j[bp(e,f)&ye],le=ae>>4;ae||ya(3),f+=ae&15;var Q=$8[le];if(le>3){var J=Yf[le];Q+=bp(e,f)&(1<<J)-1,f+=J}if(f>g){c&&ya(0);break}l&&d(v+131072);var de=v+z;if(v<Q){var $=i-Q,ge=Math.min(Q,de);for($+v<0&&ya(3);v<ge;++v)n[v]=r[$+v]}for(;v<de;++v)n[v]=n[v-Q]}}t.l=m,t.p=C,t.b=v,t.f=p,m&&(p=1,t.m=w,t.d=j,t.n=S)}while(!p);return v!=n.length&&s?$b(n,0,v):n.subarray(0,v)},di=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},Ac=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},wp=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var a=n.length,i=n.slice();if(!a)return{t:qb,l:0};if(a==1){var s=new er(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(R,q){return R.f-q.f}),n.push({s:-1,f:25001});var l=n[0],c=n[1],d=0,p=1,f=2;for(n[0]={s:-1,f:l.f+c.f,l,r:c};p!=a-1;)l=n[n[d].f<n[f].f?d++:f++],c=n[d!=p&&n[d].f<n[f].f?d++:f++],n[p++]={s:-1,f:l.f+c.f,l,r:c};for(var v=i[0].s,r=1;r<a;++r)i[r].s>v&&(v=i[r].s);var m=new Or(v+1),j=r1(n[p-1],m,0);if(j>t){var r=0,w=0,S=j-t,g=1<<S;for(i.sort(function(q,M){return m[M.s]-m[q.s]||q.f-M.f});r<a;++r){var x=i[r].s;if(m[x]>t)w+=g-(1<<j-m[x]),m[x]=t;else break}for(w>>=S;w>0;){var N=i[r].s;m[N]<t?w-=1<<t-m[N]++-1:++r}for(;r>=0&&w;--r){var P=i[r].s;m[P]==t&&(--m[P],++w)}j=t}return{t:new er(m),l:j}},r1=function(e,t,n){return e.s==-1?Math.max(r1(e.l,t,n+1),r1(e.r,t,n+1)):t[e.s]=n},Fv=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Or(++t),r=0,a=e[0],i=1,s=function(c){n[r++]=c},l=1;l<=t;++l)if(e[l]==a&&l!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=e[l]}return{c:n.subarray(0,r),n:t}},Pc=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},zb=function(e,t,n){var r=n.length,a=Ng(t+2);e[a]=r&255,e[a+1]=r>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<r;++i)e[a+i+4]=n[i];return(a+4+r)*8},Ov=function(e,t,n,r,a,i,s,l,c,d,p){di(t,p++,n),++a[256];for(var f=wp(a,15),v=f.t,m=f.l,j=wp(i,15),w=j.t,S=j.l,g=Fv(v),x=g.c,N=g.n,P=Fv(w),R=P.c,q=P.n,M=new Or(19),F=0;F<x.length;++F)++M[x[F]&31];for(var F=0;F<R.length;++F)++M[R[F]&31];for(var H=wp(M,7),re=H.t,I=H.l,L=19;L>4&&!re[e1[L-1]];--L);var Y=d+5<<3,V=Pc(a,Ns)+Pc(i,Su)+s,X=Pc(a,v)+Pc(i,w)+s+14+3*L+Pc(M,re)+2*M[16]+3*M[17]+7*M[18];if(c>=0&&Y<=V&&Y<=X)return zb(t,p,e.subarray(c,c+d));var Z,ne,U,Q;if(di(t,p,1+(X<V)),p+=2,X<V){Z=Va(v,m,0),ne=v,U=Va(w,S,0),Q=w;var te=Va(re,I,0);di(t,p,N-257),di(t,p+5,q-1),di(t,p+10,L-4),p+=14;for(var F=0;F<L;++F)di(t,p+3*F,re[e1[F]]);p+=3*L;for(var ye=[x,R],C=0;C<2;++C)for(var A=ye[C],F=0;F<A.length;++F){var z=A[F]&31;di(t,p,te[z]),p+=re[z],z>15&&(di(t,p,A[F]>>5&127),p+=A[F]>>12)}}else Z=z8,ne=Ns,U=U8,Q=Su;for(var F=0;F<l;++F){var J=r[F];if(J>255){var z=J>>18&31;Ac(t,p,Z[z+257]),p+=ne[z+257],z>7&&(di(t,p,J>>23&31),p+=Gf[z]);var ae=J&31;Ac(t,p,U[ae]),p+=Q[ae],ae>3&&(Ac(t,p,J>>5&8191),p+=Yf[ae])}else Ac(t,p,Z[J]),p+=ne[J]}return Ac(t,p,Z[256]),p+ne[256]},K8=new wg([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),qb=new er(0),G8=function(e,t,n,r,a,i){var s=i.z||e.length,l=new er(r+s+5*(1+Math.ceil(s/7e3))+a),c=l.subarray(r,l.length-a),d=i.l,p=(i.r||0)&7;if(t){p&&(c[0]=i.r>>3);for(var f=K8[t-1],v=f>>13,m=f&8191,j=(1<<n)-1,w=i.p||new Or(32768),S=i.h||new Or(j+1),g=Math.ceil(n/3),x=2*g,N=function(qe){return(e[qe]^e[qe+1]<<g^e[qe+2]<<x)&j},P=new wg(25e3),R=new Or(288),q=new Or(32),M=0,F=0,H=i.i||0,re=0,I=i.w||0,L=0;H+2<s;++H){var Y=N(H),V=H&32767,X=S[Y];if(w[V]=X,S[Y]=V,I<=H){var Z=s-H;if((M>7e3||re>24576)&&(Z>423||!d)){p=Ov(e,c,0,P,R,q,F,re,L,H-L,p),re=M=F=0,L=H;for(var ne=0;ne<286;++ne)R[ne]=0;for(var ne=0;ne<30;++ne)q[ne]=0}var U=2,Q=0,te=m,ye=V-X&32767;if(Z>2&&Y==N(H-ye))for(var C=Math.min(v,Z)-1,A=Math.min(32767,H),z=Math.min(258,Z);ye<=A&&--te&&V!=X;){if(e[H+U]==e[H+U-ye]){for(var J=0;J<z&&e[H+J]==e[H+J-ye];++J);if(J>U){if(U=J,Q=ye,J>C)break;for(var ae=Math.min(ye,J-2),le=0,ne=0;ne<ae;++ne){var de=H-ye+ne&32767,$=w[de],ge=de-$&32767;ge>le&&(le=ge,X=de)}}}V=X,X=w[V],ye+=V-X&32767}if(Q){P[re++]=268435456|t1[U]<<18|Tv[Q];var Ne=t1[U]&31,ve=Tv[Q]&31;F+=Gf[Ne]+Yf[ve],++R[257+Ne],++q[ve],I=H+U,++M}else P[re++]=e[H],++R[e[H]]}}for(H=Math.max(H,I);H<s;++H)P[re++]=e[H],++R[e[H]];p=Ov(e,c,d,P,R,q,F,re,L,H-L,p),d||(i.r=p&7|c[p/8|0]<<3,p-=7,i.h=S,i.p=w,i.i=H,i.w=I)}else{for(var H=i.w||0;H<s+d;H+=65535){var _e=H+65535;_e>=s&&(c[p/8|0]=d,_e=s),p=zb(c,p+1,e.subarray(H,_e))}i.i=s}return $b(l,0,r+Ng(p)+a)},Ub=function(){var e=1,t=0;return{p:function(n){for(var r=e,a=t,i=n.length|0,s=0;s!=i;){for(var l=Math.min(s+2655,i);s<l;++s)a+=r+=n[s];r=(r&65535)+15*(r>>16),a=(a&65535)+15*(a>>16)}e=r,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Y8=function(e,t,n,r,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),s=new er(i.length+e.length);s.set(i),s.set(e,i.length),e=s,a.w=i.length}return G8(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,a)},Wb=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},X8=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=Ub();a.p(t.dictionary),Wb(e,2,a.d())}},J8=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&ya(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&ya(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function a1(e,t){t||(t={});var n=Ub();n.p(e);var r=Y8(e,t,t.dictionary?6:2,4);return X8(r,t),Wb(r,r.length-4,n.d()),r}function Q8(e,t){return V8(e.subarray(J8(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var Z8=typeof TextDecoder<"u"&&new TextDecoder,eC=0;try{Z8.decode(qb,{stream:!0}),eC=1}catch{}var at=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Np(){at.console&&typeof at.console.log=="function"&&at.console.log.apply(at.console,arguments)}var Ot={log:Np,warn:function(e){at.console&&(typeof at.console.warn=="function"?at.console.warn.apply(at.console,arguments):Np.call(null,arguments))},error:function(e){at.console&&(typeof at.console.error=="function"?at.console.error.apply(at.console,arguments):Np(e))}};function jp(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){Us(r.response,t,n)},r.onerror=function(){Ot.error("could not download file")},r.send()}function Rv(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Zd(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Xc,i1,Us=at.saveAs||((typeof window>"u"?"undefined":At(window))!=="object"||window!==at?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=at.URL||at.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?Rv(a.href)?jp(e,t,n):Zd(a,a.target="_blank"):Zd(a)):(a.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(a.href)},4e4),setTimeout(function(){Zd(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(Rv(e))jp(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Zd(r)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:At(i)!=="object"&&(Ot.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob([String.fromCharCode(65279),a],{type:a.type}):a}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return jp(e,t,n);var a=e.type==="application/octet-stream",i=/constructor/i.test(at.HTMLElement)||at.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader>"u"?"undefined":At(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var p=l.result;p=s?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=p:location=p,r=null},l.readAsDataURL(e)}else{var c=at.URL||at.webkitURL,d=c.createObjectURL(e);r?r.location=d:location.href=d,r=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Hb(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<n.length;r++){var a=n[r].re,i=n[r].process,s=a.exec(e);s&&(t=i(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Sp(e,t){var n=e[0],r=e[1],a=e[2],i=e[3];n=Gn(n,r,a,i,t[0],7,-680876936),i=Gn(i,n,r,a,t[1],12,-389564586),a=Gn(a,i,n,r,t[2],17,606105819),r=Gn(r,a,i,n,t[3],22,-1044525330),n=Gn(n,r,a,i,t[4],7,-176418897),i=Gn(i,n,r,a,t[5],12,1200080426),a=Gn(a,i,n,r,t[6],17,-1473231341),r=Gn(r,a,i,n,t[7],22,-45705983),n=Gn(n,r,a,i,t[8],7,1770035416),i=Gn(i,n,r,a,t[9],12,-1958414417),a=Gn(a,i,n,r,t[10],17,-42063),r=Gn(r,a,i,n,t[11],22,-1990404162),n=Gn(n,r,a,i,t[12],7,1804603682),i=Gn(i,n,r,a,t[13],12,-40341101),a=Gn(a,i,n,r,t[14],17,-1502002290),n=Yn(n,r=Gn(r,a,i,n,t[15],22,1236535329),a,i,t[1],5,-165796510),i=Yn(i,n,r,a,t[6],9,-1069501632),a=Yn(a,i,n,r,t[11],14,643717713),r=Yn(r,a,i,n,t[0],20,-373897302),n=Yn(n,r,a,i,t[5],5,-701558691),i=Yn(i,n,r,a,t[10],9,38016083),a=Yn(a,i,n,r,t[15],14,-660478335),r=Yn(r,a,i,n,t[4],20,-405537848),n=Yn(n,r,a,i,t[9],5,568446438),i=Yn(i,n,r,a,t[14],9,-1019803690),a=Yn(a,i,n,r,t[3],14,-187363961),r=Yn(r,a,i,n,t[8],20,1163531501),n=Yn(n,r,a,i,t[13],5,-1444681467),i=Yn(i,n,r,a,t[2],9,-51403784),a=Yn(a,i,n,r,t[7],14,1735328473),n=Xn(n,r=Yn(r,a,i,n,t[12],20,-1926607734),a,i,t[5],4,-378558),i=Xn(i,n,r,a,t[8],11,-2022574463),a=Xn(a,i,n,r,t[11],16,1839030562),r=Xn(r,a,i,n,t[14],23,-35309556),n=Xn(n,r,a,i,t[1],4,-1530992060),i=Xn(i,n,r,a,t[4],11,1272893353),a=Xn(a,i,n,r,t[7],16,-155497632),r=Xn(r,a,i,n,t[10],23,-1094730640),n=Xn(n,r,a,i,t[13],4,681279174),i=Xn(i,n,r,a,t[0],11,-358537222),a=Xn(a,i,n,r,t[3],16,-722521979),r=Xn(r,a,i,n,t[6],23,76029189),n=Xn(n,r,a,i,t[9],4,-640364487),i=Xn(i,n,r,a,t[12],11,-421815835),a=Xn(a,i,n,r,t[15],16,530742520),n=Jn(n,r=Xn(r,a,i,n,t[2],23,-995338651),a,i,t[0],6,-198630844),i=Jn(i,n,r,a,t[7],10,1126891415),a=Jn(a,i,n,r,t[14],15,-1416354905),r=Jn(r,a,i,n,t[5],21,-57434055),n=Jn(n,r,a,i,t[12],6,1700485571),i=Jn(i,n,r,a,t[3],10,-1894986606),a=Jn(a,i,n,r,t[10],15,-1051523),r=Jn(r,a,i,n,t[1],21,-2054922799),n=Jn(n,r,a,i,t[8],6,1873313359),i=Jn(i,n,r,a,t[15],10,-30611744),a=Jn(a,i,n,r,t[6],15,-1560198380),r=Jn(r,a,i,n,t[13],21,1309151649),n=Jn(n,r,a,i,t[4],6,-145523070),i=Jn(i,n,r,a,t[11],10,-1120210379),a=Jn(a,i,n,r,t[2],15,718787259),r=Jn(r,a,i,n,t[9],21,-343485551),e[0]=os(n,e[0]),e[1]=os(r,e[1]),e[2]=os(a,e[2]),e[3]=os(i,e[3])}function Xf(e,t,n,r,a,i){return t=os(os(t,e),os(r,i)),os(t<<a|t>>>32-a,n)}function Gn(e,t,n,r,a,i,s){return Xf(t&n|~t&r,e,t,a,i,s)}function Yn(e,t,n,r,a,i,s){return Xf(t&r|n&~r,e,t,a,i,s)}function Xn(e,t,n,r,a,i,s){return Xf(t^n^r,e,t,a,i,s)}function Jn(e,t,n,r,a,i,s){return Xf(n^(t|~r),e,t,a,i,s)}function Vb(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Sp(r,tC(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(Sp(r,a),t=0;t<16;t++)a[t]=0;return a[14]=8*n,Sp(r,a),r}function tC(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}Xc=at.atob.bind(at),i1=at.btoa.bind(at);var Bv="0123456789abcdef".split("");function nC(e){for(var t="",n=0;n<4;n++)t+=Bv[e>>8*n+4&15]+Bv[e>>8*n&15];return t}function rC(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function s1(e){return Vb(e).map(rC).join("")}var aC=function(e){for(var t=0;t<e.length;t++)e[t]=nC(e[t]);return e.join("")}(Vb("hello"))!="5d41402abc4b2a76b9719d911017c592";function os(e,t){if(aC){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function o1(e,t){var n,r,a,i;if(e!==n){for(var s=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var p=l[c];d=(d+p+s.charCodeAt(c))%256,l[c]=l[d],l[d]=p}n=e,r=l}else l=r;var f=t.length,v=0,m=0,j="";for(c=0;c<f;c++)m=(m+(p=l[v=(v+1)%256]))%256,l[v]=l[m],l[m]=p,s=l[(l[v]+l[m])%256],j+=String.fromCharCode(t.charCodeAt(c)^s);return j}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var $v={print:4,modify:8,copy:16,"annot-forms":32};function Yo(e,t,n,r){this.v=1,this.r=2;var a=192;e.forEach(function(l){if($v.perm!==void 0)throw new Error("Invalid permission: "+l);a+=$v[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(t+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=s1(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=o1(this.encryptionKey,this.padding)}function Xo(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var a=e.charCodeAt(r);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[r]}return t}function zv(e){if(At(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,a){if(a=a||!1,typeof n!="string"||typeof r!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var i=Math.random().toString(35);return t[n][i]=[r,!!a],i},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[n]){var s=t[n][i];try{s[0].apply(e,r)}catch(l){at.console&&Ot.error("jsPDF PubSub Error",l.message,l)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function vf(e){if(!(this instanceof vf))return new vf(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function Kb(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Ws(e,t,n,r,a){if(!(this instanceof Ws))return new Ws(e,t,n,r,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,Kb.call(this,r,a)}function cl(e,t,n,r,a){if(!(this instanceof cl))return new cl(e,t,n,r,a);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,Kb.call(this,r,a)}function rt(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],a=arguments[2],i=arguments[3],s=[],l=1,c=16,d="S",p=null;At(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,a=e.format||a,i=e.compress||e.compressPdf||i,(p=e.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),s=e.filters||(i===!0?["FlateEncode"]:s),r=r||"mm",n=(""+(n||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,v={},m={internal:{},__private__:{}};m.__private__.PubSub=zv;var j="1.3",w=m.__private__.getPdfVersion=function(){return j};m.__private__.setPdfVersion=function(y){j=y};var S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return S};var g=m.__private__.getPageFormat=function(y){return S[y]};a=a||"a4";var x={COMPAT:"compat",ADVANCED:"advanced"},N=x.COMPAT;function P(){this.saveGraphicsState(),ee(new Je(Re,0,0,-Re,0,Di()*Re).toString()+" cm"),this.setFontSize(this.getFontSize()/Re),d="n",N=x.ADVANCED}function R(){this.restoreGraphicsState(),d="S",N=x.COMPAT}var q=m.__private__.combineFontStyleAndFontWeight=function(y,E){if(y=="bold"&&E=="normal"||y=="bold"&&E==400||y=="normal"&&E=="italic"||y=="bold"&&E=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return E&&(y=E==400||E==="normal"?y==="italic"?"italic":"normal":E!=700&&E!=="bold"||y!=="normal"?(E==700?"bold":E)+""+y:"bold"),y};m.advancedAPI=function(y){var E=N===x.COMPAT;return E&&P.call(this),typeof y!="function"||(y(this),E&&R.call(this)),this},m.compatAPI=function(y){var E=N===x.ADVANCED;return E&&R.call(this),typeof y!="function"||(y(this),E&&P.call(this)),this},m.isAdvancedAPI=function(){return N===x.ADVANCED};var M,F=function(y){if(N!==x.ADVANCED)throw new Error(y+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},H=m.roundToPrecision=m.__private__.roundToPrecision=function(y,E){var G=t||E;if(isNaN(y)||isNaN(G))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return y.toFixed(G).replace(/0+$/,"")};M=m.hpf=m.__private__.hpf=typeof c=="number"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return H(y,c)}:c==="smart"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return H(y,y>-1&&y<1?16:5)}:function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return H(y,16)};var re=m.f2=m.__private__.f2=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f2");return H(y,2)},I=m.__private__.f3=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f3");return H(y,3)},L=m.scale=m.__private__.scale=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.scale");return N===x.COMPAT?y*Re:N===x.ADVANCED?y:void 0},Y=function(y){return N===x.COMPAT?Di()-y:N===x.ADVANCED?y:void 0},V=function(y){return L(Y(y))};m.__private__.setPrecision=m.setPrecision=function(y){typeof parseInt(y,10)=="number"&&(t=parseInt(y,10))};var X,Z="00000000000000000000000000000000",ne=m.__private__.getFileId=function(){return Z},U=m.__private__.setFileId=function(y){return Z=y!==void 0&&/^[a-fA-F0-9]{32}$/.test(y)?y.toUpperCase():Z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(Wn=new Yo(p.userPermissions,p.userPassword,p.ownerPassword,Z)),Z};m.setFileId=function(y){return U(y),this},m.getFileId=function(){return ne()};var Q=m.__private__.convertDateToPDFDate=function(y){var E=y.getTimezoneOffset(),G=E<0?"+":"-",ie=Math.floor(Math.abs(E/60)),he=Math.abs(E%60),we=[G,z(ie),"'",z(he),"'"].join("");return["D:",y.getFullYear(),z(y.getMonth()+1),z(y.getDate()),z(y.getHours()),z(y.getMinutes()),z(y.getSeconds()),we].join("")},te=m.__private__.convertPDFDateToDate=function(y){var E=parseInt(y.substr(2,4),10),G=parseInt(y.substr(6,2),10)-1,ie=parseInt(y.substr(8,2),10),he=parseInt(y.substr(10,2),10),we=parseInt(y.substr(12,2),10),Le=parseInt(y.substr(14,2),10);return new Date(E,G,ie,he,we,Le,0)},ye=m.__private__.setCreationDate=function(y){var E;if(y===void 0&&(y=new Date),y instanceof Date)E=Q(y);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(y))throw new Error("Invalid argument passed to jsPDF.setCreationDate");E=y}return X=E},C=m.__private__.getCreationDate=function(y){var E=X;return y==="jsDate"&&(E=te(X)),E};m.setCreationDate=function(y){return ye(y),this},m.getCreationDate=function(y){return C(y)};var A,z=m.__private__.padd2=function(y){return("0"+parseInt(y)).slice(-2)},J=m.__private__.padd2Hex=function(y){return("00"+(y=y.toString())).substr(y.length)},ae=0,le=[],de=[],$=0,ge=[],Ne=[],ve=!1,_e=de,qe=function(){ae=0,$=0,de=[],le=[],ge=[],fe=Jt(),Ue=Jt()};m.__private__.setCustomOutputDestination=function(y){ve=!0,_e=y};var xe=function(y){ve||(_e=y)};m.__private__.resetCustomOutputDestination=function(){ve=!1,_e=de};var ee=m.__private__.out=function(y){return y=y.toString(),$+=y.length+1,_e.push(y),_e},Ye=m.__private__.write=function(y){return ee(arguments.length===1?y.toString():Array.prototype.join.call(arguments," "))},$e=m.__private__.getArrayBuffer=function(y){for(var E=y.length,G=new ArrayBuffer(E),ie=new Uint8Array(G);E--;)ie[E]=y.charCodeAt(E);return G},Ae=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Ae};var Me=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(y){return Me=N===x.ADVANCED?y/Re:y,this};var Ce,Ie=m.__private__.getFontSize=m.getFontSize=function(){return N===x.COMPAT?Me:Me*Re},Ke=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(y){return Ke=y,this},m.__private__.getR2L=m.getR2L=function(){return Ke};var tt,ut=m.__private__.setZoomMode=function(y){var E=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(y))Ce=y;else if(isNaN(y)){if(E.indexOf(y)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+y+'" is not recognized.');Ce=y}else Ce=parseInt(y,10)};m.__private__.getZoomMode=function(){return Ce};var ft,yt=m.__private__.setPageMode=function(y){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(y)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+y+'" is not recognized.');tt=y};m.__private__.getPageMode=function(){return tt};var Pt=m.__private__.setLayoutMode=function(y){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(y)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+y+'" is not recognized.');ft=y};m.__private__.getLayoutMode=function(){return ft},m.__private__.setDisplayMode=m.setDisplayMode=function(y,E,G){return ut(y),Pt(E),yt(G),this};var nt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(y){if(Object.keys(nt).indexOf(y)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return nt[y]},m.__private__.getDocumentProperties=function(){return nt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(y){for(var E in nt)nt.hasOwnProperty(E)&&y[E]&&(nt[E]=y[E]);return this},m.__private__.setDocumentProperty=function(y,E){if(Object.keys(nt).indexOf(y)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return nt[y]=E};var pt,Re,Pn,xt,Ar,_t={},Bt={},Ur=[],wt={},Xa={},Kt={},Pr={},sa=null,Gt=0,st=[],St=new zv(m),Ja=e.hotfixes||[],wn={},Wr={},pr=[],Je=function y(E,G,ie,he,we,Le){if(!(this instanceof y))return new y(E,G,ie,he,we,Le);isNaN(E)&&(E=1),isNaN(G)&&(G=0),isNaN(ie)&&(ie=0),isNaN(he)&&(he=1),isNaN(we)&&(we=0),isNaN(Le)&&(Le=0),this._matrix=[E,G,ie,he,we,Le]};Object.defineProperty(Je.prototype,"sx",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(Je.prototype,"shy",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(Je.prototype,"shx",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(Je.prototype,"sy",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(Je.prototype,"tx",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(Je.prototype,"ty",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(Je.prototype,"a",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(Je.prototype,"b",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(Je.prototype,"c",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(Je.prototype,"d",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(Je.prototype,"e",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(Je.prototype,"f",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(Je.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Je.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Je.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Je.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Je.prototype.join=function(y){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(M).join(y)},Je.prototype.multiply=function(y){var E=y.sx*this.sx+y.shy*this.shx,G=y.sx*this.shy+y.shy*this.sy,ie=y.shx*this.sx+y.sy*this.shx,he=y.shx*this.shy+y.sy*this.sy,we=y.tx*this.sx+y.ty*this.shx+this.tx,Le=y.tx*this.shy+y.ty*this.sy+this.ty;return new Je(E,G,ie,he,we,Le)},Je.prototype.decompose=function(){var y=this.sx,E=this.shy,G=this.shx,ie=this.sy,he=this.tx,we=this.ty,Le=Math.sqrt(y*y+E*E),Be=(y/=Le)*G+(E/=Le)*ie;G-=y*Be,ie-=E*Be;var Ge=Math.sqrt(G*G+ie*ie);return Be/=Ge,y*(ie/=Ge)<E*(G/=Ge)&&(y=-y,E=-E,Be=-Be,Le=-Le),{scale:new Je(Le,0,0,Ge,0,0),translate:new Je(1,0,0,1,he,we),rotate:new Je(y,E,-E,y,0,0),skew:new Je(1,0,Be,1,0,0)}},Je.prototype.toString=function(y){return this.join(" ")},Je.prototype.inversed=function(){var y=this.sx,E=this.shy,G=this.shx,ie=this.sy,he=this.tx,we=this.ty,Le=1/(y*ie-E*G),Be=ie*Le,Ge=-E*Le,dt=-G*Le,lt=y*Le;return new Je(Be,Ge,dt,lt,-Be*he-dt*we,-Ge*he-lt*we)},Je.prototype.applyToPoint=function(y){var E=y.x*this.sx+y.y*this.shx+this.tx,G=y.x*this.shy+y.y*this.sy+this.ty;return new Co(E,G)},Je.prototype.applyToRectangle=function(y){var E=this.applyToPoint(y),G=this.applyToPoint(new Co(y.x+y.w,y.y+y.h));return new Ql(E.x,E.y,G.x-E.x,G.y-E.y)},Je.prototype.clone=function(){var y=this.sx,E=this.shy,G=this.shx,ie=this.sy,he=this.tx,we=this.ty;return new Je(y,E,G,ie,he,we)},m.Matrix=Je;var _r=m.matrixMult=function(y,E){return E.multiply(y)},Hr=new Je(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Hr;var Tn=function(y,E){if(!Xa[y]){var G=(E instanceof Ws?"Sh":"P")+(Object.keys(wt).length+1).toString(10);E.id=G,Xa[y]=G,wt[G]=E,St.publish("addPattern",E)}};m.ShadingPattern=Ws,m.TilingPattern=cl,m.addShadingPattern=function(y,E){return F("addShadingPattern()"),Tn(y,E),this},m.beginTilingPattern=function(y){F("beginTilingPattern()"),nd(y.boundingBox[0],y.boundingBox[1],y.boundingBox[2]-y.boundingBox[0],y.boundingBox[3]-y.boundingBox[1],y.matrix)},m.endTilingPattern=function(y,E){F("endTilingPattern()"),E.stream=Ne[A].join(`
`),Tn(y,E),St.publish("endTilingPattern",E),pr.pop().restore()};var nn=m.__private__.newObject=function(){var y=Jt();return qn(y,!0),y},Jt=m.__private__.newObjectDeferred=function(){return ae++,le[ae]=function(){return $},ae},qn=function(y,E){return E=typeof E=="boolean"&&E,le[y]=$,E&&ee(y+" 0 obj"),y},Qa=m.__private__.newAdditionalObject=function(){var y={objId:Jt(),content:""};return ge.push(y),y},fe=Jt(),Ue=Jt(),Oe=m.__private__.decodeColorString=function(y){var E=y.split(" ");if(E.length!==2||E[1]!=="g"&&E[1]!=="G")E.length===5&&(E[4]==="k"||E[4]==="K")&&(E=[(1-E[0])*(1-E[3]),(1-E[1])*(1-E[3]),(1-E[2])*(1-E[3]),"r"]);else{var G=parseFloat(E[0]);E=[G,G,G,"r"]}for(var ie="#",he=0;he<3;he++)ie+=("0"+Math.floor(255*parseFloat(E[he])).toString(16)).slice(-2);return ie},Qe=m.__private__.encodeColorString=function(y){var E;typeof y=="string"&&(y={ch1:y});var G=y.ch1,ie=y.ch2,he=y.ch3,we=y.ch4,Le=y.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof G=="string"&&G.charAt(0)!=="#"){var Be=new Hb(G);if(Be.ok)G=Be.toHex();else if(!/^\d*\.?\d*$/.test(G))throw new Error('Invalid color "'+G+'" passed to jsPDF.encodeColorString.')}if(typeof G=="string"&&/^#[0-9A-Fa-f]{3}$/.test(G)&&(G="#"+G[1]+G[1]+G[2]+G[2]+G[3]+G[3]),typeof G=="string"&&/^#[0-9A-Fa-f]{6}$/.test(G)){var Ge=parseInt(G.substr(1),16);G=Ge>>16&255,ie=Ge>>8&255,he=255&Ge}if(ie===void 0||we===void 0&&G===ie&&ie===he)if(typeof G=="string")E=G+" "+Le[0];else switch(y.precision){case 2:E=re(G/255)+" "+Le[0];break;case 3:default:E=I(G/255)+" "+Le[0]}else if(we===void 0||At(we)==="object"){if(we&&!isNaN(we.a)&&we.a===0)return E=["1.","1.","1.",Le[1]].join(" ");if(typeof G=="string")E=[G,ie,he,Le[1]].join(" ");else switch(y.precision){case 2:E=[re(G/255),re(ie/255),re(he/255),Le[1]].join(" ");break;default:case 3:E=[I(G/255),I(ie/255),I(he/255),Le[1]].join(" ")}}else if(typeof G=="string")E=[G,ie,he,we,Le[2]].join(" ");else switch(y.precision){case 2:E=[re(G),re(ie),re(he),re(we),Le[2]].join(" ");break;case 3:default:E=[I(G),I(ie),I(he),I(we),Le[2]].join(" ")}return E},mt=m.__private__.getFilters=function(){return s},Mt=m.__private__.putStream=function(y){var E=(y=y||{}).data||"",G=y.filters||mt(),ie=y.alreadyAppliedFilters||[],he=y.addLength1||!1,we=E.length,Le=y.objectId,Be=function(Hn){return Hn};if(p!==null&&Le===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(Be=Wn.encryptor(Le,0));var Ge={};G===!0&&(G=["FlateEncode"]);var dt=y.additionalKeyValues||[],lt=(Ge=rt.API.processDataByFilters!==void 0?rt.API.processDataByFilters(E,G):{data:E,reverseChain:[]}).reverseChain+(Array.isArray(ie)?ie.join(" "):ie.toString());if(Ge.data.length!==0&&(dt.push({key:"Length",value:Ge.data.length}),he===!0&&dt.push({key:"Length1",value:we})),lt.length!=0)if(lt.split("/").length-1==1)dt.push({key:"Filter",value:lt});else{dt.push({key:"Filter",value:"["+lt+"]"});for(var bt=0;bt<dt.length;bt+=1)if(dt[bt].key==="DecodeParms"){for(var Qt=[],rn=0;rn<Ge.reverseChain.split("/").length-1;rn+=1)Qt.push("null");Qt.push(dt[bt].value),dt[bt].value="["+Qt.join(" ")+"]"}}ee("<<");for(var gn=0;gn<dt.length;gn++)ee("/"+dt[gn].key+" "+dt[gn].value);ee(">>"),Ge.data.length!==0&&(ee("stream"),ee(Be(Ge.data)),ee("endstream"))},Un=m.__private__.putPage=function(y){var E=y.number,G=y.data,ie=y.objId,he=y.contentsObjId;qn(ie,!0),ee("<</Type /Page"),ee("/Parent "+y.rootDictionaryObjId+" 0 R"),ee("/Resources "+y.resourceDictionaryObjId+" 0 R"),ee("/MediaBox ["+parseFloat(M(y.mediaBox.bottomLeftX))+" "+parseFloat(M(y.mediaBox.bottomLeftY))+" "+M(y.mediaBox.topRightX)+" "+M(y.mediaBox.topRightY)+"]"),y.cropBox!==null&&ee("/CropBox ["+M(y.cropBox.bottomLeftX)+" "+M(y.cropBox.bottomLeftY)+" "+M(y.cropBox.topRightX)+" "+M(y.cropBox.topRightY)+"]"),y.bleedBox!==null&&ee("/BleedBox ["+M(y.bleedBox.bottomLeftX)+" "+M(y.bleedBox.bottomLeftY)+" "+M(y.bleedBox.topRightX)+" "+M(y.bleedBox.topRightY)+"]"),y.trimBox!==null&&ee("/TrimBox ["+M(y.trimBox.bottomLeftX)+" "+M(y.trimBox.bottomLeftY)+" "+M(y.trimBox.topRightX)+" "+M(y.trimBox.topRightY)+"]"),y.artBox!==null&&ee("/ArtBox ["+M(y.artBox.bottomLeftX)+" "+M(y.artBox.bottomLeftY)+" "+M(y.artBox.topRightX)+" "+M(y.artBox.topRightY)+"]"),typeof y.userUnit=="number"&&y.userUnit!==1&&ee("/UserUnit "+y.userUnit),St.publish("putPage",{objId:ie,pageContext:st[E],pageNumber:E,page:G}),ee("/Contents "+he+" 0 R"),ee(">>"),ee("endobj");var we=G.join(`
`);return N===x.ADVANCED&&(we+=`
Q`),qn(he,!0),Mt({data:we,filters:mt(),objectId:he}),ee("endobj"),ie},mr=m.__private__.putPages=function(){var y,E,G=[];for(y=1;y<=Gt;y++)st[y].objId=Jt(),st[y].contentsObjId=Jt();for(y=1;y<=Gt;y++)G.push(Un({number:y,data:Ne[y],objId:st[y].objId,contentsObjId:st[y].contentsObjId,mediaBox:st[y].mediaBox,cropBox:st[y].cropBox,bleedBox:st[y].bleedBox,trimBox:st[y].trimBox,artBox:st[y].artBox,userUnit:st[y].userUnit,rootDictionaryObjId:fe,resourceDictionaryObjId:Ue}));qn(fe,!0),ee("<</Type /Pages");var ie="/Kids [";for(E=0;E<Gt;E++)ie+=G[E]+" 0 R ";ee(ie+"]"),ee("/Count "+Gt),ee(">>"),ee("endobj"),St.publish("postPutPages")},oa=function(y){St.publish("putFont",{font:y,out:ee,newObject:nn,putStream:Mt}),y.isAlreadyPutted!==!0&&(y.objectNumber=nn(),ee("<<"),ee("/Type /Font"),ee("/BaseFont /"+Xo(y.postScriptName)),ee("/Subtype /Type1"),typeof y.encoding=="string"&&ee("/Encoding /"+y.encoding),ee("/FirstChar 32"),ee("/LastChar 255"),ee(">>"),ee("endobj"))},Za=function(){for(var y in _t)_t.hasOwnProperty(y)&&(f===!1||f===!0&&v.hasOwnProperty(y))&&oa(_t[y])},_a=function(y){y.objectNumber=nn();var E=[];E.push({key:"Type",value:"/XObject"}),E.push({key:"Subtype",value:"/Form"}),E.push({key:"BBox",value:"["+[M(y.x),M(y.y),M(y.x+y.width),M(y.y+y.height)].join(" ")+"]"}),E.push({key:"Matrix",value:"["+y.matrix.toString()+"]"});var G=y.pages[1].join(`
`);Mt({data:G,additionalKeyValues:E,objectId:y.objectNumber}),ee("endobj")},La=function(){for(var y in wn)wn.hasOwnProperty(y)&&_a(wn[y])},Ru=function(y,E){var G,ie=[],he=1/(E-1);for(G=0;G<1;G+=he)ie.push(G);if(ie.push(1),y[0].offset!=0){var we={offset:0,color:y[0].color};y.unshift(we)}if(y[y.length-1].offset!=1){var Le={offset:1,color:y[y.length-1].color};y.push(Le)}for(var Be="",Ge=0,dt=0;dt<ie.length;dt++){for(G=ie[dt];G>y[Ge+1].offset;)Ge++;var lt=y[Ge].offset,bt=(G-lt)/(y[Ge+1].offset-lt),Qt=y[Ge].color,rn=y[Ge+1].color;Be+=J(Math.round((1-bt)*Qt[0]+bt*rn[0]).toString(16))+J(Math.round((1-bt)*Qt[1]+bt*rn[1]).toString(16))+J(Math.round((1-bt)*Qt[2]+bt*rn[2]).toString(16))}return Be.trim()},Jf=function(y,E){E||(E=21);var G=nn(),ie=Ru(y.colors,E),he=[];he.push({key:"FunctionType",value:"0"}),he.push({key:"Domain",value:"[0.0 1.0]"}),he.push({key:"Size",value:"["+E+"]"}),he.push({key:"BitsPerSample",value:"8"}),he.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),he.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Mt({data:ie,additionalKeyValues:he,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:G}),ee("endobj"),y.objectNumber=nn(),ee("<< /ShadingType "+y.type),ee("/ColorSpace /DeviceRGB");var we="/Coords ["+M(parseFloat(y.coords[0]))+" "+M(parseFloat(y.coords[1]))+" ";y.type===2?we+=M(parseFloat(y.coords[2]))+" "+M(parseFloat(y.coords[3])):we+=M(parseFloat(y.coords[2]))+" "+M(parseFloat(y.coords[3]))+" "+M(parseFloat(y.coords[4]))+" "+M(parseFloat(y.coords[5])),ee(we+="]"),y.matrix&&ee("/Matrix ["+y.matrix.toString()+"]"),ee("/Function "+G+" 0 R"),ee("/Extend [true true]"),ee(">>"),ee("endobj")},Qf=function(y,E){var G=Jt(),ie=nn();E.push({resourcesOid:G,objectOid:ie}),y.objectNumber=ie;var he=[];he.push({key:"Type",value:"/Pattern"}),he.push({key:"PatternType",value:"1"}),he.push({key:"PaintType",value:"1"}),he.push({key:"TilingType",value:"1"}),he.push({key:"BBox",value:"["+y.boundingBox.map(M).join(" ")+"]"}),he.push({key:"XStep",value:M(y.xStep)}),he.push({key:"YStep",value:M(y.yStep)}),he.push({key:"Resources",value:G+" 0 R"}),y.matrix&&he.push({key:"Matrix",value:"["+y.matrix.toString()+"]"}),Mt({data:y.stream,additionalKeyValues:he,objectId:y.objectNumber}),ee("endobj")},yo=function(y){var E;for(E in wt)wt.hasOwnProperty(E)&&(wt[E]instanceof Ws?Jf(wt[E]):wt[E]instanceof cl&&Qf(wt[E],y))},Bu=function(y){for(var E in y.objectNumber=nn(),ee("<<"),y)switch(E){case"opacity":ee("/ca "+re(y[E]));break;case"stroke-opacity":ee("/CA "+re(y[E]))}ee(">>"),ee("endobj")},Zf=function(){var y;for(y in Kt)Kt.hasOwnProperty(y)&&Bu(Kt[y])},ql=function(){for(var y in ee("/XObject <<"),wn)wn.hasOwnProperty(y)&&wn[y].objectNumber>=0&&ee("/"+y+" "+wn[y].objectNumber+" 0 R");St.publish("putXobjectDict"),ee(">>")},e0=function(){Wn.oid=nn(),ee("<<"),ee("/Filter /Standard"),ee("/V "+Wn.v),ee("/R "+Wn.r),ee("/U <"+Wn.toHexString(Wn.U)+">"),ee("/O <"+Wn.toHexString(Wn.O)+">"),ee("/P "+Wn.P),ee(">>"),ee("endobj")},$u=function(){for(var y in ee("/Font <<"),_t)_t.hasOwnProperty(y)&&(f===!1||f===!0&&v.hasOwnProperty(y))&&ee("/"+y+" "+_t[y].objectNumber+" 0 R");ee(">>")},t0=function(){if(Object.keys(wt).length>0){for(var y in ee("/Shading <<"),wt)wt.hasOwnProperty(y)&&wt[y]instanceof Ws&&wt[y].objectNumber>=0&&ee("/"+y+" "+wt[y].objectNumber+" 0 R");St.publish("putShadingPatternDict"),ee(">>")}},xo=function(y){if(Object.keys(wt).length>0){for(var E in ee("/Pattern <<"),wt)wt.hasOwnProperty(E)&&wt[E]instanceof m.TilingPattern&&wt[E].objectNumber>=0&&wt[E].objectNumber<y&&ee("/"+E+" "+wt[E].objectNumber+" 0 R");St.publish("putTilingPatternDict"),ee(">>")}},n0=function(){if(Object.keys(Kt).length>0){var y;for(y in ee("/ExtGState <<"),Kt)Kt.hasOwnProperty(y)&&Kt[y].objectNumber>=0&&ee("/"+y+" "+Kt[y].objectNumber+" 0 R");St.publish("putGStateDict"),ee(">>")}},cn=function(y){qn(y.resourcesOid,!0),ee("<<"),ee("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),$u(),t0(),xo(y.objectOid),n0(),ql(),ee(">>"),ee("endobj")},zu=function(){var y=[];Za(),Zf(),La(),yo(y),St.publish("putResources"),y.forEach(cn),cn({resourcesOid:Ue,objectOid:Number.MAX_SAFE_INTEGER}),St.publish("postPutResources")},qu=function(){St.publish("putAdditionalObjects");for(var y=0;y<ge.length;y++){var E=ge[y];qn(E.objId,!0),ee(E.content),ee("endobj")}St.publish("postPutAdditionalObjects")},Uu=function(y){Bt[y.fontName]=Bt[y.fontName]||{},Bt[y.fontName][y.fontStyle]=y.id},Ul=function(y,E,G,ie,he){var we={id:"F"+(Object.keys(_t).length+1).toString(10),postScriptName:y,fontName:E,fontStyle:G,encoding:ie,isStandardFont:he||!1,metadata:{}};return St.publish("addFont",{font:we,instance:this}),_t[we.id]=we,Uu(we),we.id},r0=function(y){for(var E=0,G=Ae.length;E<G;E++){var ie=Ul.call(this,y[E][0],y[E][1],y[E][2],Ae[E][3],!0);f===!1&&(v[ie]=!0);var he=y[E][0].split("-");Uu({id:ie,fontName:he[0],fontStyle:he[1]||""})}St.publish("addFonts",{fonts:_t,dictionary:Bt})},la=function(y){return y.foo=function(){try{return y.apply(this,arguments)}catch(ie){var E=ie.stack||"";~E.indexOf(" at ")&&(E=E.split(" at ")[1]);var G="Error in function "+E.split(`
`)[0].split("<")[0]+": "+ie.message;if(!at.console)throw new Error(G);at.console.error(G,ie),at.alert&&alert(G)}},y.foo.bar=y,y.foo},bo=function(y,E){var G,ie,he,we,Le,Be,Ge,dt,lt;if(he=(E=E||{}).sourceEncoding||"Unicode",Le=E.outputEncoding,(E.autoencode||Le)&&_t[pt].metadata&&_t[pt].metadata[he]&&_t[pt].metadata[he].encoding&&(we=_t[pt].metadata[he].encoding,!Le&&_t[pt].encoding&&(Le=_t[pt].encoding),!Le&&we.codePages&&(Le=we.codePages[0]),typeof Le=="string"&&(Le=we[Le]),Le)){for(Ge=!1,Be=[],G=0,ie=y.length;G<ie;G++)(dt=Le[y.charCodeAt(G)])?Be.push(String.fromCharCode(dt)):Be.push(y[G]),Be[G].charCodeAt(0)>>8&&(Ge=!0);y=Be.join("")}for(G=y.length;Ge===void 0&&G!==0;)y.charCodeAt(G-1)>>8&&(Ge=!0),G--;if(!Ge)return y;for(Be=E.noBOM?[]:[254,255],G=0,ie=y.length;G<ie;G++){if((lt=(dt=y.charCodeAt(G))>>8)>>8)throw new Error("Character at position "+G+" of string '"+y+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Be.push(lt),Be.push(dt-(lt<<8))}return String.fromCharCode.apply(void 0,Be)},gr=m.__private__.pdfEscape=m.pdfEscape=function(y,E){return bo(y,E).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Wl=m.__private__.beginPage=function(y){Ne[++Gt]=[],st[Gt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(y[0]),topRightY:Number(y[1])}},Hu(Gt),xe(Ne[A])},Wu=function(y,E){var G,ie,he;switch(n=E||n,typeof y=="string"&&(G=g(y.toLowerCase()),Array.isArray(G)&&(ie=G[0],he=G[1])),Array.isArray(y)&&(ie=y[0]*Re,he=y[1]*Re),isNaN(ie)&&(ie=a[0],he=a[1]),(ie>14400||he>14400)&&(Ot.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ie=Math.min(14400,ie),he=Math.min(14400,he)),a=[ie,he],n.substr(0,1)){case"l":he>ie&&(a=[he,ie]);break;case"p":ie>he&&(a=[he,ie])}Wl(a),Ju(Gl),ee(ca),Xl!==0&&ee(Xl+" J"),Jl!==0&&ee(Jl+" j"),St.publish("addPage",{pageNumber:Gt})},a0=function(y){y>0&&y<=Gt&&(Ne.splice(y,1),st.splice(y,1),Gt--,A>Gt&&(A=Gt),this.setPage(A))},Hu=function(y){y>0&&y<=Gt&&(A=y)},i0=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Ne.length-1},Vu=function(y,E,G){var ie,he=void 0;return G=G||{},y=y!==void 0?y:_t[pt].fontName,E=E!==void 0?E:_t[pt].fontStyle,ie=y.toLowerCase(),Bt[ie]!==void 0&&Bt[ie][E]!==void 0?he=Bt[ie][E]:Bt[y]!==void 0&&Bt[y][E]!==void 0?he=Bt[y][E]:G.disableWarning===!1&&Ot.warn("Unable to look up font label for font '"+y+"', '"+E+"'. Refer to getFontList() for available fonts."),he||G.noFallback||(he=Bt.times[E])==null&&(he=Bt.times.normal),he},s0=m.__private__.putInfo=function(){var y=nn(),E=function(ie){return ie};for(var G in p!==null&&(E=Wn.encryptor(y,0)),ee("<<"),ee("/Producer ("+gr(E("jsPDF "+rt.version))+")"),nt)nt.hasOwnProperty(G)&&nt[G]&&ee("/"+G.substr(0,1).toUpperCase()+G.substr(1)+" ("+gr(E(nt[G]))+")");ee("/CreationDate ("+gr(E(X))+")"),ee(">>"),ee("endobj")},Hl=m.__private__.putCatalog=function(y){var E=(y=y||{}).rootDictionaryObjId||fe;switch(nn(),ee("<<"),ee("/Type /Catalog"),ee("/Pages "+E+" 0 R"),Ce||(Ce="fullwidth"),Ce){case"fullwidth":ee("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ee("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ee("/OpenAction [3 0 R /Fit]");break;case"original":ee("/OpenAction [3 0 R /XYZ null null 1]");break;default:var G=""+Ce;G.substr(G.length-1)==="%"&&(Ce=parseInt(Ce)/100),typeof Ce=="number"&&ee("/OpenAction [3 0 R /XYZ null null "+re(Ce)+"]")}switch(ft||(ft="continuous"),ft){case"continuous":ee("/PageLayout /OneColumn");break;case"single":ee("/PageLayout /SinglePage");break;case"two":case"twoleft":ee("/PageLayout /TwoColumnLeft");break;case"tworight":ee("/PageLayout /TwoColumnRight")}tt&&ee("/PageMode /"+tt),St.publish("putCatalog"),ee(">>"),ee("endobj")},o0=m.__private__.putTrailer=function(){ee("trailer"),ee("<<"),ee("/Size "+(ae+1)),ee("/Root "+ae+" 0 R"),ee("/Info "+(ae-1)+" 0 R"),p!==null&&ee("/Encrypt "+Wn.oid+" 0 R"),ee("/ID [ <"+Z+"> <"+Z+"> ]"),ee(">>")},l0=m.__private__.putHeader=function(){ee("%PDF-"+j),ee("%ºß¬à")},c0=m.__private__.putXRef=function(){var y="0000000000";ee("xref"),ee("0 "+(ae+1)),ee("0000000000 65535 f ");for(var E=1;E<=ae;E++)typeof le[E]=="function"?ee((y+le[E]()).slice(-10)+" 00000 n "):le[E]!==void 0?ee((y+le[E]).slice(-10)+" 00000 n "):ee("0000000000 00000 n ")},ei=m.__private__.buildDocument=function(){qe(),xe(de),St.publish("buildDocument"),l0(),mr(),qu(),zu(),p!==null&&e0(),s0(),Hl();var y=$;return c0(),o0(),ee("startxref"),ee(""+y),ee("%%EOF"),xe(Ne[A]),de.join(`
`)},wo=m.__private__.getBlob=function(y){return new Blob([$e(y)],{type:"application/pdf"})},No=m.output=m.__private__.output=la(function(y,E){switch(typeof(E=E||{})=="string"?E={filename:E}:E.filename=E.filename||"generated.pdf",y){case void 0:return ei();case"save":m.save(E.filename);break;case"arraybuffer":return $e(ei());case"blob":return wo(ei());case"bloburi":case"bloburl":if(at.URL!==void 0&&typeof at.URL.createObjectURL=="function")return at.URL&&at.URL.createObjectURL(wo(ei()))||void 0;Ot.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var G="",ie=ei();try{G=i1(ie)}catch{G=i1(unescape(encodeURIComponent(ie)))}return"data:application/pdf;filename="+E.filename+";base64,"+G;case"pdfobjectnewwindow":if(Object.prototype.toString.call(at)==="[object Window]"){var he="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",we=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';E.pdfObjectUrl&&(he=E.pdfObjectUrl,we="");var Le='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+he+'"'+we+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(E)+");<\/script></body></html>",Be=at.open();return Be!==null&&Be.document.write(Le),Be}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(at)==="[object Window]"){var Ge='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(E.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+E.filename+'" width="500px" height="400px" /></body></html>',dt=at.open();if(dt!==null){dt.document.write(Ge);var lt=this;dt.document.documentElement.querySelector("#pdfViewer").onload=function(){dt.document.title=E.filename,dt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(lt.output("bloburl"))}}return dt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(at)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var bt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",E)+'"></iframe></body></html>',Qt=at.open();if(Qt!==null&&(Qt.document.write(bt),Qt.document.title=E.filename),Qt||typeof safari>"u")return Qt;break;case"datauri":case"dataurl":return at.document.location.href=this.output("datauristring",E);default:return null}}),Ku=function(y){return Array.isArray(Ja)===!0&&Ja.indexOf(y)>-1};switch(r){case"pt":Re=1;break;case"mm":Re=72/25.4;break;case"cm":Re=72/2.54;break;case"in":Re=72;break;case"px":Re=Ku("px_scaling")==1?.75:96/72;break;case"pc":case"em":Re=12;break;case"ex":Re=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Re=r}var Wn=null;ye(),U();var u0=function(y){return p!==null?Wn.encryptor(y,0):function(E){return E}},Gu=m.__private__.getPageInfo=m.getPageInfo=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:st[y].objId,pageNumber:y,pageContext:st[y]}},ot=m.__private__.getPageInfoByObjId=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var E in st)if(st[E].objId===y)break;return Gu(E)},d0=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:st[A].objId,pageNumber:A,pageContext:st[A]}};m.addPage=function(){return Wu.apply(this,arguments),this},m.setPage=function(){return Hu.apply(this,arguments),xe.call(this,Ne[A]),this},m.insertPage=function(y){return this.addPage(),this.movePage(A,y),this},m.movePage=function(y,E){var G,ie;if(y>E){G=Ne[y],ie=st[y];for(var he=y;he>E;he--)Ne[he]=Ne[he-1],st[he]=st[he-1];Ne[E]=G,st[E]=ie,this.setPage(E)}else if(y<E){G=Ne[y],ie=st[y];for(var we=y;we<E;we++)Ne[we]=Ne[we+1],st[we]=st[we+1];Ne[E]=G,st[E]=ie,this.setPage(E)}return this},m.deletePage=function(){return a0.apply(this,arguments),this},m.__private__.text=m.text=function(y,E,G,ie,he){var we,Le,Be,Ge,dt,lt,bt,Qt,rn,gn=(ie=ie||{}).scope||this;if(typeof y=="number"&&typeof E=="number"&&(typeof G=="string"||Array.isArray(G))){var Hn=G;G=E,E=y,y=Hn}if(arguments[3]instanceof Je?(F("The transform parameter of text() with a Matrix value"),rn=he):(Be=arguments[4],Ge=arguments[5],At(bt=arguments[3])==="object"&&bt!==null||(typeof Be=="string"&&(Ge=Be,Be=null),typeof bt=="string"&&(Ge=bt,bt=null),typeof bt=="number"&&(Be=bt,bt=null),ie={flags:bt,angle:Be,align:Ge})),isNaN(E)||isNaN(G)||y==null)throw new Error("Invalid arguments passed to jsPDF.text");if(y.length===0)return gn;var _n="",ua=!1,Lr=typeof ie.lineHeightFactor=="number"?ie.lineHeightFactor:Ls,Da=gn.internal.scaleFactor;function rd($t){return $t=$t.split("	").join(Array(ie.TabLen||9).join(" ")),gr($t,bt)}function nc($t){for(var zt,dn=$t.concat(),Nn=[],ii=dn.length;ii--;)typeof(zt=dn.shift())=="string"?Nn.push(zt):Array.isArray($t)&&(zt.length===1||zt[1]===void 0&&zt[2]===void 0)?Nn.push(zt[0]):Nn.push([zt[0],zt[1],zt[2]]);return Nn}function rc($t,zt){var dn;if(typeof $t=="string")dn=zt($t)[0];else if(Array.isArray($t)){for(var Nn,ii,dc=$t.concat(),Oo=[],ld=dc.length;ld--;)typeof(Nn=dc.shift())=="string"?Oo.push(zt(Nn)[0]):Array.isArray(Nn)&&typeof Nn[0]=="string"&&(ii=zt(Nn[0],Nn[1],Nn[2]),Oo.push([ii[0],ii[1],ii[2]]));dn=Oo}return dn}var Po=!1,ac=!0;if(typeof y=="string")Po=!0;else if(Array.isArray(y)){var ic=y.concat();Le=[];for(var _o,Fn=ic.length;Fn--;)(typeof(_o=ic.shift())!="string"||Array.isArray(_o)&&typeof _o[0]!="string")&&(ac=!1);Po=ac}if(Po===!1)throw new Error('Type of text must be string or Array. "'+y+'" is not recognized.');typeof y=="string"&&(y=y.match(/[\r?\n]/)?y.split(/\r\n|\r|\n/g):[y]);var Lo=Me/gn.internal.scaleFactor,Eo=Lo*(Lr-1);switch(ie.baseline){case"bottom":G-=Eo;break;case"top":G+=Lo-Eo;break;case"hanging":G+=Lo-2*Eo;break;case"middle":G+=Lo/2-Eo}if((lt=ie.maxWidth||0)>0&&(typeof y=="string"?y=gn.splitTextToSize(y,lt):Object.prototype.toString.call(y)==="[object Array]"&&(y=y.reduce(function($t,zt){return $t.concat(gn.splitTextToSize(zt,lt))},[]))),we={text:y,x:E,y:G,options:ie,mutex:{pdfEscape:gr,activeFontKey:pt,fonts:_t,activeFontSize:Me}},St.publish("preProcessText",we),y=we.text,Be=(ie=we.options).angle,!(rn instanceof Je)&&Be&&typeof Be=="number"){Be*=Math.PI/180,ie.rotationDirection===0&&(Be=-Be),N===x.ADVANCED&&(Be=-Be);var Io=Math.cos(Be),sc=Math.sin(Be);rn=new Je(Io,sc,-sc,Io,0,0)}else Be&&Be instanceof Je&&(rn=Be);N!==x.ADVANCED||rn||(rn=Hr),(dt=ie.charSpace||ko)!==void 0&&(_n+=M(L(dt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Qt=ie.horizontalScale)!==void 0&&(_n+=M(100*Qt)+` Tz
`),ie.lang;var vr=-1,w0=ie.renderingMode!==void 0?ie.renderingMode:ie.stroke,oc=gn.internal.getCurrentPageInfo().pageContext;switch(w0){case 0:case!1:case"fill":vr=0;break;case 1:case!0:case"stroke":vr=1;break;case 2:case"fillThenStroke":vr=2;break;case 3:case"invisible":vr=3;break;case 4:case"fillAndAddForClipping":vr=4;break;case 5:case"strokeAndAddPathForClipping":vr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":vr=6;break;case 7:case"addToPathForClipping":vr=7}var ad=oc.usedRenderingMode!==void 0?oc.usedRenderingMode:-1;vr!==-1?_n+=vr+` Tr
`:ad!==-1&&(_n+=`0 Tr
`),vr!==-1&&(oc.usedRenderingMode=vr),Ge=ie.align||"left";var Vr,Do=Me*Lr,id=gn.internal.pageSize.getWidth(),sd=_t[pt];dt=ie.charSpace||ko,lt=ie.maxWidth||0,bt=Object.assign({autoencode:!0,noBOM:!0},ie.flags);var Mi=[],Ds=function($t){return gn.getStringUnitWidth($t,{font:sd,charSpace:dt,fontSize:Me,doKerning:!1})*Me/Da};if(Object.prototype.toString.call(y)==="[object Array]"){var yr;Le=nc(y),Ge!=="left"&&(Vr=Le.map(Ds));var rr,Ti=0;if(Ge==="right"){E-=Vr[0],y=[],Fn=Le.length;for(var ni=0;ni<Fn;ni++)ni===0?(rr=Ia(E),yr=ti(G)):(rr=L(Ti-Vr[ni]),yr=-Do),y.push([Le[ni],rr,yr]),Ti=Vr[ni]}else if(Ge==="center"){E-=Vr[0]/2,y=[],Fn=Le.length;for(var ri=0;ri<Fn;ri++)ri===0?(rr=Ia(E),yr=ti(G)):(rr=L((Ti-Vr[ri])/2),yr=-Do),y.push([Le[ri],rr,yr]),Ti=Vr[ri]}else if(Ge==="left"){y=[],Fn=Le.length;for(var Mo=0;Mo<Fn;Mo++)y.push(Le[Mo])}else if(Ge==="justify"&&sd.encoding==="Identity-H"){y=[],Fn=Le.length,lt=lt!==0?lt:id;for(var ai=0,un=0;un<Fn;un++)if(yr=un===0?ti(G):-Do,rr=un===0?Ia(E):ai,un<Fn-1){var lc=L((lt-Vr[un])/(Le[un].split(" ").length-1)),ar=Le[un].split(" ");y.push([ar[0]+" ",rr,yr]),ai=0;for(var Kr=1;Kr<ar.length;Kr++){var To=(Ds(ar[Kr-1]+" "+ar[Kr])-Ds(ar[Kr]))*Da+lc;Kr==ar.length-1?y.push([ar[Kr],To,0]):y.push([ar[Kr]+" ",To,0]),ai-=To}}else y.push([Le[un],rr,yr]);y.push(["",ai,0])}else{if(Ge!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(y=[],Fn=Le.length,lt=lt!==0?lt:id,un=0;un<Fn;un++)yr=un===0?ti(G):-Do,rr=un===0?Ia(E):0,un<Fn-1?Mi.push(M(L((lt-Vr[un])/(Le[un].split(" ").length-1)))):Mi.push(0),y.push([Le[un],rr,yr])}}var od=typeof ie.R2L=="boolean"?ie.R2L:Ke;od===!0&&(y=rc(y,function($t,zt,dn){return[$t.split("").reverse().join(""),zt,dn]})),we={text:y,x:E,y:G,options:ie,mutex:{pdfEscape:gr,activeFontKey:pt,fonts:_t,activeFontSize:Me}},St.publish("postProcessText",we),y=we.text,ua=we.mutex.isHex||!1;var cc=_t[pt].encoding;cc!=="WinAnsiEncoding"&&cc!=="StandardEncoding"||(y=rc(y,function($t,zt,dn){return[rd($t),zt,dn]})),Le=nc(y),y=[];for(var Ms,Ts,Fi,Fs=0,Fo=1,Os=Array.isArray(Le[0])?Fo:Fs,Oi="",uc=function($t,zt,dn){var Nn="";return dn instanceof Je?(dn=typeof ie.angle=="number"?_r(dn,new Je(1,0,0,1,$t,zt)):_r(new Je(1,0,0,1,$t,zt),dn),N===x.ADVANCED&&(dn=_r(new Je(1,0,0,-1,0,0),dn)),Nn=dn.join(" ")+` Tm
`):Nn=M($t)+" "+M(zt)+` Td
`,Nn},Gr=0;Gr<Le.length;Gr++){switch(Oi="",Os){case Fo:Fi=(ua?"<":"(")+Le[Gr][0]+(ua?">":")"),Ms=parseFloat(Le[Gr][1]),Ts=parseFloat(Le[Gr][2]);break;case Fs:Fi=(ua?"<":"(")+Le[Gr]+(ua?">":")"),Ms=Ia(E),Ts=ti(G)}Mi!==void 0&&Mi[Gr]!==void 0&&(Oi=Mi[Gr]+` Tw
`),Gr===0?y.push(Oi+uc(Ms,Ts,rn)+Fi):Os===Fs?y.push(Oi+Fi):Os===Fo&&y.push(Oi+uc(Ms,Ts,rn)+Fi)}y=Os===Fs?y.join(` Tj
T* `):y.join(` Tj
`),y+=` Tj
`;var Yr=`BT
/`;return Yr+=pt+" "+Me+` Tf
`,Yr+=M(Me*Lr)+` TL
`,Yr+=Es+`
`,Yr+=_n,Yr+=y,ee(Yr+="ET"),v[pt]=!0,gn};var h0=m.__private__.clip=m.clip=function(y){return ee(y==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return h0("evenodd")},m.__private__.discardPath=m.discardPath=function(){return ee("n"),this};var Ea=m.__private__.isValidStyle=function(y){var E=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(y)!==-1&&(E=!0),E};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(y){return Ea(y)&&(d=y),this};var Yu=m.__private__.getStyle=m.getStyle=function(y){var E=d;switch(y){case"D":case"S":E="S";break;case"F":E="f";break;case"FD":case"DF":E="B";break;case"f":case"f*":case"B":case"B*":E=y}return E},Xu=m.close=function(){return ee("h"),this};m.stroke=function(){return ee("S"),this},m.fill=function(y){return jo("f",y),this},m.fillEvenOdd=function(y){return jo("f*",y),this},m.fillStroke=function(y){return jo("B",y),this},m.fillStrokeEvenOdd=function(y){return jo("B*",y),this};var jo=function(y,E){At(E)==="object"?p0(E,y):ee(y)},Vl=function(y){y===null||N===x.ADVANCED&&y===void 0||(y=Yu(y),ee(y))};function f0(y,E,G,ie,he){var we=new cl(E||this.boundingBox,G||this.xStep,ie||this.yStep,this.gState,he||this.matrix);we.stream=this.stream;var Le=y+"$$"+this.cloneIndex+++"$$";return Tn(Le,we),we}var p0=function(y,E){var G=Xa[y.key],ie=wt[G];if(ie instanceof Ws)ee("q"),ee(m0(E)),ie.gState&&m.setGState(ie.gState),ee(y.matrix.toString()+" cm"),ee("/"+G+" sh"),ee("Q");else if(ie instanceof cl){var he=new Je(1,0,0,-1,0,Di());y.matrix&&(he=he.multiply(y.matrix||Hr),G=f0.call(ie,y.key,y.boundingBox,y.xStep,y.yStep,he).id),ee("q"),ee("/Pattern cs"),ee("/"+G+" scn"),ie.gState&&m.setGState(ie.gState),ee(E),ee("Q")}},m0=function(y){switch(y){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Kl=m.moveTo=function(y,E){return ee(M(L(y))+" "+M(V(E))+" m"),this},_s=m.lineTo=function(y,E){return ee(M(L(y))+" "+M(V(E))+" l"),this},Ei=m.curveTo=function(y,E,G,ie,he,we){return ee([M(L(y)),M(V(E)),M(L(G)),M(V(ie)),M(L(he)),M(V(we)),"c"].join(" ")),this};m.__private__.line=m.line=function(y,E,G,ie,he){if(isNaN(y)||isNaN(E)||isNaN(G)||isNaN(ie)||!Ea(he))throw new Error("Invalid arguments passed to jsPDF.line");return N===x.COMPAT?this.lines([[G-y,ie-E]],y,E,[1,1],he||"S"):this.lines([[G-y,ie-E]],y,E,[1,1]).stroke()},m.__private__.lines=m.lines=function(y,E,G,ie,he,we){var Le,Be,Ge,dt,lt,bt,Qt,rn,gn,Hn,_n,ua;if(typeof y=="number"&&(ua=G,G=E,E=y,y=ua),ie=ie||[1,1],we=we||!1,isNaN(E)||isNaN(G)||!Array.isArray(y)||!Array.isArray(ie)||!Ea(he)||typeof we!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Kl(E,G),Le=ie[0],Be=ie[1],dt=y.length,Hn=E,_n=G,Ge=0;Ge<dt;Ge++)(lt=y[Ge]).length===2?(Hn=lt[0]*Le+Hn,_n=lt[1]*Be+_n,_s(Hn,_n)):(bt=lt[0]*Le+Hn,Qt=lt[1]*Be+_n,rn=lt[2]*Le+Hn,gn=lt[3]*Be+_n,Hn=lt[4]*Le+Hn,_n=lt[5]*Be+_n,Ei(bt,Qt,rn,gn,Hn,_n));return we&&Xu(),Vl(he),this},m.path=function(y){for(var E=0;E<y.length;E++){var G=y[E],ie=G.c;switch(G.op){case"m":Kl(ie[0],ie[1]);break;case"l":_s(ie[0],ie[1]);break;case"c":Ei.apply(this,ie);break;case"h":Xu()}}return this},m.__private__.rect=m.rect=function(y,E,G,ie,he){if(isNaN(y)||isNaN(E)||isNaN(G)||isNaN(ie)||!Ea(he))throw new Error("Invalid arguments passed to jsPDF.rect");return N===x.COMPAT&&(ie=-ie),ee([M(L(y)),M(V(E)),M(L(G)),M(L(ie)),"re"].join(" ")),Vl(he),this},m.__private__.triangle=m.triangle=function(y,E,G,ie,he,we,Le){if(isNaN(y)||isNaN(E)||isNaN(G)||isNaN(ie)||isNaN(he)||isNaN(we)||!Ea(Le))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[G-y,ie-E],[he-G,we-ie],[y-he,E-we]],y,E,[1,1],Le,!0),this},m.__private__.roundedRect=m.roundedRect=function(y,E,G,ie,he,we,Le){if(isNaN(y)||isNaN(E)||isNaN(G)||isNaN(ie)||isNaN(he)||isNaN(we)||!Ea(Le))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Be=4/3*(Math.SQRT2-1);return he=Math.min(he,.5*G),we=Math.min(we,.5*ie),this.lines([[G-2*he,0],[he*Be,0,he,we-we*Be,he,we],[0,ie-2*we],[0,we*Be,-he*Be,we,-he,we],[2*he-G,0],[-he*Be,0,-he,-we*Be,-he,-we],[0,2*we-ie],[0,-we*Be,he*Be,-we,he,-we]],y+he,E,[1,1],Le,!0),this},m.__private__.ellipse=m.ellipse=function(y,E,G,ie,he){if(isNaN(y)||isNaN(E)||isNaN(G)||isNaN(ie)||!Ea(he))throw new Error("Invalid arguments passed to jsPDF.ellipse");var we=4/3*(Math.SQRT2-1)*G,Le=4/3*(Math.SQRT2-1)*ie;return Kl(y+G,E),Ei(y+G,E-Le,y+we,E-ie,y,E-ie),Ei(y-we,E-ie,y-G,E-Le,y-G,E),Ei(y-G,E+Le,y-we,E+ie,y,E+ie),Ei(y+we,E+ie,y+G,E+Le,y+G,E),Vl(he),this},m.__private__.circle=m.circle=function(y,E,G,ie){if(isNaN(y)||isNaN(E)||isNaN(G)||!Ea(ie))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(y,E,G,G,ie)},m.setFont=function(y,E,G){return G&&(E=q(E,G)),pt=Vu(y,E,{disableWarning:!1}),this};var g0=m.__private__.getFont=m.getFont=function(){return _t[Vu.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var y,E,G={};for(y in Bt)if(Bt.hasOwnProperty(y))for(E in G[y]=[],Bt[y])Bt[y].hasOwnProperty(E)&&G[y].push(E);return G},m.addFont=function(y,E,G,ie,he){var we=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&we.indexOf(arguments[3])!==-1?he=arguments[3]:arguments[3]&&we.indexOf(arguments[3])==-1&&(G=q(G,ie)),he=he||"Identity-H",Ul.call(this,y,E,G,he)};var Ls,Gl=e.lineWidth||.200025,So=m.__private__.getLineWidth=m.getLineWidth=function(){return Gl},Ju=m.__private__.setLineWidth=m.setLineWidth=function(y){return Gl=y,ee(M(L(y))+" w"),this};m.__private__.setLineDash=rt.API.setLineDash=rt.API.setLineDashPattern=function(y,E){if(y=y||[],E=E||0,isNaN(E)||!Array.isArray(y))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return y=y.map(function(G){return M(L(G))}).join(" "),E=M(L(E)),ee("["+y+"] "+E+" d"),this};var Qu=m.__private__.getLineHeight=m.getLineHeight=function(){return Me*Ls};m.__private__.getLineHeight=m.getLineHeight=function(){return Me*Ls};var Zu=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(y){return typeof(y=y||1.15)=="number"&&(Ls=y),this},ed=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Ls};Zu(e.lineHeight);var Ia=m.__private__.getHorizontalCoordinate=function(y){return L(y)},ti=m.__private__.getVerticalCoordinate=function(y){return N===x.ADVANCED?y:st[A].mediaBox.topRightY-st[A].mediaBox.bottomLeftY-L(y)},v0=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(y){return M(Ia(y))},Ii=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(y){return M(ti(y))},ca=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return Oe(ca)},m.__private__.setStrokeColor=m.setDrawColor=function(y,E,G,ie){return ca=Qe({ch1:y,ch2:E,ch3:G,ch4:ie,pdfColorType:"draw",precision:2}),ee(ca),this};var Yl=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return Oe(Yl)},m.__private__.setFillColor=m.setFillColor=function(y,E,G,ie){return Yl=Qe({ch1:y,ch2:E,ch3:G,ch4:ie,pdfColorType:"fill",precision:2}),ee(Yl),this};var Es=e.textColor||"0 g",y0=m.__private__.getTextColor=m.getTextColor=function(){return Oe(Es)};m.__private__.setTextColor=m.setTextColor=function(y,E,G,ie){return Es=Qe({ch1:y,ch2:E,ch3:G,ch4:ie,pdfColorType:"text",precision:3}),this};var ko=e.charSpace,x0=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(ko||0)};m.__private__.setCharSpace=m.setCharSpace=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ko=y,this};var Xl=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(y){var E=m.CapJoinStyles[y];if(E===void 0)throw new Error("Line cap style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xl=E,ee(E+" J"),this};var Jl=0;m.__private__.setLineJoin=m.setLineJoin=function(y){var E=m.CapJoinStyles[y];if(E===void 0)throw new Error("Line join style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Jl=E,ee(E+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(y){if(y=y||0,isNaN(y))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ee(M(L(y))+" M"),this},m.GState=vf,m.setGState=function(y){(y=typeof y=="string"?Kt[Pr[y]]:td(null,y)).equals(sa)||(ee("/"+y.id+" gs"),sa=y)};var td=function(y,E){if(!y||!Pr[y]){var G=!1;for(var ie in Kt)if(Kt.hasOwnProperty(ie)&&Kt[ie].equals(E)){G=!0;break}if(G)E=Kt[ie];else{var he="GS"+(Object.keys(Kt).length+1).toString(10);Kt[he]=E,E.id=he}return y&&(Pr[y]=E.id),St.publish("addGState",E),E}};m.addGState=function(y,E){return td(y,E),this},m.saveGraphicsState=function(){return ee("q"),Ur.push({key:pt,size:Me,color:Es}),this},m.restoreGraphicsState=function(){ee("Q");var y=Ur.pop();return pt=y.key,Me=y.size,Es=y.color,sa=null,this},m.setCurrentTransformationMatrix=function(y){return ee(y.toString()+" cm"),this},m.comment=function(y){return ee("#"+y),this};var Co=function(y,E){var G=y||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return G},set:function(we){isNaN(we)||(G=parseFloat(we))}});var ie=E||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ie},set:function(we){isNaN(we)||(ie=parseFloat(we))}});var he="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return he},set:function(we){he=we.toString()}}),this},Ql=function(y,E,G,ie){Co.call(this,y,E),this.type="rect";var he=G||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return he},set:function(Le){isNaN(Le)||(he=parseFloat(Le))}});var we=ie||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return we},set:function(Le){isNaN(Le)||(we=parseFloat(Le))}}),this},Zl=function(){this.page=Gt,this.currentPage=A,this.pages=Ne.slice(0),this.pagesContext=st.slice(0),this.x=Pn,this.y=xt,this.matrix=Ar,this.width=Is(A),this.height=Di(A),this.outputDestination=_e,this.id="",this.objectNumber=-1};Zl.prototype.restore=function(){Gt=this.page,A=this.currentPage,st=this.pagesContext,Ne=this.pages,Pn=this.x,xt=this.y,Ar=this.matrix,ec(A,this.width),tc(A,this.height),_e=this.outputDestination};var nd=function(y,E,G,ie,he){pr.push(new Zl),Gt=A=0,Ne=[],Pn=y,xt=E,Ar=he,Wl([G,ie])},b0=function(y){if(Wr[y])pr.pop().restore();else{var E=new Zl,G="Xo"+(Object.keys(wn).length+1).toString(10);E.id=G,Wr[y]=G,wn[G]=E,St.publish("addFormObject",E),pr.pop().restore()}};for(var Ao in m.beginFormObject=function(y,E,G,ie,he){return nd(y,E,G,ie,he),this},m.endFormObject=function(y){return b0(y),this},m.doFormObject=function(y,E){var G=wn[Wr[y]];return ee("q"),ee(E.toString()+" cm"),ee("/"+G.id+" Do"),ee("Q"),this},m.getFormObject=function(y){var E=wn[Wr[y]];return{x:E.x,y:E.y,width:E.width,height:E.height,matrix:E.matrix}},m.save=function(y,E){return y=y||"generated.pdf",(E=E||{}).returnPromise=E.returnPromise||!1,E.returnPromise===!1?(Us(wo(ei()),y),typeof Us.unload=="function"&&at.setTimeout&&setTimeout(Us.unload,911),this):new Promise(function(G,ie){try{var he=Us(wo(ei()),y);typeof Us.unload=="function"&&at.setTimeout&&setTimeout(Us.unload,911),G(he)}catch(we){ie(we.message)}})},rt.API)rt.API.hasOwnProperty(Ao)&&(Ao==="events"&&rt.API.events.length?function(y,E){var G,ie,he;for(he=E.length-1;he!==-1;he--)G=E[he][0],ie=E[he][1],y.subscribe.apply(y,[G].concat(typeof ie=="function"?[ie]:ie))}(St,rt.API.events):m[Ao]=rt.API[Ao]);var Is=m.getPageWidth=function(y){return(st[y=y||A].mediaBox.topRightX-st[y].mediaBox.bottomLeftX)/Re},ec=m.setPageWidth=function(y,E){st[y].mediaBox.topRightX=E*Re+st[y].mediaBox.bottomLeftX},Di=m.getPageHeight=function(y){return(st[y=y||A].mediaBox.topRightY-st[y].mediaBox.bottomLeftY)/Re},tc=m.setPageHeight=function(y,E){st[y].mediaBox.topRightY=E*Re+st[y].mediaBox.bottomLeftY};return m.internal={pdfEscape:gr,getStyle:Yu,getFont:g0,getFontSize:Ie,getCharSpace:x0,getTextColor:y0,getLineHeight:Qu,getLineHeightFactor:ed,getLineWidth:So,write:Ye,getHorizontalCoordinate:Ia,getVerticalCoordinate:ti,getCoordinateString:v0,getVerticalCoordinateString:Ii,collections:{},newObject:nn,newAdditionalObject:Qa,newObjectDeferred:Jt,newObjectDeferredBegin:qn,getFilters:mt,putStream:Mt,events:St,scaleFactor:Re,pageSize:{getWidth:function(){return Is(A)},setWidth:function(y){ec(A,y)},getHeight:function(){return Di(A)},setHeight:function(y){tc(A,y)}},encryptionOptions:p,encryption:Wn,getEncryptor:u0,output:No,getNumberOfPages:i0,pages:Ne,out:ee,f2:re,f3:I,getPageInfo:Gu,getPageInfoByObjId:ot,getCurrentPageInfo:d0,getPDFVersion:w,Point:Co,Rectangle:Ql,Matrix:Je,hasHotfix:Ku},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Is(A)},set:function(y){ec(A,y)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Di(A)},set:function(y){tc(A,y)},enumerable:!0,configurable:!0}),r0.call(m,Ae),pt="F1",Wu(a,n),St.publish("initialized"),m}Yo.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Yo.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Yo.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},Yo.prototype.processOwnerPassword=function(e,t){return o1(s1(t).substr(0,5),e)},Yo.prototype.encryptor=function(e,t){var n=s1(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return o1(n,r)}},vf.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||At(e)!==At(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},rt.API={events:[]},rt.version="3.0.1";var sn=rt.API,jg=1,vo=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Vo=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ct=function(e){return e.toFixed(2)},Gi=function(e){return e.toFixed(5)};sn.__acroform__={};var Cr=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},qv=function(e){return e*jg},Fa=function(e){var t=new Yb,n=Ve.internal.getHeight(e)||0,r=Ve.internal.getWidth(e)||0;return t.BBox=[0,0,Number(ct(r)),Number(ct(n))],t},iC=sn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},sC=sn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},oC=sn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},fn=sn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return oC(e,t-1)},pn=sn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return iC(e,t-1)},mn=sn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return sC(e,t-1)},lC=sn.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,a=e[0],i=e[1],s=e[2],l=e[3],c={};return c.lowerLeft_X=n(a)||0,c.lowerLeft_Y=r(i+l)||0,c.upperRight_X=n(a+s)||0,c.upperRight_Y=r(i)||0,[Number(ct(c.lowerLeft_X)),Number(ct(c.lowerLeft_Y)),Number(ct(c.upperRight_X)),Number(ct(c.upperRight_Y))]},cC=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=l1(e,n),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+ct(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Fa(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},l1=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(I){return I.split(`
`)}):a.map(function(I){return[I]});var i=n,s=Ve.internal.getHeight(e)||0;s=s<0?-s:s;var l=Ve.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(I,L,Y){if(I+1<a.length){var V=L+" "+a[I+1][0];return eh(V,e,Y).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var d,p,f=eh("3",e,i).height,v=e.multiline?s-i:(s-f)/2,m=v+=2,j=0,w=0,S=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+eh(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var g="",x=0,N=0;N<a.length;N++)if(a.hasOwnProperty(N)){var P=!1;if(a[N].length!==1&&S!==a[N].length-1){if((f+2)*(x+2)+2>s)continue e;g+=a[N][S],P=!0,w=N,N--}else{g=(g+=a[N][S]+" ").substr(g.length-1)==" "?g.substr(0,g.length-1):g;var R=parseInt(N),q=c(R,g,i),M=N>=a.length-1;if(q&&!M){g+=" ",S=0;continue}if(q||M){if(M)w=R;else if(e.multiline&&(f+2)*(x+2)+2>s)continue e}else{if(!e.multiline||(f+2)*(x+2)+2>s)continue e;w=R}}for(var F="",H=j;H<=w;H++){var re=a[H];if(e.multiline){if(H===w){F+=re[S]+" ",S=(S+1)%re.length;continue}if(H===j){F+=re[re.length-1]+" ";continue}}F+=re[0]+" "}switch(F=F.substr(F.length-1)==" "?F.substr(0,F.length-1):F,p=eh(F,e,i).width,e.textAlign){case"right":d=l-p-2;break;case"center":d=(l-p)/2;break;case"left":default:d=2}t+=ct(d)+" "+ct(m)+` Td
`,t+="("+vo(F)+`) Tj
`,t+=-ct(d)+` 0 Td
`,m=-(i+2),p=0,j=P?w:w+1,x++,g=""}break}return r.text=t,r.fontSize=i,r},eh=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:a}},uC={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},dC=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},hC=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,a=e[n];t.internal.newObjectDeferredBegin(a.objId,!0),At(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[r]}},fC=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Aa.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(uC)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");jg=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Xb,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in r)if(r.hasOwnProperty(a)){var i=r[a];i.objId=void 0,i.hasAnnotation&&dC(i,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,a){var i=!r;for(var s in r||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var l=r[s],c=[],d=l.Rect;if(l.Rect&&(l.Rect=lC(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Ve.createDefaultAppearanceStream(l),At(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var p=cC(l);c.push({key:"AP",value:"<</N "+p+">>"}),a.internal.acroformPlugin.xForms.push(p)}if(l.appearanceStreamContent){var f="";for(var v in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(v)){var m=l.appearanceStreamContent[v];if(f+="/"+v+" ",f+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var s in m)if(m.hasOwnProperty(s)){var j=m[s];typeof j=="function"&&(j=j.call(a,l)),f+="/"+s+" "+j+" ",a.internal.acroformPlugin.xForms.indexOf(j)>=0||a.internal.acroformPlugin.xForms.push(j)}}else typeof(j=m)=="function"&&(j=j.call(a,l)),f+="/"+s+" "+j,a.internal.acroformPlugin.xForms.indexOf(j)>=0||a.internal.acroformPlugin.xForms.push(j);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}i&&hC(a.internal.acroformPlugin.xForms,a)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},Gb=sn.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(s){return s};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),At(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),a+="("+vo(r(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},kp=function(e,t,n){var r=function(a){return a};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+vo(r(e))+")"},Ua=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ua.prototype.toString=function(){return this.objId+" 0 R"},Ua.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Ua.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],a=this[r];a&&(Array.isArray(a)?e.push({key:r,value:Gb(a,this.objId,this.scope)}):a instanceof Ua?(a.scope=this.scope,e.push({key:r,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:r,value:a}))}return e};var Yb=function(){Ua.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Cr(Yb,Ua);var Xb=function(){Ua.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+vo(n(e))+")"}},set:function(n){e=n}})};Cr(Xb,Ua);var Aa=function e(){Ua.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');t=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!fn(t,3)},set:function(g){g?this.F=pn(t,3):this.F=mn(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');n=g}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(g){r=g!==void 0?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(g){r[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(g){r[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(g){r[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(g){r[3]=g}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof yf)return;i="FieldObject"+e.FieldNum++}var g=function(x){return x};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+vo(g(i))+")"},set:function(g){i=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(g){i=g}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(g){s=g}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(g){l=g}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(g){c=g}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/jg:d},set:function(g){d=g}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(g){p=g}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof yf||this instanceof to))return kp(f,this.objId,this.scope)},set:function(g){g=g.toString(),f=g}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof Dn?v:kp(v,this.objId,this.scope)},set:function(g){g=g.toString(),v=this instanceof Dn?g:g.substr(0,1)==="("?Vo(g.substr(1,g.length-2)):Vo(g)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Dn?Vo(v.substr(1,v.length-1)):v},set:function(g){g=g.toString(),v=this instanceof Dn?"/"+g:g}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Dn?m:kp(m,this.objId,this.scope)},set:function(g){g=g.toString(),m=this instanceof Dn?g:g.substr(0,1)==="("?Vo(g.substr(1,g.length-2)):Vo(g)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Dn?Vo(m.substr(1,m.length-1)):m},set:function(g){g=g.toString(),m=this instanceof Dn?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var j,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(g){g=!!g,w=g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(j)return j},set:function(g){j=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,1)},set:function(g){g?this.Ff=pn(this.Ff,1):this.Ff=mn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,2)},set:function(g){g?this.Ff=pn(this.Ff,2):this.Ff=mn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,3)},set:function(g){g?this.Ff=pn(this.Ff,3):this.Ff=mn(this.Ff,3)}});var S=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(S!==null)return S},set:function(g){if([0,1,2].indexOf(g)===-1)throw new Error('Invalid value "'+g+'" for attribute Q supplied.');S=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(S){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:S=2;break;case"center":case 1:S=1;break;case"left":case 0:default:S=0}}})};Cr(Aa,Ua);var wl=function(){Aa.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Gb(t,this.objId,this.scope)},set:function(n){var r,a;a=[],typeof(r=n)=="string"&&(a=function(i,s,l){l||(l=1);for(var c,d=[];c=s.exec(i);)d.push(c[l]);return d}(r,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,18)},set:function(n){n?this.Ff=pn(this.Ff,18):this.Ff=mn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=pn(this.Ff,19):this.Ff=mn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,20)},set:function(n){n?(this.Ff=pn(this.Ff,20),t.sort()):this.Ff=mn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,22)},set:function(n){n?this.Ff=pn(this.Ff,22):this.Ff=mn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,23)},set:function(n){n?this.Ff=pn(this.Ff,23):this.Ff=mn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,27)},set:function(n){n?this.Ff=pn(this.Ff,27):this.Ff=mn(this.Ff,27)}}),this.hasAppearanceStream=!1};Cr(wl,Aa);var Nl=function(){wl.call(this),this.fontName="helvetica",this.combo=!1};Cr(Nl,wl);var jl=function(){Nl.call(this),this.combo=!0};Cr(jl,Nl);var jh=function(){jl.call(this),this.edit=!0};Cr(jh,jl);var Dn=function(){Aa.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,15)},set:function(n){n?this.Ff=pn(this.Ff,15):this.Ff=mn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,16)},set:function(n){n?this.Ff=pn(this.Ff,16):this.Ff=mn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,17)},set:function(n){n?this.Ff=pn(this.Ff,17):this.Ff=mn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,26)},set:function(n){n?this.Ff=pn(this.Ff,26):this.Ff=mn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(i){return i};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,a=[];for(r in a.push("<<"),t)a.push("/"+r+" ("+vo(n(t[r]))+")");return a.push(">>"),a.join(`
`)}},set:function(n){At(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Cr(Dn,Aa);var Sh=function(){Dn.call(this),this.pushButton=!0};Cr(Sh,Dn);var Sl=function(){Dn.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Cr(Sl,Dn);var yf=function(){var e,t;Aa.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),r)s.push("/"+i+" ("+vo(a(r[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){At(a)==="object"&&(r=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(a){typeof a=="string"&&(r.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(a){n="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ve.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Cr(yf,Aa),Sl.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Sl.prototype.createOption=function(e){var t=new yf;return t.Parent=this,t.optionName=e,this.Kids.push(t),pC.call(this.scope,t),t};var kh=function(){Dn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ve.CheckBox.createAppearanceStream()};Cr(kh,Dn);var to=function(){Aa.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,13)},set:function(t){t?this.Ff=pn(this.Ff,13):this.Ff=mn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,21)},set:function(t){t?this.Ff=pn(this.Ff,21):this.Ff=mn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,23)},set:function(t){t?this.Ff=pn(this.Ff,23):this.Ff=mn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,24)},set:function(t){t?this.Ff=pn(this.Ff,24):this.Ff=mn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,25)},set:function(t){t?this.Ff=pn(this.Ff,25):this.Ff=mn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,26)},set:function(t){t?this.Ff=pn(this.Ff,26):this.Ff=mn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Cr(to,Aa);var Ch=function(){to.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,14)},set:function(e){e?this.Ff=pn(this.Ff,14):this.Ff=mn(this.Ff,14)}}),this.password=!0};Cr(Ch,to);var Ve={CheckBox:{createAppearanceStream:function(){return{N:{On:Ve.CheckBox.YesNormal},D:{On:Ve.CheckBox.YesPushDown,Off:Ve.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Fa(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=l1(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+ct(Ve.internal.getWidth(e))+" "+ct(Ve.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+ct(i.fontSize)+" Tf "+a),n.push("BT"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=Fa(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),a=[],i=Ve.internal.getHeight(e),s=Ve.internal.getWidth(e),l=l1(e,e.caption);return a.push("1 g"),a.push("0 0 "+ct(s)+" "+ct(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+ct(s-1)+" "+ct(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+n+" "+ct(l.fontSize)+" Tf "+r),a.push(l.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Fa(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+ct(Ve.internal.getWidth(e))+" "+ct(Ve.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Ve.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Ve.RadioButton.Circle.YesNormal,t.D[e]=Ve.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Fa(e);t.scope=e.scope;var n=[],r=Ve.internal.getWidth(e)<=Ve.internal.getHeight(e)?Ve.internal.getWidth(e)/4:Ve.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var a=Ve.internal.Bezier_C,i=Number((r*a).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Gi(Ve.internal.getWidth(e)/2)+" "+Gi(Ve.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),n.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),n.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),n.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Fa(e);t.scope=e.scope;var n=[],r=Ve.internal.getWidth(e)<=Ve.internal.getHeight(e)?Ve.internal.getWidth(e)/4:Ve.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),i=Number((a*Ve.internal.Bezier_C).toFixed(5)),s=Number((r*Ve.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Gi(Ve.internal.getWidth(e)/2)+" "+Gi(Ve.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),n.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),n.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),n.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Gi(Ve.internal.getWidth(e)/2)+" "+Gi(Ve.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Fa(e);t.scope=e.scope;var n=[],r=Ve.internal.getWidth(e)<=Ve.internal.getHeight(e)?Ve.internal.getWidth(e)/4:Ve.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),i=Number((a*Ve.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Gi(Ve.internal.getWidth(e)/2)+" "+Gi(Ve.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),n.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),n.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),n.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Ve.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Ve.RadioButton.Cross.YesNormal,t.D[e]=Ve.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Fa(e);t.scope=e.scope;var n=[],r=Ve.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+ct(Ve.internal.getWidth(e)-2)+" "+ct(Ve.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(ct(r.x1.x)+" "+ct(r.x1.y)+" m"),n.push(ct(r.x2.x)+" "+ct(r.x2.y)+" l"),n.push(ct(r.x4.x)+" "+ct(r.x4.y)+" m"),n.push(ct(r.x3.x)+" "+ct(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Fa(e);t.scope=e.scope;var n=Ve.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+ct(Ve.internal.getWidth(e))+" "+ct(Ve.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+ct(Ve.internal.getWidth(e)-2)+" "+ct(Ve.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(ct(n.x1.x)+" "+ct(n.x1.y)+" m"),r.push(ct(n.x2.x)+" "+ct(n.x2.y)+" l"),r.push(ct(n.x4.x)+" "+ct(n.x4.y)+" m"),r.push(ct(n.x3.x)+" "+ct(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Fa(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+ct(Ve.internal.getWidth(e))+" "+ct(Ve.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Ve.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Ve.internal.getWidth(e),n=Ve.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Ve.internal.getWidth=function(e){var t=0;return At(e)==="object"&&(t=qv(e.Rect[2])),t},Ve.internal.getHeight=function(e){var t=0;return At(e)==="object"&&(t=qv(e.Rect[3])),t};var pC=sn.addField=function(e){if(fC(this,e),!(e instanceof Aa))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};sn.AcroFormChoiceField=wl,sn.AcroFormListBox=Nl,sn.AcroFormComboBox=jl,sn.AcroFormEditBox=jh,sn.AcroFormButton=Dn,sn.AcroFormPushButton=Sh,sn.AcroFormRadioButton=Sl,sn.AcroFormCheckBox=kh,sn.AcroFormTextField=to,sn.AcroFormPasswordField=Ch,sn.AcroFormAppearance=Ve,sn.AcroForm={ChoiceField:wl,ListBox:Nl,ComboBox:jl,EditBox:jh,Button:Dn,PushButton:Sh,RadioButton:Sl,CheckBox:kh,TextField:to,PasswordField:Ch,Appearance:Ve},rt.AcroForm={ChoiceField:wl,ListBox:Nl,ComboBox:jl,EditBox:jh,Button:Dn,PushButton:Sh,RadioButton:Sl,CheckBox:kh,TextField:to,PasswordField:Ch,Appearance:Ve};function Jb(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(I,L){var Y,V,X,Z,ne,U=t;if((L=L||t)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(q(I))for(ne in n)for(X=n[ne],Y=0;Y<X.length;Y+=1){for(Z=!0,V=0;V<X[Y].length;V+=1)if(X[Y][V]!==void 0&&X[Y][V]!==I[V]){Z=!1;break}if(Z===!0){U=ne;break}}else for(ne in n)for(X=n[ne],Y=0;Y<X.length;Y+=1){for(Z=!0,V=0;V<X[Y].length;V+=1)if(X[Y][V]!==void 0&&X[Y][V]!==I.charCodeAt(V)){Z=!1;break}if(Z===!0){U=ne;break}}return U===t&&L!==t&&(U=L),U},a=function I(L){for(var Y=this.internal.write,V=this.internal.putStream,X=(0,this.internal.getFilters)();X.indexOf("FlateEncode")!==-1;)X.splice(X.indexOf("FlateEncode"),1);L.objectId=this.internal.newObject();var Z=[];if(Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Image"}),Z.push({key:"Width",value:L.width}),Z.push({key:"Height",value:L.height}),L.colorSpace===S.INDEXED?Z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(L.palette.length/3-1)+" "+("sMask"in L&&L.sMask!==void 0?L.objectId+2:L.objectId+1)+" 0 R]"}):(Z.push({key:"ColorSpace",value:"/"+L.colorSpace}),L.colorSpace===S.DEVICE_CMYK&&Z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Z.push({key:"BitsPerComponent",value:L.bitsPerComponent}),"decodeParameters"in L&&L.decodeParameters!==void 0&&Z.push({key:"DecodeParms",value:"<<"+L.decodeParameters+">>"}),"transparency"in L&&Array.isArray(L.transparency)){for(var ne="",U=0,Q=L.transparency.length;U<Q;U++)ne+=L.transparency[U]+" "+L.transparency[U]+" ";Z.push({key:"Mask",value:"["+ne+"]"})}L.sMask!==void 0&&Z.push({key:"SMask",value:L.objectId+1+" 0 R"});var te=L.filter!==void 0?["/"+L.filter]:void 0;if(V({data:L.data,additionalKeyValues:Z,alreadyAppliedFilters:te,objectId:L.objectId}),Y("endobj"),"sMask"in L&&L.sMask!==void 0){var ye="/Predictor "+L.predictor+" /Colors 1 /BitsPerComponent "+L.bitsPerComponent+" /Columns "+L.width,C={width:L.width,height:L.height,colorSpace:"DeviceGray",bitsPerComponent:L.bitsPerComponent,decodeParameters:ye,data:L.sMask};"filter"in L&&(C.filter=L.filter),I.call(this,C)}if(L.colorSpace===S.INDEXED){var A=this.internal.newObject();V({data:F(new Uint8Array(L.palette)),objectId:A}),Y("endobj")}},i=function(){var I=this.internal.collections.addImage_images;for(var L in I)a.call(this,I[L])},s=function(){var I,L=this.internal.collections.addImage_images,Y=this.internal.write;for(var V in L)Y("/I"+(I=L[V]).index,I.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",s))},c=function(){var I=this.internal.collections.addImage_images;return l.call(this),I},d=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(I){return typeof e["process"+I.toUpperCase()]=="function"},f=function(I){return At(I)==="object"&&I.nodeType===1},v=function(I,L){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var Y=""+I.getAttribute("src");if(Y.indexOf("data:image/")===0)return Xc(unescape(Y).split("base64,").pop());var V=e.loadFile(Y,!0);if(V!==void 0)return V}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var X;switch(L){case"PNG":X="image/png";break;case"WEBP":X="image/webp";break;case"JPEG":case"JPG":default:X="image/jpeg"}return Xc(I.toDataURL(X,1).split("base64,").pop())}},m=function(I){var L=this.internal.collections.addImage_images;if(L){for(var Y in L)if(I===L[Y].alias)return L[Y]}},j=function(I,L,Y){return I||L||(I=-96,L=-96),I<0&&(I=-1*Y.width*72/I/this.internal.scaleFactor),L<0&&(L=-1*Y.height*72/L/this.internal.scaleFactor),I===0&&(I=L*Y.width/Y.height),L===0&&(L=I*Y.height/Y.width),[I,L]},w=function(I,L,Y,V,X,Z){var ne=j.call(this,Y,V,X),U=this.internal.getCoordinateString,Q=this.internal.getVerticalCoordinateString,te=c.call(this);if(Y=ne[0],V=ne[1],te[X.index]=X,Z){Z*=Math.PI/180;var ye=Math.cos(Z),C=Math.sin(Z),A=function(J){return J.toFixed(4)},z=[A(ye),A(C),A(-1*C),A(ye),0,0,"cm"]}this.internal.write("q"),Z?(this.internal.write([1,"0","0",1,U(I),Q(L+V),"cm"].join(" ")),this.internal.write(z.join(" ")),this.internal.write([U(Y),"0","0",U(V),"0","0","cm"].join(" "))):this.internal.write([U(Y),"0","0",U(V),U(I),Q(L+V),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+X.index+" Do"),this.internal.write("Q")},S=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var g=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=e.__addimage__.sHashCode=function(I){var L,Y,V=0;if(typeof I=="string")for(Y=I.length,L=0;L<Y;L++)V=(V<<5)-V+I.charCodeAt(L),V|=0;else if(q(I))for(Y=I.byteLength/2,L=0;L<Y;L++)V=(V<<5)-V+I[L],V|=0;return V},N=e.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var L=!0;return I.length===0&&(L=!1),I.length%4!=0&&(L=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(L=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(L=!1),L},P=e.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var L=I.indexOf(",");return L<0?null:I.substring(0,L).trim().endsWith("base64")?I.substring(L+1):null},R=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(I){return R()&&I instanceof ArrayBuffer};var q=e.__addimage__.isArrayBufferView=function(I){return R()&&typeof Uint32Array<"u"&&(I instanceof Int8Array||I instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array)},M=e.__addimage__.binaryStringToUint8Array=function(I){for(var L=I.length,Y=new Uint8Array(L),V=0;V<L;V++)Y[V]=I.charCodeAt(V);return Y},F=e.__addimage__.arrayBufferToBinaryString=function(I){for(var L="",Y=q(I)?I:new Uint8Array(I),V=0;V<Y.length;V+=8192)L+=String.fromCharCode.apply(null,Y.subarray(V,V+8192));return L};e.addImage=function(){var I,L,Y,V,X,Z,ne,U,Q;if(typeof arguments[1]=="number"?(L=t,Y=arguments[1],V=arguments[2],X=arguments[3],Z=arguments[4],ne=arguments[5],U=arguments[6],Q=arguments[7]):(L=arguments[1],Y=arguments[2],V=arguments[3],X=arguments[4],Z=arguments[5],ne=arguments[6],U=arguments[7],Q=arguments[8]),At(I=arguments[0])==="object"&&!f(I)&&"imageData"in I){var te=I;I=te.imageData,L=te.format||L||t,Y=te.x||Y||0,V=te.y||V||0,X=te.w||te.width||X,Z=te.h||te.height||Z,ne=te.alias||ne,U=te.compression||U,Q=te.rotation||te.angle||Q}var ye=this.internal.getFilters();if(U===void 0&&ye.indexOf("FlateEncode")!==-1&&(U="SLOW"),isNaN(Y)||isNaN(V))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var C=H.call(this,I,L,ne,U);return w.call(this,Y,V,X,Z,C,Q),this};var H=function(I,L,Y,V){var X,Z,ne;if(typeof I=="string"&&r(I)===t){I=unescape(I);var U=re(I,!1);(U!==""||(U=e.loadFile(I,!0))!==void 0)&&(I=U)}if(f(I)&&(I=v(I,L)),L=r(I,L),!p(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(((ne=Y)==null||ne.length===0)&&(Y=function(Q){return typeof Q=="string"||q(Q)?x(Q):q(Q.data)?x(Q.data):null}(I)),(X=m.call(this,Y))||(R()&&(I instanceof Uint8Array||L==="RGBA"||(Z=I,I=M(I))),X=this["process"+L.toUpperCase()](I,d.call(this),Y,function(Q){return Q&&typeof Q=="string"&&(Q=Q.toUpperCase()),Q in e.image_compression?Q:g.NONE}(V),Z)),!X)throw new Error("An unknown error occurred whilst processing the image.");return X},re=e.__addimage__.convertBase64ToBinaryString=function(I,L){L=typeof L!="boolean"||L;var Y,V="";if(typeof I=="string"){var X;Y=(X=P(I))!==null&&X!==void 0?X:I;try{V=Xc(Y)}catch(Z){if(L)throw N(Y)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return V};e.getImageProperties=function(I){var L,Y,V="";if(f(I)&&(I=v(I)),typeof I=="string"&&r(I)===t&&((V=re(I,!1))===""&&(V=e.loadFile(I)||""),I=V),Y=r(I),!p(Y))throw new Error("addImage does not support files of type '"+Y+"', please ensure that a plugin for '"+Y+"' support is added.");if(!R()||I instanceof Uint8Array||(I=M(I)),!(L=this["process"+Y.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return L.fileType=Y,L}})(rt.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};rt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,a,i,s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),d=n.pageContext.annotations,p=!1,f=0;f<d.length&&!p;f++)switch((r=d[f]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var v=0;v<d.length;v++){r=d[v];var m=this.internal.pdfEscape,j=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),S=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(w.objId),x=r.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+m(g(r.contents))+")",i+=" /Popup "+S.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+m(g(x))+") >>",w.content=i;var N=w.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+N,r.open&&(i+=" /Open true"),i+=" >>",S.content=i,this.internal.write(w.objId,"0 R",S.objId,"0 R");break;case"freetext":a="/Rect ["+s(r.bounds.x)+" "+l(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var P=r.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+m(j(r.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+P+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(r.options.name){var R=this.annotations._nameMap[r.options.name];r.options.pageNumber=R.page,r.options.top=R.y}else r.options.top||(r.options.top=0);if(a="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",i="",r.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+m(j(r.options.url))+") >>";else if(r.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,i+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var q=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),i+=" /XYZ "+r.options.left+" "+q+" "+r.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,a,i,s){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(n),y:d(r),w:c(n+a),h:d(r+i)},options:s,type:"link"})},e.textWithLink=function(n,r,a,i){var s,l,c=this.getTextWidth(n),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var p=this.splitTextToSize(n,l).length;s=Math.ceil(d*p)}else l=c,s=d;return this.text(n,r,a,i),a+=.2*d,i.align==="center"&&(r-=c/2),i.align==="right"&&(r-=c),this.link(r,a-d,l,s,i),c},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(rt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(w){return t[w.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},l=e.__arabicParser__.isArabicEndLetter=function(w){return s(w)&&i(w)&&t[w.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(w){return s(w)&&a.indexOf(w.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return s(w)&&i(w)&&t[w.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(w){return s(w)&&i(w)&&t[w.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(w){return s(w)&&i(w)&&t[w.charCodeAt(0)].length>=3};var p=e.__arabicParser__.arabicLetterHasMedialForm=function(w){return s(w)&&i(w)&&t[w.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(w){var S=0,g=n,x="",N=0;for(S=0;S<w.length;S+=1)g[w.charCodeAt(S)]!==void 0?(N++,typeof(g=g[w.charCodeAt(S)])=="number"&&(x+=String.fromCharCode(g),g=n,N=0),S===w.length-1&&(g=n,x+=w.charAt(S-(N-1)),S-=N-1,N=0)):(g=n,x+=w.charAt(S-N),S-=N,N=0);return x};e.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&r[w.charCodeAt(0)]!==void 0};var v=e.__arabicParser__.getCorrectForm=function(w,S,g){return s(w)?i(w)===!1?-1:!d(w)||!s(S)&&!s(g)||!s(g)&&l(S)||l(w)&&!s(S)||l(w)&&c(S)||l(w)&&l(S)?0:p(w)&&s(S)&&!l(S)&&s(g)&&d(g)?3:l(w)||!s(g)?1:2:-1},m=function(w){var S=0,g=0,x=0,N="",P="",R="",q=(w=w||"").split("\\s+"),M=[];for(S=0;S<q.length;S+=1){for(M.push(""),g=0;g<q[S].length;g+=1)N=q[S][g],P=q[S][g-1],R=q[S][g+1],s(N)?(x=v(N,P,R),M[S]+=x!==-1?String.fromCharCode(t[N.charCodeAt(0)][x]):N):M[S]+=N;M[S]=f(M[S])}return M.join(" ")},j=e.__arabicParser__.processArabic=e.processArabic=function(){var w,S=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,g=[];if(Array.isArray(S)){var x=0;for(g=[],x=0;x<S.length;x+=1)Array.isArray(S[x])?g.push([m(S[x][0]),S[x][1],S[x][2]]):g.push([m(S[x])]);w=g}else w=m(S);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};e.events.push(["preProcessText",j])}(rt.API),rt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(l){n=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(l){s=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var a;if((n=n||"2d")!=="2d")return null;for(a in r)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=r[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(rt.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(w){c=w}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(w){d=w}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(w){p=w}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(w){f=w}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(w){v=w}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(w){m=w}});var j=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return j},set:function(w){j=w}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,d){r.call(this);var p=(d=d||{}).fontSize||this.getFontSize(),f=d.font||this.getFont(),v=d.scaleFactor||this.internal.scaleFactor,m=0,j=0,w=0,S=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var g=d.maxWidth;g>0?typeof c=="string"?c=this.splitTextToSize(c,g):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(N,P){return N.concat(S.splitTextToSize(P,g))},[])):c=Array.isArray(c)?c:[c];for(var x=0;x<c.length;x++)m<(w=this.getStringUnitWidth(c[x],{font:f})*p)&&(m=w);return m!==0&&(j=c.length),{w:m/=v,h:Math.max((j*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/v,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var d=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,v=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,m&&v&&(this.printHeaderRow(c.lineNumber,!0),c.y+=v[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-p,c.y+p,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+p,{align:"center",baseline:"top",maxWidth:c.width-p-p}):this.text(c.text,c.x+p,c.y+p,{align:"left",baseline:"top",maxWidth:c.width-p-p})),this.internal.__cell__.lastCell=c,this};e.table=function(c,d,p,f,v){if(r.call(this),!p)throw new Error("No data for PDF table.");var m,j,w,S,g=[],x=[],N=[],P={},R={},q=[],M=[],F=(v=v||{}).autoSize||!1,H=v.printHeaders!==!1,re=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,I=v.margins||Object.assign({width:this.getPageWidth()},t),L=typeof v.padding=="number"?v.padding:3,Y=v.headerBackgroundColor||"#c8c8c8",V=v.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=H,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=re,this.internal.__cell__.padding=L,this.internal.__cell__.headerBackgroundColor=Y,this.internal.__cell__.headerTextColor=V,this.setFontSize(re),f==null)x=g=Object.keys(p[0]),N=g.map(function(){return"left"});else if(Array.isArray(f)&&At(f[0])==="object")for(g=f.map(function(te){return te.name}),x=f.map(function(te){return te.prompt||te.name||""}),N=f.map(function(te){return te.align||"left"}),m=0;m<f.length;m+=1)R[f[m].name]=f[m].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(x=g=f,N=g.map(function(){return"left"}));if(F||Array.isArray(f)&&typeof f[0]=="string")for(m=0;m<g.length;m+=1){for(P[S=g[m]]=p.map(function(te){return te[S]}),this.setFont(void 0,"bold"),q.push(this.getTextDimensions(x[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),j=P[S],this.setFont(void 0,"normal"),w=0;w<j.length;w+=1)q.push(this.getTextDimensions(j[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);R[S]=Math.max.apply(null,q)+L+L,q=[]}if(H){var X={};for(m=0;m<g.length;m+=1)X[g[m]]={},X[g[m]].text=x[m],X[g[m]].align=N[m];var Z=l.call(this,X,R);M=g.map(function(te){return new i(c,d,R[te],Z,X[te].text,void 0,X[te].align)}),this.setTableHeaderRow(M),this.printHeaderRow(1,!1)}var ne=f.reduce(function(te,ye){return te[ye.name]=ye.align,te},{});for(m=0;m<p.length;m+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:m,data:p[m]},this);var U=l.call(this,p[m],R);for(w=0;w<g.length;w+=1){var Q=p[m][g[w]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:m,col:w,data:Q},this),s.call(this,new i(c,d,R[g[w]],U,Q,m+2,ne[g[w]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var p=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(c).map(function(m){var j=c[m];return this.splitTextToSize(j.hasOwnProperty("text")?j.text:j,d[m]-p-p)},this).map(function(m){return this.getLineHeightFactor()*m.length*f/v+p+p},this).reduce(function(m,j){return Math.max(m,j)},0)};e.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){p=this.internal.__cell__.tableHeaderRow[m].clone(),d&&(p.y=this.internal.__cell__.margins.top||0,v.push(p)),p.lineNumber=c;var j=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,p),this.setTextColor(j)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),n=!1}}(rt.API);var Qb={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Zb=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],c1=Jb(Zb),ew=[100,200,300,400,500,600,700,800,900],mC=Jb(ew);function u1(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(i){return Qb[i=i||"normal"]?i:"normal"}(e.style),r=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof c1[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,n,r].join(" ")}}}function Uv(e,t,n,r){var a;for(a=n;a>=0&&a<t.length;a+=r)if(e[t[a]])return e[t[a]];for(a=n;a>=0&&a<t.length;a-=r)if(e[t[a]])return e[t[a]]}var gC={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Wv={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Hv(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function vC(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",a=Object.assign({},gC,n.genericFontFamilies||{}),i=null,s=null,l=0;l<t.length;++l)if(a[(i=u1(t[l])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){s=e[i.family];break}if(!(s=s||e[r]))throw new Error("Could not find a font-family for the rule '"+Hv(i)+"' and default family '"+r+"'.");if(s=function(c,d){if(d[c])return d[c];var p=c1[c],f=p<=c1.normal?-1:1,v=Uv(d,Zb,p,f);if(!v)throw new Error("Could not find a matching font-stretch value for "+c);return v}(i.stretch,s),s=function(c,d){if(d[c])return d[c];for(var p=Qb[c],f=0;f<p.length;++f)if(d[p[f]])return d[p[f]];throw new Error("Could not find a matching font-style for "+c)}(i.style,s),!(s=function(c,d){if(d[c])return d[c];if(c===400&&d[500])return d[500];if(c===500&&d[400])return d[400];var p=mC[c],f=Uv(d,ew,p,c<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+c);return f}(i.weight,s)))throw new Error("Failed to resolve a font for the rule '"+Hv(i)+"'.");return s}function Vv(e){return e.trimLeft()}function yC(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function xC(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var th,Kv,Gv,Cp=["times"];(function(e){var t,n,r,a,i,s,l,c,d,p=function(C){return C=C||{},this.isStrokeTransparent=C.isStrokeTransparent||!1,this.strokeOpacity=C.strokeOpacity||1,this.strokeStyle=C.strokeStyle||"#000000",this.fillStyle=C.fillStyle||"#000000",this.isFillTransparent=C.isFillTransparent||!1,this.fillOpacity=C.fillOpacity||1,this.font=C.font||"10px sans-serif",this.textBaseline=C.textBaseline||"alphabetic",this.textAlign=C.textAlign||"left",this.lineWidth=C.lineWidth||1,this.lineJoin=C.lineJoin||"miter",this.lineCap=C.lineCap||"butt",this.path=C.path||[],this.transform=C.transform!==void 0?C.transform.clone():new c,this.globalCompositeOperation=C.globalCompositeOperation||"normal",this.globalAlpha=C.globalAlpha||1,this.clip_path=C.clip_path||[],this.currentPoint=C.currentPoint||new s,this.miterLimit=C.miterLimit||10,this.lastPoint=C.lastPoint||new s,this.lineDashOffset=C.lineDashOffset||0,this.lineDash=C.lineDash||[],this.margin=C.margin||[0,0,0,0],this.prevPageLastElemOffset=C.prevPageLastElemOffset||0,this.ignoreClearRect=typeof C.ignoreClearRect!="boolean"||C.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new p}]);var f=function(C){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var A=C;Object.defineProperty(this,"pdf",{get:function(){return A}});var z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return z},set:function(xe){z=!!xe}});var J=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return J},set:function(xe){J=!!xe}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(xe){isNaN(xe)||(ae=xe)}});var le=0;Object.defineProperty(this,"posY",{get:function(){return le},set:function(xe){isNaN(xe)||(le=xe)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(xe){var ee;typeof xe=="number"?ee=[xe,xe,xe,xe]:((ee=new Array(4))[0]=xe[0],ee[1]=xe.length>=2?xe[1]:ee[0],ee[2]=xe.length>=3?xe[2]:ee[0],ee[3]=xe.length>=4?xe[3]:ee[1]),d.margin=ee}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(xe){de=xe}});var $=0;Object.defineProperty(this,"lastBreak",{get:function(){return $},set:function(xe){$=xe}});var ge=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ge},set:function(xe){ge=xe}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(xe){xe instanceof p&&(d=xe)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(xe){d.path=xe}});var Ne=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ne},set:function(xe){Ne=xe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(xe){var ee;ee=v(xe),this.ctx.fillStyle=ee.style,this.ctx.isFillTransparent=ee.a===0,this.ctx.fillOpacity=ee.a,this.pdf.setFillColor(ee.r,ee.g,ee.b,{a:ee.a}),this.pdf.setTextColor(ee.r,ee.g,ee.b,{a:ee.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(xe){var ee=v(xe);this.ctx.strokeStyle=ee.style,this.ctx.isStrokeTransparent=ee.a===0,this.ctx.strokeOpacity=ee.a,ee.a===0?this.pdf.setDrawColor(255,255,255):(ee.a,this.pdf.setDrawColor(ee.r,ee.g,ee.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(xe){["butt","round","square"].indexOf(xe)!==-1&&(this.ctx.lineCap=xe,this.pdf.setLineCap(xe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(xe){isNaN(xe)||(this.ctx.lineWidth=xe,this.pdf.setLineWidth(xe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(xe){["bevel","round","miter"].indexOf(xe)!==-1&&(this.ctx.lineJoin=xe,this.pdf.setLineJoin(xe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(xe){isNaN(xe)||(this.ctx.miterLimit=xe,this.pdf.setMiterLimit(xe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(xe){this.ctx.textBaseline=xe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(xe){["right","end","center","left","start"].indexOf(xe)!==-1&&(this.ctx.textAlign=xe)}});var ve=null;function _e(xe,ee){if(ve===null){var Ye=function($e){var Ae=[];return Object.keys($e).forEach(function(Me){$e[Me].forEach(function(Ce){var Ie=null;switch(Ce){case"bold":Ie={family:Me,weight:"bold"};break;case"italic":Ie={family:Me,style:"italic"};break;case"bolditalic":Ie={family:Me,weight:"bold",style:"italic"};break;case"":case"normal":Ie={family:Me}}Ie!==null&&(Ie.ref={name:Me,style:Ce},Ae.push(Ie))})}),Ae}(xe.getFontList());ve=function($e){for(var Ae={},Me=0;Me<$e.length;++Me){var Ce=u1($e[Me]),Ie=Ce.family,Ke=Ce.stretch,tt=Ce.style,ut=Ce.weight;Ae[Ie]=Ae[Ie]||{},Ae[Ie][Ke]=Ae[Ie][Ke]||{},Ae[Ie][Ke][tt]=Ae[Ie][Ke][tt]||{},Ae[Ie][Ke][tt][ut]=Ce}return Ae}(Ye.concat(ee))}return ve}var qe=null;Object.defineProperty(this,"fontFaces",{get:function(){return qe},set:function(xe){ve=null,qe=xe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(xe){var ee;if(this.ctx.font=xe,(ee=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(xe))!==null){var Ye=ee[1];ee[2];var $e=ee[3],Ae=ee[4];ee[5];var Me=ee[6],Ce=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ae)[2];Ae=Math.floor(Ce==="px"?parseFloat(Ae)*this.pdf.internal.scaleFactor:Ce==="em"?parseFloat(Ae)*this.pdf.getFontSize():parseFloat(Ae)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ae);var Ie=function(nt){var pt,Re,Pn=[],xt=nt.trim();if(xt==="")return Cp;if(xt in Wv)return[Wv[xt]];for(;xt!=="";){switch(Re=null,pt=(xt=Vv(xt)).charAt(0)){case'"':case"'":Re=yC(xt.substring(1),pt);break;default:Re=xC(xt)}if(Re===null||(Pn.push(Re[0]),(xt=Vv(Re[1]))!==""&&xt.charAt(0)!==","))return Cp;xt=xt.replace(/^,/,"")}return Pn}(Me);if(this.fontFaces){var Ke=vC(_e(this.pdf,this.fontFaces),Ie.map(function(nt){return{family:nt,stretch:"normal",weight:$e,style:Ye}}));this.pdf.setFont(Ke.ref.name,Ke.ref.style)}else{var tt="";($e==="bold"||parseInt($e,10)>=700||Ye==="bold")&&(tt="bold"),Ye==="italic"&&(tt+="italic"),tt.length===0&&(tt="normal");for(var ut="",ft={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},yt=0;yt<Ie.length;yt++){if(this.pdf.internal.getFont(Ie[yt],tt,{noFallback:!0,disableWarning:!0})!==void 0){ut=Ie[yt];break}if(tt==="bolditalic"&&this.pdf.internal.getFont(Ie[yt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ut=Ie[yt],tt="bold";else if(this.pdf.internal.getFont(Ie[yt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ut=Ie[yt],tt="normal";break}}if(ut===""){for(var Pt=0;Pt<Ie.length;Pt++)if(ft[Ie[Pt]]){ut=ft[Ie[Pt]];break}}ut=ut===""?"Times":ut,this.pdf.setFont(ut,tt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(xe){this.ctx.globalCompositeOperation=xe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(xe){this.ctx.globalAlpha=xe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(xe){this.ctx.lineDashOffset=xe,ye.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(xe){this.ctx.lineDash=xe,ye.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(xe){this.ctx.ignoreClearRect=!!xe}})};f.prototype.setLineDash=function(C){this.lineDash=C},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){P.call(this,"fill",!1)},f.prototype.stroke=function(){P.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(C,A){if(isNaN(C)||isNaN(A))throw Ot.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var z=this.ctx.transform.applyToPoint(new s(C,A));this.path.push({type:"mt",x:z.x,y:z.y}),this.ctx.lastPoint=new s(C,A)},f.prototype.closePath=function(){var C=new s(0,0),A=0;for(A=this.path.length-1;A!==-1;A--)if(this.path[A].type==="begin"&&At(this.path[A+1])==="object"&&typeof this.path[A+1].x=="number"){C=new s(this.path[A+1].x,this.path[A+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(C.x,C.y)},f.prototype.lineTo=function(C,A){if(isNaN(C)||isNaN(A))throw Ot.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var z=this.ctx.transform.applyToPoint(new s(C,A));this.path.push({type:"lt",x:z.x,y:z.y}),this.ctx.lastPoint=new s(z.x,z.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),P.call(this,null,!0)},f.prototype.quadraticCurveTo=function(C,A,z,J){if(isNaN(z)||isNaN(J)||isNaN(C)||isNaN(A))throw Ot.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new s(z,J)),le=this.ctx.transform.applyToPoint(new s(C,A));this.path.push({type:"qct",x1:le.x,y1:le.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new s(ae.x,ae.y)},f.prototype.bezierCurveTo=function(C,A,z,J,ae,le){if(isNaN(ae)||isNaN(le)||isNaN(C)||isNaN(A)||isNaN(z)||isNaN(J))throw Ot.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new s(ae,le)),$=this.ctx.transform.applyToPoint(new s(C,A)),ge=this.ctx.transform.applyToPoint(new s(z,J));this.path.push({type:"bct",x1:$.x,y1:$.y,x2:ge.x,y2:ge.y,x:de.x,y:de.y}),this.ctx.lastPoint=new s(de.x,de.y)},f.prototype.arc=function(C,A,z,J,ae,le){if(isNaN(C)||isNaN(A)||isNaN(z)||isNaN(J)||isNaN(ae))throw Ot.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(le=!!le,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new s(C,A));C=de.x,A=de.y;var $=this.ctx.transform.applyToPoint(new s(0,z)),ge=this.ctx.transform.applyToPoint(new s(0,0));z=Math.sqrt(Math.pow($.x-ge.x,2)+Math.pow($.y-ge.y,2))}Math.abs(ae-J)>=2*Math.PI&&(J=0,ae=2*Math.PI),this.path.push({type:"arc",x:C,y:A,radius:z,startAngle:J,endAngle:ae,counterclockwise:le})},f.prototype.arcTo=function(C,A,z,J,ae){throw new Error("arcTo not implemented.")},f.prototype.rect=function(C,A,z,J){if(isNaN(C)||isNaN(A)||isNaN(z)||isNaN(J))throw Ot.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(C,A),this.lineTo(C+z,A),this.lineTo(C+z,A+J),this.lineTo(C,A+J),this.lineTo(C,A),this.lineTo(C+z,A),this.lineTo(C,A)},f.prototype.fillRect=function(C,A,z,J){if(isNaN(C)||isNaN(A)||isNaN(z)||isNaN(J))throw Ot.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(C,A,z,J),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},f.prototype.strokeRect=function(C,A,z,J){if(isNaN(C)||isNaN(A)||isNaN(z)||isNaN(J))throw Ot.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");j.call(this)||(this.beginPath(),this.rect(C,A,z,J),this.stroke())},f.prototype.clearRect=function(C,A,z,J){if(isNaN(C)||isNaN(A)||isNaN(z)||isNaN(J))throw Ot.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(C,A,z,J))},f.prototype.save=function(C){C=typeof C!="boolean"||C;for(var A=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("q");if(this.pdf.setPage(A),C){this.ctx.fontSize=this.pdf.internal.getFontSize();var J=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=J}},f.prototype.restore=function(C){C=typeof C!="boolean"||C;for(var A=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("Q");this.pdf.setPage(A),C&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(C){var A,z,J,ae;if(C.isCanvasGradient===!0&&(C=C.getColor()),!C)return{r:0,g:0,b:0,a:0,style:C};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(C))A=0,z=0,J=0,ae=0;else{var le=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(C);if(le!==null)A=parseInt(le[1]),z=parseInt(le[2]),J=parseInt(le[3]),ae=1;else if((le=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(C))!==null)A=parseInt(le[1]),z=parseInt(le[2]),J=parseInt(le[3]),ae=parseFloat(le[4]);else{if(ae=1,typeof C=="string"&&C.charAt(0)!=="#"){var de=new Hb(C);C=de.ok?de.toHex():"#000000"}C.length===4?(A=C.substring(1,2),A+=A,z=C.substring(2,3),z+=z,J=C.substring(3,4),J+=J):(A=C.substring(1,3),z=C.substring(3,5),J=C.substring(5,7)),A=parseInt(A,16),z=parseInt(z,16),J=parseInt(J,16)}}return{r:A,g:z,b:J,a:ae,style:C}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},j=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(C,A,z,J){if(isNaN(A)||isNaN(z)||typeof C!="string")throw Ot.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(J=isNaN(J)?void 0:J,!m.call(this)){var ae=U(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;L.call(this,{text:C,x:A,y:z,scale:le,angle:ae,align:this.textAlign,maxWidth:J})}},f.prototype.strokeText=function(C,A,z,J){if(isNaN(A)||isNaN(z)||typeof C!="string")throw Ot.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!j.call(this)){J=isNaN(J)?void 0:J;var ae=U(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;L.call(this,{text:C,x:A,y:z,scale:le,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:J})}},f.prototype.measureText=function(C){if(typeof C!="string")throw Ot.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var A=this.pdf,z=this.pdf.internal.scaleFactor,J=A.internal.getFontSize(),ae=A.getStringUnitWidth(C)*J/A.internal.scaleFactor,le=function(de){var $=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return $}}),this};return new le({width:ae*=Math.round(96*z/72*1e4)/1e4})},f.prototype.scale=function(C,A){if(isNaN(C)||isNaN(A))throw Ot.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var z=new c(C,0,0,A,0,0);this.ctx.transform=this.ctx.transform.multiply(z)},f.prototype.rotate=function(C){if(isNaN(C))throw Ot.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var A=new c(Math.cos(C),Math.sin(C),-Math.sin(C),Math.cos(C),0,0);this.ctx.transform=this.ctx.transform.multiply(A)},f.prototype.translate=function(C,A){if(isNaN(C)||isNaN(A))throw Ot.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var z=new c(1,0,0,1,C,A);this.ctx.transform=this.ctx.transform.multiply(z)},f.prototype.transform=function(C,A,z,J,ae,le){if(isNaN(C)||isNaN(A)||isNaN(z)||isNaN(J)||isNaN(ae)||isNaN(le))throw Ot.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new c(C,A,z,J,ae,le);this.ctx.transform=this.ctx.transform.multiply(de)},f.prototype.setTransform=function(C,A,z,J,ae,le){C=isNaN(C)?1:C,A=isNaN(A)?0:A,z=isNaN(z)?0:z,J=isNaN(J)?1:J,ae=isNaN(ae)?0:ae,le=isNaN(le)?0:le,this.ctx.transform=new c(C,A,z,J,ae,le)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(C,A,z,J,ae,le,de,$,ge){var Ne=this.pdf.getImageProperties(C),ve=1,_e=1,qe=1,xe=1;J!==void 0&&$!==void 0&&(qe=$/J,xe=ge/ae,ve=Ne.width/J*$/J,_e=Ne.height/ae*ge/ae),le===void 0&&(le=A,de=z,A=0,z=0),J!==void 0&&$===void 0&&($=J,ge=ae),J===void 0&&$===void 0&&($=Ne.width,ge=Ne.height);for(var ee,Ye=this.ctx.transform.decompose(),$e=U(Ye.rotate.shx),Ae=new c,Me=(Ae=(Ae=(Ae=Ae.multiply(Ye.translate)).multiply(Ye.skew)).multiply(Ye.scale)).applyToRectangle(new l(le-A*qe,de-z*xe,J*ve,ae*_e)),Ce=S.call(this,Me),Ie=[],Ke=0;Ke<Ce.length;Ke+=1)Ie.indexOf(Ce[Ke])===-1&&Ie.push(Ce[Ke]);if(N(Ie),this.autoPaging)for(var tt=Ie[0],ut=Ie[Ie.length-1],ft=tt;ft<ut+1;ft++){this.pdf.setPage(ft);var yt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Pt=ft===1?this.posY+this.margin[0]:this.margin[0],nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],pt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Re=ft===1?0:nt+(ft-2)*pt;if(this.ctx.clip_path.length!==0){var Pn=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(ee,this.posX+this.margin[3],-Re+Pt+this.ctx.prevPageLastElemOffset),R.call(this,"fill",!0),this.path=Pn}var xt=JSON.parse(JSON.stringify(Me));xt=x([xt],this.posX+this.margin[3],-Re+Pt+this.ctx.prevPageLastElemOffset)[0];var Ar=(ft>tt||ft<ut)&&w.call(this);Ar&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],yt,pt,null).clip().discardPath()),this.pdf.addImage(C,"JPEG",xt.x,xt.y,xt.w,xt.h,null,null,$e),Ar&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(C,"JPEG",Me.x,Me.y,Me.w,Me.h,null,null,$e)};var S=function(C,A,z){var J=[];A=A||this.pdf.internal.pageSize.width,z=z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch(C.type){default:case"mt":case"lt":J.push(Math.floor((C.y+ae)/z)+1);break;case"arc":J.push(Math.floor((C.y+ae-C.radius)/z)+1),J.push(Math.floor((C.y+ae+C.radius)/z)+1);break;case"qct":var le=Q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x,C.y);J.push(Math.floor((le.y+ae)/z)+1),J.push(Math.floor((le.y+le.h+ae)/z)+1);break;case"bct":var de=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x2,C.y2,C.x,C.y);J.push(Math.floor((de.y+ae)/z)+1),J.push(Math.floor((de.y+de.h+ae)/z)+1);break;case"rect":J.push(Math.floor((C.y+ae)/z)+1),J.push(Math.floor((C.y+C.h+ae)/z)+1)}for(var $=0;$<J.length;$+=1)for(;this.pdf.internal.getNumberOfPages()<J[$];)g.call(this);return J},g=function(){var C=this.fillStyle,A=this.strokeStyle,z=this.font,J=this.lineCap,ae=this.lineWidth,le=this.lineJoin;this.pdf.addPage(),this.fillStyle=C,this.strokeStyle=A,this.font=z,this.lineCap=J,this.lineWidth=ae,this.lineJoin=le},x=function(C,A,z){for(var J=0;J<C.length;J++)switch(C[J].type){case"bct":C[J].x2+=A,C[J].y2+=z;case"qct":C[J].x1+=A,C[J].y1+=z;case"mt":case"lt":case"arc":default:C[J].x+=A,C[J].y+=z}return C},N=function(C){return C.sort(function(A,z){return A-z})},P=function(C,A){for(var z,J,ae=this.fillStyle,le=this.strokeStyle,de=this.lineCap,$=this.lineWidth,ge=Math.abs($*this.ctx.transform.scaleX),Ne=this.lineJoin,ve=JSON.parse(JSON.stringify(this.path)),_e=JSON.parse(JSON.stringify(this.path)),qe=[],xe=0;xe<_e.length;xe++)if(_e[xe].x!==void 0)for(var ee=S.call(this,_e[xe]),Ye=0;Ye<ee.length;Ye+=1)qe.indexOf(ee[Ye])===-1&&qe.push(ee[Ye]);for(var $e=0;$e<qe.length;$e++)for(;this.pdf.internal.getNumberOfPages()<qe[$e];)g.call(this);if(N(qe),this.autoPaging)for(var Ae=qe[0],Me=qe[qe.length-1],Ce=Ae;Ce<Me+1;Ce++){this.pdf.setPage(Ce),this.fillStyle=ae,this.strokeStyle=le,this.lineCap=de,this.lineWidth=ge,this.lineJoin=Ne;var Ie=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ke=Ce===1?this.posY+this.margin[0]:this.margin[0],tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ft=Ce===1?0:tt+(Ce-2)*ut;if(this.ctx.clip_path.length!==0){var yt=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(z,this.posX+this.margin[3],-ft+Ke+this.ctx.prevPageLastElemOffset),R.call(this,C,!0),this.path=yt}if(J=JSON.parse(JSON.stringify(ve)),this.path=x(J,this.posX+this.margin[3],-ft+Ke+this.ctx.prevPageLastElemOffset),A===!1||Ce===0){var Pt=(Ce>Ae||Ce<Me)&&w.call(this);Pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ie,ut,null).clip().discardPath()),R.call(this,C,A),Pt&&this.pdf.restoreGraphicsState()}this.lineWidth=$}else this.lineWidth=ge,R.call(this,C,A),this.lineWidth=$;this.path=ve},R=function(C,A){if((C!=="stroke"||A||!j.call(this))&&(C==="stroke"||A||!m.call(this))){for(var z,J,ae=[],le=this.path,de=0;de<le.length;de++){var $=le[de];switch($.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:$,deltas:[],abs:[]});break;case"lt":var ge=ae.length;if(le[de-1]&&!isNaN(le[de-1].x)&&(z=[$.x-le[de-1].x,$.y-le[de-1].y],ge>0)){for(;ge>=0;ge--)if(ae[ge-1].close!==!0&&ae[ge-1].begin!==!0){ae[ge-1].deltas.push(z),ae[ge-1].abs.push($);break}}break;case"bct":z=[$.x1-le[de-1].x,$.y1-le[de-1].y,$.x2-le[de-1].x,$.y2-le[de-1].y,$.x-le[de-1].x,$.y-le[de-1].y],ae[ae.length-1].deltas.push(z);break;case"qct":var Ne=le[de-1].x+2/3*($.x1-le[de-1].x),ve=le[de-1].y+2/3*($.y1-le[de-1].y),_e=$.x+2/3*($.x1-$.x),qe=$.y+2/3*($.y1-$.y),xe=$.x,ee=$.y;z=[Ne-le[de-1].x,ve-le[de-1].y,_e-le[de-1].x,qe-le[de-1].y,xe-le[de-1].x,ee-le[de-1].y],ae[ae.length-1].deltas.push(z);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push($)}}J=A?null:C==="stroke"?"stroke":"fill";for(var Ye=!1,$e=0;$e<ae.length;$e++)if(ae[$e].arc)for(var Ae=ae[$e].abs,Me=0;Me<Ae.length;Me++){var Ce=Ae[Me];Ce.type==="arc"?F.call(this,Ce.x,Ce.y,Ce.radius,Ce.startAngle,Ce.endAngle,Ce.counterclockwise,void 0,A,!Ye):Y.call(this,Ce.x,Ce.y),Ye=!0}else if(ae[$e].close===!0)this.pdf.internal.out("h"),Ye=!1;else if(ae[$e].begin!==!0){var Ie=ae[$e].start.x,Ke=ae[$e].start.y;V.call(this,ae[$e].deltas,Ie,Ke),Ye=!0}J&&H.call(this,J),A&&re.call(this)}},q=function(C){var A=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,z=A*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return C-z;case"top":return C+A-z;case"hanging":return C+A-2*z;case"middle":return C+A/2-z;case"ideographic":return C;case"alphabetic":default:return C}},M=function(C){return C+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var C=function(){};return C.colorStops=[],C.addColorStop=function(A,z){this.colorStops.push([A,z])},C.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},C.isCanvasGradient=!0,C},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var F=function(C,A,z,J,ae,le,de,$,ge){for(var Ne=Z.call(this,z,J,ae,le),ve=0;ve<Ne.length;ve++){var _e=Ne[ve];ve===0&&(ge?I.call(this,_e.x1+C,_e.y1+A):Y.call(this,_e.x1+C,_e.y1+A)),X.call(this,C,A,_e.x2,_e.y2,_e.x3,_e.y3,_e.x4,_e.y4)}$?re.call(this):H.call(this,de)},H=function(C){switch(C){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},re=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(C,A){this.pdf.internal.out(n(C)+" "+r(A)+" m")},L=function(C){var A;switch(C.align){case"right":case"end":A="right";break;case"center":A="center";break;case"left":case"start":default:A="left"}var z=this.pdf.getTextDimensions(C.text),J=q.call(this,C.y),ae=M.call(this,J)-z.h,le=this.ctx.transform.applyToPoint(new s(C.x,J)),de=this.ctx.transform.decompose(),$=new c;$=($=($=$.multiply(de.translate)).multiply(de.skew)).multiply(de.scale);for(var ge,Ne,ve,_e=this.ctx.transform.applyToRectangle(new l(C.x,J,z.w,z.h)),qe=$.applyToRectangle(new l(C.x,ae,z.w,z.h)),xe=S.call(this,qe),ee=[],Ye=0;Ye<xe.length;Ye+=1)ee.indexOf(xe[Ye])===-1&&ee.push(xe[Ye]);if(N(ee),this.autoPaging)for(var $e=ee[0],Ae=ee[ee.length-1],Me=$e;Me<Ae+1;Me++){this.pdf.setPage(Me);var Ce=Me===1?this.posY+this.margin[0]:this.margin[0],Ie=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ke=this.pdf.internal.pageSize.height-this.margin[2],tt=Ke-this.margin[0],ut=this.pdf.internal.pageSize.width-this.margin[1],ft=ut-this.margin[3],yt=Me===1?0:Ie+(Me-2)*tt;if(this.ctx.clip_path.length!==0){var Pt=this.path;ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(ge,this.posX+this.margin[3],-1*yt+Ce),R.call(this,"fill",!0),this.path=Pt}var nt=x([JSON.parse(JSON.stringify(qe))],this.posX+this.margin[3],-yt+Ce+this.ctx.prevPageLastElemOffset)[0];C.scale>=.01&&(Ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ne*C.scale),ve=this.lineWidth,this.lineWidth=ve*C.scale);var pt=this.autoPaging!=="text";if(pt||nt.y+nt.h<=Ke){if(pt||nt.y>=Ce&&nt.x<=ut){var Re=pt?C.text:this.pdf.splitTextToSize(C.text,C.maxWidth||ut-nt.x)[0],Pn=x([JSON.parse(JSON.stringify(_e))],this.posX+this.margin[3],-yt+Ce+this.ctx.prevPageLastElemOffset)[0],xt=pt&&(Me>$e||Me<Ae)&&w.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ft,tt,null).clip().discardPath()),this.pdf.text(Re,Pn.x,Pn.y,{angle:C.angle,align:A,renderingMode:C.renderingMode}),xt&&this.pdf.restoreGraphicsState()}}else nt.y<Ke&&(this.ctx.prevPageLastElemOffset+=Ke-nt.y);C.scale>=.01&&(this.pdf.setFontSize(Ne),this.lineWidth=ve)}else C.scale>=.01&&(Ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ne*C.scale),ve=this.lineWidth,this.lineWidth=ve*C.scale),this.pdf.text(C.text,le.x+this.posX,le.y+this.posY,{angle:C.angle,align:A,renderingMode:C.renderingMode,maxWidth:C.maxWidth}),C.scale>=.01&&(this.pdf.setFontSize(Ne),this.lineWidth=ve)},Y=function(C,A,z,J){z=z||0,J=J||0,this.pdf.internal.out(n(C+z)+" "+r(A+J)+" l")},V=function(C,A,z){return this.pdf.lines(C,A,z,null,null)},X=function(C,A,z,J,ae,le,de,$){this.pdf.internal.out([t(a(z+C)),t(i(J+A)),t(a(ae+C)),t(i(le+A)),t(a(de+C)),t(i($+A)),"c"].join(" "))},Z=function(C,A,z,J){for(var ae=2*Math.PI,le=Math.PI/2;A>z;)A-=ae;var de=Math.abs(z-A);de<ae&&J&&(de=ae-de);for(var $=[],ge=J?-1:1,Ne=A;de>1e-5;){var ve=Ne+ge*Math.min(de,le);$.push(ne.call(this,C,Ne,ve)),de-=Math.abs(ve-Ne),Ne=ve}return $},ne=function(C,A,z){var J=(z-A)/2,ae=C*Math.cos(J),le=C*Math.sin(J),de=ae,$=-le,ge=de*de+$*$,Ne=ge+de*ae+$*le,ve=4/3*(Math.sqrt(2*ge*Ne)-Ne)/(de*le-$*ae),_e=de-ve*$,qe=$+ve*de,xe=_e,ee=-qe,Ye=J+A,$e=Math.cos(Ye),Ae=Math.sin(Ye);return{x1:C*Math.cos(A),y1:C*Math.sin(A),x2:_e*$e-qe*Ae,y2:_e*Ae+qe*$e,x3:xe*$e-ee*Ae,y3:xe*Ae+ee*$e,x4:C*Math.cos(z),y4:C*Math.sin(z)}},U=function(C){return 180*C/Math.PI},Q=function(C,A,z,J,ae,le){var de=C+.5*(z-C),$=A+.5*(J-A),ge=ae+.5*(z-ae),Ne=le+.5*(J-le),ve=Math.min(C,ae,de,ge),_e=Math.max(C,ae,de,ge),qe=Math.min(A,le,$,Ne),xe=Math.max(A,le,$,Ne);return new l(ve,qe,_e-ve,xe-qe)},te=function(C,A,z,J,ae,le,de,$){var ge,Ne,ve,_e,qe,xe,ee,Ye,$e,Ae,Me,Ce,Ie,Ke,tt=z-C,ut=J-A,ft=ae-z,yt=le-J,Pt=de-ae,nt=$-le;for(Ne=0;Ne<41;Ne++)$e=(ee=(ve=C+(ge=Ne/40)*tt)+ge*((qe=z+ge*ft)-ve))+ge*(qe+ge*(ae+ge*Pt-qe)-ee),Ae=(Ye=(_e=A+ge*ut)+ge*((xe=J+ge*yt)-_e))+ge*(xe+ge*(le+ge*nt-xe)-Ye),Ne==0?(Me=$e,Ce=Ae,Ie=$e,Ke=Ae):(Me=Math.min(Me,$e),Ce=Math.min(Ce,Ae),Ie=Math.max(Ie,$e),Ke=Math.max(Ke,Ae));return new l(Math.round(Me),Math.round(Ce),Math.round(Ie-Me),Math.round(Ke-Ce))},ye=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var C,A,z=(C=this.ctx.lineDash,A=this.ctx.lineDashOffset,JSON.stringify({lineDash:C,lineDashOffset:A}));this.prevLineDash!==z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=z)}}})(rt.API),function(e){var t=function(i){var s,l,c,d,p,f,v,m,j,w;for(l=[],c=0,d=(i+=s="\0\0\0\0".slice(i.length%4||4)).length;d>c;c+=4)(p=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(f=(p=((p=((p=((p=(p-(w=p%85))/85)-(j=p%85))/85)-(m=p%85))/85)-(v=p%85))/85)%85,l.push(f+33,v+33,m+33,j+33,w+33)):l.push(122);return function(S,g){for(var x=g;x>0;x--)S.pop()}(l,s.length),String.fromCharCode.apply(String,l)+"~>"},n=function(i){var s,l,c,d,p,f=String,v="length",m=255,j="charCodeAt",w="slice",S="replace";for(i[w](-2),i=i[w](0,-2)[S](/\s/g,"")[S]("z","!!!!!"),c=[],d=0,p=(i+=s="uuuuu"[w](i[v]%5||5))[v];p>d;d+=5)l=52200625*(i[j](d)-33)+614125*(i[j](d+1)-33)+7225*(i[j](d+2)-33)+85*(i[j](d+3)-33)+(i[j](d+4)-33),c.push(m&l>>24,m&l>>16,m&l>>8,m&l);return function(g,x){for(var N=x;N>0;N--)g.pop()}(c,s[v]),f.fromCharCode.apply(f,c)},r=function(i){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),s.test(i)===!1)return"";for(var l="",c=0;c<i.length;c+=2)l+=String.fromCharCode("0x"+(i[c]+i[c+1]));return l},a=function(i){for(var s=new Uint8Array(i.length),l=i.length;l--;)s[l]=i.charCodeAt(l);return i=(s=a1(s)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};e.processDataByFilters=function(i,s){var l=0,c=i||"",d=[];for(typeof(s=s||[])=="string"&&(s=[s]),l=0;l<s.length;l+=1)switch(s[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=r(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[l]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}(rt.API),function(e){e.loadFile=function(t,n,r){return function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var l=void 0;try{l=function(c,d,p){var f=new XMLHttpRequest,v=0,m=function(j){var w=j.length,S=[],g=String.fromCharCode;for(v=0;v<w;v+=1)S.push(g(255&j.charCodeAt(v)));return S.join("")};if(f.open("GET",c,!d),f.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(f.onload=function(){f.status===200?p(m(this.responseText)):p(void 0)}),f.send(null),d&&f.status===200)return m(f.responseText)}(a,i,s)}catch{}return l}(t,n,r)},e.loadImageFile=e.loadFile}(rt.API),function(e){function t(){return(at.html2canvas?Promise.resolve(at.html2canvas):Zm(()=>import("./html2canvas.esm-e0a7d97b.js"),[],import.meta.url)).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function n(){return(at.DOMPurify?Promise.resolve(at.DOMPurify):Zm(()=>import("./purify.es-31816194.js"),[],import.meta.url)).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var r=function(s){var l=At(s);return l==="undefined"?"undefined":l==="string"||s instanceof String?"string":l==="number"||s instanceof Number?"number":l==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":l==="object"?"object":"unknown"},a=function(s,l){var c=document.createElement(s);for(var d in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[d]=l.style[d];return c},i=function s(l){var c=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),d=s.convert(Promise.resolve(),c);return d=(d=d.setProgress(1,s,1,[s])).set(l)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(s,l){return s.__proto__=l||i.prototype,s},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(s,l){return this.then(function(){switch(l=l||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(n).then(function(c){return this.set({src:a("div",{innerHTML:s,dompurify:c})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},i.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(d,p){for(var f=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),v=d.firstChild;v;v=v.nextSibling)p!==!0&&v.nodeType===1&&v.nodeName==="SCRIPT"||f.appendChild(c(v,p));return d.nodeType===1&&(d.nodeName==="CANVAS"?(f.width=d.width,f.height=d.height,f.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(f.value=d.value),f.addEventListener("load",function(){f.scrollTop=d.scrollTop,f.scrollLeft=d.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(l){var c=this.opt.jsPDF,d=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var v=0;v<d.length;++v){var m=d[v],j=m.src.find(function(w){return w.format==="truetype"});j&&c.addFont(j.url,m.ref.name,m.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,c.context2d.save(!0),l(this.prop.container,f)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(s,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(s,l):this.outputPdf(s,l)},i.prototype.outputPdf=function(s,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,l)})},i.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},i.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(s){if(r(s)!=="object")return this;var l=Object.keys(s||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=s[c]};switch(c){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[c]=s[c]}}},this);return this.then(function(){return this.thenList(l)})},i.prototype.get=function(s,l){return this.then(function(){var c=s in i.template.prop?this.prop[s]:this.opt[s];return l?l(c):c})},i.prototype.setMargin=function(s){return this.then(function(){switch(r(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},i.prototype.setPageSize=function(s){function l(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(s=s||rt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:l(s.inner.width,s.k),height:l(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},i.prototype.setProgress=function(s,l,c,d){return s!=null&&(this.progress.val=s),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(s,l,c,d){return this.setProgress(s?this.progress.val+s:null,l||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},i.prototype.then=function(s,l){var c=this;return this.thenCore(s,l,function(d,p){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(f){return c.updateProgress(null,d),f}).then(d,p).then(function(f){return c.updateProgress(1),f})})},i.prototype.thenCore=function(s,l,c){c=c||Promise.prototype.then,s&&(s=s.bind(this)),l&&(l=l.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),p=c.call(d,s,l);return i.convert(p,this.__proto__)},i.prototype.thenExternal=function(s,l){return Promise.prototype.then.call(this,s,l)},i.prototype.thenList=function(s){var l=this;return s.forEach(function(c){l=l.thenCore(c)}),l},i.prototype.catch=function(s){s&&(s=s.bind(this));var l=Promise.prototype.catch.call(this,s);return i.convert(l,this)},i.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},i.prototype.error=function(s){return this.then(function(){throw new Error(s)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,rt.getPageSize=function(s,l,c){if(At(s)==="object"){var d=s;s=d.orientation,l=d.unit||l,c=d.format||c}l=l||"mm",c=c||"a4",s=(""+(s||"P")).toLowerCase();var p,f=(""+c).toLowerCase(),v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+l}var m,j=0,w=0;if(v.hasOwnProperty(f))j=v[f][1]/p,w=v[f][0]/p;else try{j=c[1],w=c[0]}catch{throw new Error("Invalid format: "+c)}if(s==="p"||s==="portrait")s="p",w>j&&(m=w,w=j,j=m);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",j>w&&(m=w,w=j,j=m)}return{width:w,height:j,unit:l,k:p,orientation:s}},e.html=function(s,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(u1):null;var c=new i(l);return l.worker?c:c.from(s).doCallback()}}(rt.API),rt.API.addJS=function(e){return Gv=e,this.internal.events.subscribe("postPutResources",function(){th=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(th+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Kv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Gv+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){th!==void 0&&Kv!==void 0&&this.internal.out("/Names <</JavaScript "+th+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=n.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],l=r.exec(s);if(l!=null){var c=l[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(s)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,p=[];for(i=0;i<d;i++){var f=n.internal.newObject();p.push(f);var v=n.internal.getPageInfo(i+1);n.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var m=n.internal.newObject();for(n.internal.write("<< /Names [ "),i=0;i<p.length;i++)n.internal.write("(page_"+(i+1)+")"+p[i]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+m+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,a,i){var s={title:a,options:i,children:[]};return r==null&&(r=this.root),r.children.push(s),s},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var a=0;a<r.children.length;a++)this.genIds_r(r.children[a])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<r.children.length;i++){var s=r.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),i>0&&this.line("/Prev "+this.makeRef(r.children[i-1])),i<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var l=this.count=this.count_r({count:0},s);if(l>0&&this.line("/Count "+l),s.options&&s.options.pageNumber){var c=n.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,a){for(var i=0;i<a.children.length;i++)r.count++,this.count_r(r,a.children[i]);return r.count}}])}(rt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,a,i,s,l){var c,d=this.decode.DCT_DECODE,p=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=s||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(c=function(f){for(var v,m=256*f.charCodeAt(4)+f.charCodeAt(5),j=f.length,w={width:0,height:0,numcomponents:1},S=4;S<j;S+=2){if(S+=m,t.indexOf(f.charCodeAt(S+1))!==-1){v=256*f.charCodeAt(S+5)+f.charCodeAt(S+6),w={width:256*f.charCodeAt(S+7)+f.charCodeAt(S+8),height:v,numcomponents:f.charCodeAt(S+9)};break}m=256*f.charCodeAt(S+2)+f.charCodeAt(S+3)}return w}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}p={data:n,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:r,alias:a}}return p}}(rt.API);var Ko,nh,Yv,Xv,Jv,bC=function(){var e,t,n;function r(i){var s,l,c,d,p,f,v,m,j,w,S,g,x,N;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(s=this.readUInt32(),j=(function(){var P,R;for(R=[],P=0;P<4;++P)R.push(String.fromCharCode(this.data[this.pos++]));return R}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),d=this.readUInt16()||100,f.delay=1e3*p/d,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(j==="fdAT"&&(this.pos+=4,s-=4),i=(f!=null?f.data:void 0)||this.imgData,g=0;0<=s?g<s:g>s;0<=s?++g:--g)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((w=c-this.transparency.indexed.length)>0)for(x=0;0<=w?x<w:x>w;0<=w?++x:--x)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":v=(S=this.read(s)).indexOf(0),m=String.fromCharCode.apply(String,S.slice(0,v)),this.text[m]=String.fromCharCode.apply(String,S.slice(v+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(N=this.colorType)===4||N===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(i){var s,l;for(l=[],s=0;0<=i?s<i:s>i;0<=i?++s:--s)l.push(this.data[this.pos++]);return l},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(i){var s=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*s),c=0,d=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function p(f,v,m,j){var w,S,g,x,N,P,R,q,M,F,H,re,I,L,Y,V,X,Z,ne,U,Q,te=Math.ceil((d.width-f)/m),ye=Math.ceil((d.height-v)/j),C=d.width==te&&d.height==ye;for(L=s*te,re=C?l:new Uint8Array(L*ye),P=i.length,I=0,S=0;I<ye&&c<P;){switch(i[c++]){case 0:for(x=X=0;X<L;x=X+=1)re[S++]=i[c++];break;case 1:for(x=Z=0;Z<L;x=Z+=1)w=i[c++],N=x<s?0:re[S-s],re[S++]=(w+N)%256;break;case 2:for(x=ne=0;ne<L;x=ne+=1)w=i[c++],g=(x-x%s)/s,Y=I&&re[(I-1)*L+g*s+x%s],re[S++]=(Y+w)%256;break;case 3:for(x=U=0;U<L;x=U+=1)w=i[c++],g=(x-x%s)/s,N=x<s?0:re[S-s],Y=I&&re[(I-1)*L+g*s+x%s],re[S++]=(w+Math.floor((N+Y)/2))%256;break;case 4:for(x=Q=0;Q<L;x=Q+=1)w=i[c++],g=(x-x%s)/s,N=x<s?0:re[S-s],I===0?Y=V=0:(Y=re[(I-1)*L+g*s+x%s],V=g&&re[(I-1)*L+(g-1)*s+x%s]),R=N+Y-V,q=Math.abs(R-N),F=Math.abs(R-Y),H=Math.abs(R-V),M=q<=F&&q<=H?N:F<=H?Y:V,re[S++]=(w+M)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!C){var A=((v+I*j)*d.width+f)*s,z=I*L;for(x=0;x<te;x+=1){for(var J=0;J<s;J+=1)l[A++]=re[z++];A+=(m-1)*s}}I++}}return i=Q8(i),d.interlaceMethod==1?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),l},r.prototype.decodePalette=function(){var i,s,l,c,d,p,f,v,m;for(l=this.palette,p=this.transparency.indexed||[],d=new Uint8Array((p.length||0)+l.length),c=0,i=0,s=f=0,v=l.length;f<v;s=f+=3)d[c++]=l[s],d[c++]=l[s+1],d[c++]=l[s+2],d[c++]=(m=p[i++])!=null?m:255;return d},r.prototype.copyToImageData=function(i,s){var l,c,d,p,f,v,m,j,w,S,g;if(c=this.colors,w=null,l=this.hasAlphaChannel,this.palette.length&&(w=(g=this._decodedPalette)!=null?g:this._decodedPalette=this.decodePalette(),c=4,l=!0),j=(d=i.data||i).length,f=w||s,p=v=0,c===1)for(;p<j;)m=w?4*s[p/4]:v,S=f[m++],d[p++]=S,d[p++]=S,d[p++]=S,d[p++]=l?f[m++]:255,v=m;else for(;p<j;)m=w?4*s[p/4]:v,d[p++]=f[m++],d[p++]=f[m++],d[p++]=f[m++],d[p++]=l?f[m++]:255,v=m},r.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(at)==="[object Window]"){try{t=at.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var s;if(a()===!0)return n.width=i.width,n.height=i.height,n.clearRect(0,0,i.width,i.height),n.putImageData(i,0,0),(s=new Image).src=t.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(i){var s,l,c,d,p,f,v,m;if(this.animation){for(m=[],l=p=0,f=(v=this.animation.frames).length;p<f;l=++p)s=v[l],c=i.createImageData(s.width,s.height),d=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(c,d),s.imageData=c,m.push(s.image=e(c));return m}},r.prototype.renderFrame=function(i,s){var l,c,d;return l=(c=this.animation.frames)[s],d=c[s-1],s===0&&i.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?i.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&i.putImageData(d.imageData,d.xOffset,d.yOffset),l.blendOp===0&&i.clearRect(l.xOffset,l.yOffset,l.width,l.height),i.drawImage(l.image,l.xOffset,l.yOffset)},r.prototype.animate=function(i){var s,l,c,d,p,f,v=this;return l=0,f=this.animation,d=f.numFrames,c=f.frames,p=f.numPlays,(s=function(){var m,j;if(m=l++%d,j=c[m],v.renderFrame(i,m),d>1&&l/d<p)return v.animation._timeout=setTimeout(s,j.delay)})()},r.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},r.prototype.render=function(i){var s,l;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,s=i.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(l=s.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),s.putImageData(l,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function wC(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,s=1<<(7&a)+1;e[t++],e[t++];var l=null,c=null;i&&(l=t,c=s,t+=3*s);var d=!0,p=[],f=0,v=null,m=0,j=null;for(this.width=n,this.height=r;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,j=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((I=e[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var w=e[t++];f=e[t++]|e[t++]<<8,v=e[t++],!(1&w)&&(v=null),m=w>>2&7,t++;break;case 254:for(;;){if(!((I=e[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var S=e[t++]|e[t++]<<8,g=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,P=e[t++],R=P>>6&1,q=1<<(7&P)+1,M=l,F=c,H=!1;P>>7&&(H=!0,M=t,F=q,t+=3*q);var re=t;for(t++;;){var I;if(!((I=e[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}p.push({x:S,y:g,width:x,height:N,has_local_palette:H,palette_offset:M,palette_size:F,data_offset:re,data_length:t-re,transparent_index:v,interlaced:!!R,delay:f,disposal:m});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return j},this.frameInfo=function(L){if(L<0||L>=p.length)throw new Error("Frame index out of range.");return p[L]},this.decodeAndBlitFrameBGRA=function(L,Y){var V=this.frameInfo(L),X=V.width*V.height,Z=new Uint8Array(X);Qv(e,V.data_offset,Z,X);var ne=V.palette_offset,U=V.transparent_index;U===null&&(U=256);var Q=V.width,te=n-Q,ye=Q,C=4*(V.y*n+V.x),A=4*((V.y+V.height)*n+V.x),z=C,J=4*te;V.interlaced===!0&&(J+=4*n*7);for(var ae=8,le=0,de=Z.length;le<de;++le){var $=Z[le];if(ye===0&&(ye=Q,(z+=J)>=A&&(J=4*te+4*n*(ae-1),z=C+(Q+te)*(ae<<1),ae>>=1)),$===U)z+=4;else{var ge=e[ne+3*$],Ne=e[ne+3*$+1],ve=e[ne+3*$+2];Y[z++]=ve,Y[z++]=Ne,Y[z++]=ge,Y[z++]=255}--ye}},this.decodeAndBlitFrameRGBA=function(L,Y){var V=this.frameInfo(L),X=V.width*V.height,Z=new Uint8Array(X);Qv(e,V.data_offset,Z,X);var ne=V.palette_offset,U=V.transparent_index;U===null&&(U=256);var Q=V.width,te=n-Q,ye=Q,C=4*(V.y*n+V.x),A=4*((V.y+V.height)*n+V.x),z=C,J=4*te;V.interlaced===!0&&(J+=4*n*7);for(var ae=8,le=0,de=Z.length;le<de;++le){var $=Z[le];if(ye===0&&(ye=Q,(z+=J)>=A&&(J=4*te+4*n*(ae-1),z=C+(Q+te)*(ae<<1),ae>>=1)),$===U)z+=4;else{var ge=e[ne+3*$],Ne=e[ne+3*$+1],ve=e[ne+3*$+2];Y[z++]=ge,Y[z++]=Ne,Y[z++]=ve,Y[z++]=255}--ye}}}function Qv(e,t,n,r){for(var a=e[t++],i=1<<a,s=i+1,l=s+1,c=a+1,d=(1<<c)-1,p=0,f=0,v=0,m=e[t++],j=new Int32Array(4096),w=null;;){for(;p<16&&m!==0;)f|=e[t++]<<p,p+=8,m===1?m=e[t++]:--m;if(p<c)break;var S=f&d;if(f>>=c,p-=c,S!==i){if(S===s)break;for(var g=S<l?S:w,x=0,N=g;N>i;)N=j[N]>>8,++x;var P=N;if(v+x+(g!==S?1:0)>r)return void Ot.log("Warning, gif stream longer than expected.");n[v++]=P;var R=v+=x;for(g!==S&&(n[v++]=P),N=g;x--;)N=j[N],n[--R]=255&N,N>>=8;w!==null&&l<4096&&(j[l++]=w<<8|P,l>=d+1&&c<12&&(++c,d=d<<1|1)),w=S}else l=s+1,d=(1<<(c=a+1))-1,w=null}return v!==r&&Ot.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Ap(e){var t,n,r,a,i,s=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),p=new Array(64),f=new Array(65535),v=new Array(65535),m=new Array(64),j=new Array(64),w=[],S=0,g=7,x=new Array(64),N=new Array(64),P=new Array(64),R=new Array(256),q=new Array(2048),M=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],F=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],re=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Y=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],X=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Z(C,A){for(var z=0,J=0,ae=new Array,le=1;le<=16;le++){for(var de=1;de<=C[le];de++)ae[A[J]]=[],ae[A[J]][0]=z,ae[A[J]][1]=le,J++,z++;z*=2}return ae}function ne(C){for(var A=C[0],z=C[1]-1;z>=0;)A&1<<z&&(S|=1<<g),z--,--g<0&&(S==255?(U(255),U(0)):U(S),g=7,S=0)}function U(C){w.push(C)}function Q(C){U(C>>8&255),U(255&C)}function te(C,A,z,J,ae){for(var le,de=ae[0],$=ae[240],ge=function(Ae,Me){var Ce,Ie,Ke,tt,ut,ft,yt,Pt,nt,pt,Re=0;for(nt=0;nt<8;++nt){Ce=Ae[Re],Ie=Ae[Re+1],Ke=Ae[Re+2],tt=Ae[Re+3],ut=Ae[Re+4],ft=Ae[Re+5],yt=Ae[Re+6];var Pn=Ce+(Pt=Ae[Re+7]),xt=Ce-Pt,Ar=Ie+yt,_t=Ie-yt,Bt=Ke+ft,Ur=Ke-ft,wt=tt+ut,Xa=tt-ut,Kt=Pn+wt,Pr=Pn-wt,sa=Ar+Bt,Gt=Ar-Bt;Ae[Re]=Kt+sa,Ae[Re+4]=Kt-sa;var st=.707106781*(Gt+Pr);Ae[Re+2]=Pr+st,Ae[Re+6]=Pr-st;var St=.382683433*((Kt=Xa+Ur)-(Gt=_t+xt)),Ja=.5411961*Kt+St,wn=1.306562965*Gt+St,Wr=.707106781*(sa=Ur+_t),pr=xt+Wr,Je=xt-Wr;Ae[Re+5]=Je+Ja,Ae[Re+3]=Je-Ja,Ae[Re+1]=pr+wn,Ae[Re+7]=pr-wn,Re+=8}for(Re=0,nt=0;nt<8;++nt){Ce=Ae[Re],Ie=Ae[Re+8],Ke=Ae[Re+16],tt=Ae[Re+24],ut=Ae[Re+32],ft=Ae[Re+40],yt=Ae[Re+48];var _r=Ce+(Pt=Ae[Re+56]),Hr=Ce-Pt,Tn=Ie+yt,nn=Ie-yt,Jt=Ke+ft,qn=Ke-ft,Qa=tt+ut,fe=tt-ut,Ue=_r+Qa,Oe=_r-Qa,Qe=Tn+Jt,mt=Tn-Jt;Ae[Re]=Ue+Qe,Ae[Re+32]=Ue-Qe;var Mt=.707106781*(mt+Oe);Ae[Re+16]=Oe+Mt,Ae[Re+48]=Oe-Mt;var Un=.382683433*((Ue=fe+qn)-(mt=nn+Hr)),mr=.5411961*Ue+Un,oa=1.306562965*mt+Un,Za=.707106781*(Qe=qn+nn),_a=Hr+Za,La=Hr-Za;Ae[Re+40]=La+mr,Ae[Re+24]=La-mr,Ae[Re+8]=_a+oa,Ae[Re+56]=_a-oa,Re++}for(nt=0;nt<64;++nt)pt=Ae[nt]*Me[nt],m[nt]=pt>0?pt+.5|0:pt-.5|0;return m}(C,A),Ne=0;Ne<64;++Ne)j[M[Ne]]=ge[Ne];var ve=j[0]-z;z=j[0],ve==0?ne(J[0]):(ne(J[v[le=32767+ve]]),ne(f[le]));for(var _e=63;_e>0&&j[_e]==0;)_e--;if(_e==0)return ne(de),z;for(var qe,xe=1;xe<=_e;){for(var ee=xe;j[xe]==0&&xe<=_e;)++xe;var Ye=xe-ee;if(Ye>=16){qe=Ye>>4;for(var $e=1;$e<=qe;++$e)ne($);Ye&=15}le=32767+j[xe],ne(ae[(Ye<<4)+v[le]]),ne(f[le]),xe++}return _e!=63&&ne(de),z}function ye(C){C=Math.min(Math.max(C,1),100),i!=C&&(function(A){for(var z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],J=0;J<64;J++){var ae=s((z[J]*A+50)/100);ae=Math.min(Math.max(ae,1),255),l[M[J]]=ae}for(var le=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var $=s((le[de]*A+50)/100);$=Math.min(Math.max($,1),255),c[M[de]]=$}for(var ge=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ne=0,ve=0;ve<8;ve++)for(var _e=0;_e<8;_e++)d[Ne]=1/(l[M[Ne]]*ge[ve]*ge[_e]*8),p[Ne]=1/(c[M[Ne]]*ge[ve]*ge[_e]*8),Ne++}(C<50?Math.floor(5e3/C):Math.floor(200-2*C)),i=C)}this.encode=function(C,A){A&&ye(A),w=new Array,S=0,g=7,Q(65496),Q(65504),Q(16),U(74),U(70),U(73),U(70),U(0),U(1),U(1),U(0),Q(1),Q(1),U(0),U(0),function(){Q(65499),Q(132),U(0);for(var Ie=0;Ie<64;Ie++)U(l[Ie]);U(1);for(var Ke=0;Ke<64;Ke++)U(c[Ke])}(),function(Ie,Ke){Q(65472),Q(17),U(8),Q(Ke),Q(Ie),U(3),U(1),U(17),U(0),U(2),U(17),U(1),U(3),U(17),U(1)}(C.width,C.height),function(){Q(65476),Q(418),U(0);for(var Ie=0;Ie<16;Ie++)U(F[Ie+1]);for(var Ke=0;Ke<=11;Ke++)U(H[Ke]);U(16);for(var tt=0;tt<16;tt++)U(re[tt+1]);for(var ut=0;ut<=161;ut++)U(I[ut]);U(1);for(var ft=0;ft<16;ft++)U(L[ft+1]);for(var yt=0;yt<=11;yt++)U(Y[yt]);U(17);for(var Pt=0;Pt<16;Pt++)U(V[Pt+1]);for(var nt=0;nt<=161;nt++)U(X[nt])}(),Q(65498),Q(12),U(3),U(1),U(0),U(2),U(17),U(3),U(17),U(0),U(63),U(0);var z=0,J=0,ae=0;S=0,g=7,this.encode.displayName="_encode_";for(var le,de,$,ge,Ne,ve,_e,qe,xe,ee=C.data,Ye=C.width,$e=C.height,Ae=4*Ye,Me=0;Me<$e;){for(le=0;le<Ae;){for(Ne=Ae*Me+le,_e=-1,qe=0,xe=0;xe<64;xe++)ve=Ne+(qe=xe>>3)*Ae+(_e=4*(7&xe)),Me+qe>=$e&&(ve-=Ae*(Me+1+qe-$e)),le+_e>=Ae&&(ve-=le+_e-Ae+4),de=ee[ve++],$=ee[ve++],ge=ee[ve++],x[xe]=(q[de]+q[$+256>>0]+q[ge+512>>0]>>16)-128,N[xe]=(q[de+768>>0]+q[$+1024>>0]+q[ge+1280>>0]>>16)-128,P[xe]=(q[de+1280>>0]+q[$+1536>>0]+q[ge+1792>>0]>>16)-128;z=te(x,d,z,t,r),J=te(N,p,J,n,a),ae=te(P,p,ae,n,a),le+=32}Me+=8}if(g>=0){var Ce=[];Ce[1]=g+1,Ce[0]=(1<<g+1)-1,ne(Ce)}return Q(65497),new Uint8Array(w)},e=e||50,function(){for(var C=String.fromCharCode,A=0;A<256;A++)R[A]=C(A)}(),t=Z(F,H),n=Z(L,Y),r=Z(re,I),a=Z(V,X),function(){for(var C=1,A=2,z=1;z<=15;z++){for(var J=C;J<A;J++)v[32767+J]=z,f[32767+J]=[],f[32767+J][1]=z,f[32767+J][0]=J;for(var ae=-(A-1);ae<=-C;ae++)v[32767+ae]=z,f[32767+ae]=[],f[32767+ae][1]=z,f[32767+ae][0]=A-1+ae;C<<=1,A<<=1}}(),function(){for(var C=0;C<256;C++)q[C]=19595*C,q[C+256>>0]=38470*C,q[C+512>>0]=7471*C+32768,q[C+768>>0]=-11059*C,q[C+1024>>0]=-21709*C,q[C+1280>>0]=32768*C+8421375,q[C+1536>>0]=-27439*C,q[C+1792>>0]=-5329*C}(),ye(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ga(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Zv(e){function t(F){if(!F)throw Error("assert :P")}function n(F,H,re){for(var I=0;4>I;I++)if(F[H+I]!=re.charCodeAt(I))return!0;return!1}function r(F,H,re,I,L){for(var Y=0;Y<L;Y++)F[H+Y]=re[I+Y]}function a(F,H,re,I){for(var L=0;L<I;L++)F[H+L]=re}function i(F){return new Int32Array(F)}function s(F,H){for(var re=[],I=0;I<F;I++)re.push(new H);return re}function l(F,H){var re=[];return function I(L,Y,V){for(var X=V[Y],Z=0;Z<X&&(L.push(V.length>Y+1?[]:new H),!(V.length<Y+1));Z++)I(L[Z],Y+1,V)}(re,0,F),re}var c=function(){var F=this;function H(u,h){for(var b=1<<h-1>>>0;u&b;)b>>>=1;return b?(u&b-1)+b:u}function re(u,h,b,k,_){t(!(k%b));do u[h+(k-=b)]=_;while(0<k)}function I(u,h,b,k,_){if(t(2328>=_),512>=_)var D=i(512);else if((D=i(_))==null)return 0;return function(T,O,B,K,se,pe){var me,ue,ke=O,be=1<<B,oe=i(16),ce=i(16);for(t(se!=0),t(K!=null),t(T!=null),t(0<B),ue=0;ue<se;++ue){if(15<K[ue])return 0;++oe[K[ue]]}if(oe[0]==se)return 0;for(ce[1]=0,me=1;15>me;++me){if(oe[me]>1<<me)return 0;ce[me+1]=ce[me]+oe[me]}for(ue=0;ue<se;++ue)me=K[ue],0<K[ue]&&(pe[ce[me]++]=ue);if(ce[15]==1)return(K=new L).g=0,K.value=pe[0],re(T,ke,1,be,K),be;var je,Pe=-1,Se=be-1,ze=0,Te=1,Ze=1,Fe=1<<B;for(ue=0,me=1,se=2;me<=B;++me,se<<=1){if(Te+=Ze<<=1,0>(Ze-=oe[me]))return 0;for(;0<oe[me];--oe[me])(K=new L).g=me,K.value=pe[ue++],re(T,ke+ze,se,Fe,K),ze=H(ze,me)}for(me=B+1,se=2;15>=me;++me,se<<=1){if(Te+=Ze<<=1,0>(Ze-=oe[me]))return 0;for(;0<oe[me];--oe[me]){if(K=new L,(ze&Se)!=Pe){for(ke+=Fe,je=1<<(Pe=me)-B;15>Pe&&!(0>=(je-=oe[Pe]));)++Pe,je<<=1;be+=Fe=1<<(je=Pe-B),T[O+(Pe=ze&Se)].g=je+B,T[O+Pe].value=ke-O-Pe}K.g=me-B,K.value=pe[ue++],re(T,ke+(ze>>B),se,Fe,K),ze=H(ze,me)}}return Te!=2*ce[15]-1?0:be}(u,h,b,k,_,D)}function L(){this.value=this.g=0}function Y(){this.value=this.g=0}function V(){this.G=s(5,L),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Fn,Y)}function X(u,h,b,k){t(u!=null),t(h!=null),t(2147483648>k),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=h,u.pa=b,u.Jd=h,u.Yc=b+k,u.Zc=4<=k?b+k-4+1:b,le(u)}function Z(u,h){for(var b=0;0<h--;)b|=$(u,128)<<h;return b}function ne(u,h){var b=Z(u,h);return de(u)?-b:b}function U(u,h,b,k){var _,D=0;for(t(u!=null),t(h!=null),t(4294967288>k),u.Sb=k,u.Ra=0,u.u=0,u.h=0,4<k&&(k=4),_=0;_<k;++_)D+=h[b+_]<<8*_;u.Ra=D,u.bb=k,u.oa=h,u.pa=b}function Q(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<Io-8>>>0,++u.bb,u.u-=8;z(u)&&(u.h=1,u.u=0)}function te(u,h){if(t(0<=h),!u.h&&h<=Eo){var b=A(u)&Lo[h];return u.u+=h,Q(u),b}return u.h=1,u.u=0}function ye(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function C(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function A(u){return u.Ra>>>(u.u&Io-1)>>>0}function z(u){return t(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>Io}function J(u,h){u.u=h,u.h=z(u)}function ae(u){u.u>=sc&&(t(u.u>=sc),Q(u))}function le(u){t(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(t(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function de(u){return Z(u,1)}function $(u,h){var b=u.Ca;0>u.b&&le(u);var k=u.b,_=b*h>>>8,D=(u.I>>>k>_)+0;for(D?(b-=_,u.I-=_+1<<k>>>0):b=_+1,k=b,_=0;256<=k;)_+=8,k>>=8;return k=7^_+vr[k],u.b-=k,u.Ca=(b<<k)-1,D}function ge(u,h,b){u[h+0]=b>>24&255,u[h+1]=b>>16&255,u[h+2]=b>>8&255,u[h+3]=b>>0&255}function Ne(u,h){return u[h+0]<<0|u[h+1]<<8}function ve(u,h){return Ne(u,h)|u[h+2]<<16}function _e(u,h){return Ne(u,h)|Ne(u,h+2)<<16}function qe(u,h){var b=1<<h;return t(u!=null),t(0<h),u.X=i(b),u.X==null?0:(u.Mb=32-h,u.Xa=h,1)}function xe(u,h){t(u!=null),t(h!=null),t(u.Xa==h.Xa),r(h.X,0,u.X,0,1<<h.Xa)}function ee(){this.X=[],this.Xa=this.Mb=0}function Ye(u,h,b,k){t(b!=null),t(k!=null);var _=b[0],D=k[0];return _==0&&(_=(u*D+h/2)/h),D==0&&(D=(h*_+u/2)/u),0>=_||0>=D?0:(b[0]=_,k[0]=D,1)}function $e(u,h){return u+(1<<h)-1>>>h}function Ae(u,h){return((4278255360&u)+(4278255360&h)>>>0&4278255360)+((16711935&u)+(16711935&h)>>>0&16711935)>>>0}function Me(u,h){F[h]=function(b,k,_,D,T,O,B){var K;for(K=0;K<T;++K){var se=F[u](O[B+K-1],_,D+K);O[B+K]=Ae(b[k+K],se)}}}function Ce(){this.ud=this.hd=this.jd=0}function Ie(u,h){return((4278124286&(u^h))>>>1)+(u&h)>>>0}function Ke(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function tt(u,h){return Ke(u+(u-h+.5>>1))}function ut(u,h,b){return Math.abs(h-b)-Math.abs(u-b)}function ft(u,h,b,k,_,D,T){for(k=D[T-1],b=0;b<_;++b)D[T+b]=k=Ae(u[h+b],k)}function yt(u,h,b,k,_){var D;for(D=0;D<b;++D){var T=u[h+D],O=T>>8&255,B=16711935&(B=(B=16711935&T)+((O<<16)+O));k[_+D]=(4278255360&T)+B>>>0}}function Pt(u,h){h.jd=u>>0&255,h.hd=u>>8&255,h.ud=u>>16&255}function nt(u,h,b,k,_,D){var T;for(T=0;T<k;++T){var O=h[b+T],B=O>>>8,K=O,se=255&(se=(se=O>>>16)+((u.jd<<24>>24)*(B<<24>>24)>>>5));K=255&(K=(K=K+((u.hd<<24>>24)*(B<<24>>24)>>>5))+((u.ud<<24>>24)*(se<<24>>24)>>>5)),_[D+T]=(4278255360&O)+(se<<16)+K}}function pt(u,h,b,k,_){F[h]=function(D,T,O,B,K,se,pe,me,ue){for(B=pe;B<me;++B)for(pe=0;pe<ue;++pe)K[se++]=_(O[k(D[T++])])},F[u]=function(D,T,O,B,K,se,pe){var me=8>>D.b,ue=D.Ea,ke=D.K[0],be=D.w;if(8>me)for(D=(1<<D.b)-1,be=(1<<me)-1;T<O;++T){var oe,ce=0;for(oe=0;oe<ue;++oe)oe&D||(ce=k(B[K++])),se[pe++]=_(ke[ce&be]),ce>>=me}else F["VP8LMapColor"+b](B,K,ke,be,se,pe,T,O,ue)}}function Re(u,h,b,k,_){for(b=h+b;h<b;){var D=u[h++];k[_++]=D>>16&255,k[_++]=D>>8&255,k[_++]=D>>0&255}}function Pn(u,h,b,k,_){for(b=h+b;h<b;){var D=u[h++];k[_++]=D>>16&255,k[_++]=D>>8&255,k[_++]=D>>0&255,k[_++]=D>>24&255}}function xt(u,h,b,k,_){for(b=h+b;h<b;){var D=(T=u[h++])>>16&240|T>>12&15,T=T>>0&240|T>>28&15;k[_++]=D,k[_++]=T}}function Ar(u,h,b,k,_){for(b=h+b;h<b;){var D=(T=u[h++])>>16&248|T>>13&7,T=T>>5&224|T>>3&31;k[_++]=D,k[_++]=T}}function _t(u,h,b,k,_){for(b=h+b;h<b;){var D=u[h++];k[_++]=D>>0&255,k[_++]=D>>8&255,k[_++]=D>>16&255}}function Bt(u,h,b,k,_,D){if(D==0)for(b=h+b;h<b;)ge(k,((D=u[h++])[0]>>24|D[1]>>8&65280|D[2]<<8&16711680|D[3]<<24)>>>0),_+=32;else r(k,_,u,h,b)}function Ur(u,h){F[h][0]=F[u+"0"],F[h][1]=F[u+"1"],F[h][2]=F[u+"2"],F[h][3]=F[u+"3"],F[h][4]=F[u+"4"],F[h][5]=F[u+"5"],F[h][6]=F[u+"6"],F[h][7]=F[u+"7"],F[h][8]=F[u+"8"],F[h][9]=F[u+"9"],F[h][10]=F[u+"10"],F[h][11]=F[u+"11"],F[h][12]=F[u+"12"],F[h][13]=F[u+"13"],F[h][14]=F[u+"0"],F[h][15]=F[u+"0"]}function wt(u){return u==S0||u==k0||u==pd||u==C0}function Xa(){this.eb=[],this.size=this.A=this.fb=0}function Kt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Pr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Xa,this.f.kb=new Kt,this.sd=null}function sa(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Gt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function st(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function St(u,h){var b=u.T,k=h.ba.f.RGBA,_=k.eb,D=k.fb+u.ka*k.A,T=Jr[h.ba.S],O=u.y,B=u.O,K=u.f,se=u.N,pe=u.ea,me=u.W,ue=h.cc,ke=h.dc,be=h.Mc,oe=h.Nc,ce=u.ka,je=u.ka+u.T,Pe=u.U,Se=Pe+1>>1;for(ce==0?T(O,B,null,null,K,se,pe,me,K,se,pe,me,_,D,null,null,Pe):(T(h.ec,h.fc,O,B,ue,ke,be,oe,K,se,pe,me,_,D-k.A,_,D,Pe),++b);ce+2<je;ce+=2)ue=K,ke=se,be=pe,oe=me,se+=u.Rc,me+=u.Rc,D+=2*k.A,T(O,(B+=2*u.fa)-u.fa,O,B,ue,ke,be,oe,K,se,pe,me,_,D-k.A,_,D,Pe);return B+=u.fa,u.j+je<u.o?(r(h.ec,h.fc,O,B,Pe),r(h.cc,h.dc,K,se,Se),r(h.Mc,h.Nc,pe,me,Se),b--):1&je||T(O,B,null,null,K,se,pe,me,K,se,pe,me,_,D+k.A,null,null,Pe),b}function Ja(u,h,b){var k=u.F,_=[u.J];if(k!=null){var D=u.U,T=h.ba.S,O=T==fd||T==pd;h=h.ba.f.RGBA;var B=[0],K=u.ka;B[0]=u.T,u.Kb&&(K==0?--B[0]:(--K,_[0]-=u.width),u.j+u.ka+u.T==u.o&&(B[0]=u.o-u.j-K));var se=h.eb;K=h.fb+K*h.A,u=zt(k,_[0],u.width,D,B,se,K+(O?0:3),h.A),t(b==B),u&&wt(T)&&Yr(se,K,O,D,B,h.A)}return 0}function wn(u){var h=u.ma,b=h.ba.S,k=11>b,_=b==dd||b==hd||b==fd||b==j0||b==12||wt(b);if(h.memory=null,h.Ib=null,h.Jb=null,h.Nd=null,!ac(h.Oa,u,_?11:12))return 0;if(_&&wt(b)&&Le(),u.da)alert("todo:use_scaling");else{if(k){if(h.Ib=st,u.Kb){if(b=u.U+1>>1,h.memory=i(u.U+2*b),h.memory==null)return 0;h.ec=h.memory,h.fc=0,h.cc=h.ec,h.dc=h.fc+u.U,h.Mc=h.cc,h.Nc=h.dc+b,h.Ib=St,Le()}}else alert("todo:EmitYUV");_&&(h.Jb=Ja,k&&he())}if(k&&!Tg){for(u=0;256>u;++u)kw[u]=89858*(u-128)+gd>>md,Pw[u]=-22014*(u-128)+gd,Aw[u]=-45773*(u-128),Cw[u]=113618*(u-128)+gd>>md;for(u=fc;u<_0;++u)h=76283*(u-16)+gd>>md,_w[u-fc]=Lr(h,255),Lw[u-fc]=Lr(h+8>>4,15);Tg=1}return 1}function Wr(u){var h=u.ma,b=u.U,k=u.T;return t(!(1&u.ka)),0>=b||0>=k?0:(b=h.Ib(u,h),h.Jb!=null&&h.Jb(u,h,b),h.Dc+=b,1)}function pr(u){u.ma.memory=null}function Je(u,h,b,k){return te(u,8)!=47?0:(h[0]=te(u,14)+1,b[0]=te(u,14)+1,k[0]=te(u,1),te(u,3)!=0?0:!u.h)}function _r(u,h){if(4>u)return u+1;var b=u-2>>1;return(2+(1&u)<<b)+te(h,b)+1}function Hr(u,h){return 120<h?h-120:1<=(b=((b=dw[h-1])>>4)*u+(8-(15&b)))?b:1;var b}function Tn(u,h,b){var k=A(b),_=u[h+=255&k].g-8;return 0<_&&(J(b,b.u+8),k=A(b),h+=u[h].value,h+=k&(1<<_)-1),J(b,b.u+u[h].g),u[h].value}function nn(u,h,b){return b.g+=u.g,b.value+=u.value<<h>>>0,t(8>=b.g),u.g}function Jt(u,h,b){var k=u.xc;return t((h=k==0?0:u.vc[u.md*(b>>k)+(h>>k)])<u.Wb),u.Ya[h]}function qn(u,h,b,k){var _=u.ab,D=u.c*h,T=u.C;h=T+h;var O=b,B=k;for(k=u.Ta,b=u.Ua;0<_--;){var K=u.gc[_],se=T,pe=h,me=O,ue=B,ke=(B=k,O=b,K.Ea);switch(t(se<pe),t(pe<=K.nc),K.hc){case 2:ad(me,ue,(pe-se)*ke,B,O);break;case 0:var be=se,oe=pe,ce=B,je=O,Pe=(Fe=K).Ea;be==0&&(w0(me,ue,null,null,1,ce,je),ft(me,ue+1,0,0,Pe-1,ce,je+1),ue+=Pe,je+=Pe,++be);for(var Se=1<<Fe.b,ze=Se-1,Te=$e(Pe,Fe.b),Ze=Fe.K,Fe=Fe.w+(be>>Fe.b)*Te;be<oe;){var kt=Ze,Lt=Fe,Nt=1;for(oc(me,ue,ce,je-Pe,1,ce,je);Nt<Pe;){var vt=(Nt&~ze)+Se;vt>Pe&&(vt=Pe),(0,Mi[kt[Lt++]>>8&15])(me,ue+ +Nt,ce,je+Nt-Pe,vt-Nt,ce,je+Nt),Nt=vt}ue+=Pe,je+=Pe,++be&ze||(Fe+=Te)}pe!=K.nc&&r(B,O-ke,B,O+(pe-se-1)*ke,ke);break;case 1:for(ke=me,oe=ue,Pe=(me=K.Ea)-(je=me&~(ce=(ue=1<<K.b)-1)),be=$e(me,K.b),Se=K.K,K=K.w+(se>>K.b)*be;se<pe;){for(ze=Se,Te=K,Ze=new Ce,Fe=oe+je,kt=oe+me;oe<Fe;)Pt(ze[Te++],Ze),Ds(Ze,ke,oe,ue,B,O),oe+=ue,O+=ue;oe<kt&&(Pt(ze[Te++],Ze),Ds(Ze,ke,oe,Pe,B,O),oe+=Pe,O+=Pe),++se&ce||(K+=be)}break;case 3:if(me==B&&ue==O&&0<K.b){for(oe=B,me=ke=O+(pe-se)*ke-(je=(pe-se)*$e(K.Ea,K.b)),ue=B,ce=O,be=[],je=(Pe=je)-1;0<=je;--je)be[je]=ue[ce+je];for(je=Pe-1;0<=je;--je)oe[me+je]=be[je];Vr(K,se,pe,B,ke,B,O)}else Vr(K,se,pe,me,ue,B,O)}O=k,B=b}B!=b&&r(k,b,O,B,D)}function Qa(u,h){var b=u.V,k=u.Ba+u.c*u.C,_=h-u.C;if(t(h<=u.l.o),t(16>=_),0<_){var D=u.l,T=u.Ta,O=u.Ua,B=D.width;if(qn(u,_,b,k),_=O=[O],t((b=u.C)<(k=h)),t(D.v<D.va),k>D.o&&(k=D.o),b<D.j){var K=D.j-b;b=D.j,_[0]+=K*B}if(b>=k?b=0:(_[0]+=4*D.v,D.ka=b-D.j,D.U=D.va-D.v,D.T=k-b,b=1),b){if(O=O[0],11>(b=u.ca).S){var se=b.f.RGBA,pe=(k=b.S,_=D.U,D=D.T,K=se.eb,se.A),me=D;for(se=se.fb+u.Ma*se.A;0<me--;){var ue=T,ke=O,be=_,oe=K,ce=se;switch(k){case ud:yr(ue,ke,be,oe,ce);break;case dd:rr(ue,ke,be,oe,ce);break;case S0:rr(ue,ke,be,oe,ce),Yr(oe,ce,0,be,1,0);break;case kg:ri(ue,ke,be,oe,ce);break;case hd:Bt(ue,ke,be,oe,ce,1);break;case k0:Bt(ue,ke,be,oe,ce,1),Yr(oe,ce,0,be,1,0);break;case fd:Bt(ue,ke,be,oe,ce,0);break;case pd:Bt(ue,ke,be,oe,ce,0),Yr(oe,ce,1,be,1,0);break;case j0:Ti(ue,ke,be,oe,ce);break;case C0:Ti(ue,ke,be,oe,ce),$t(oe,ce,be,1,0);break;case Cg:ni(ue,ke,be,oe,ce);break;default:t(0)}O+=B,se+=pe}u.Ma+=D}else alert("todo:EmitRescaledRowsYUVA");t(u.Ma<=b.height)}}u.C=h,t(u.C<=u.i)}function fe(u){var h;if(0<u.ua)return 0;for(h=0;h<u.Wb;++h){var b=u.Ya[h].G,k=u.Ya[h].H;if(0<b[1][k[1]+0].g||0<b[2][k[2]+0].g||0<b[3][k[3]+0].g)return 0}return 1}function Ue(u,h,b,k,_,D){if(u.Z!=0){var T=u.qd,O=u.rd;for(t(Bi[u.Z]!=null);h<b;++h)Bi[u.Z](T,O,k,_,k,_,D),T=k,O=_,_+=D;u.qd=T,u.rd=O}}function Oe(u,h){var b=u.l.ma,k=b.Z==0||b.Z==1?u.l.j:u.C;if(k=u.C<k?k:u.C,t(h<=u.l.o),h>k){var _=u.l.width,D=b.ca,T=b.tb+_*k,O=u.V,B=u.Ba+u.c*k,K=u.gc;t(u.ab==1),t(K[0].hc==3),id(K[0],k,h,O,B,D,T),Ue(b,k,h,D,T,_)}u.C=u.Ma=h}function Qe(u,h,b,k,_,D,T){var O=u.$/k,B=u.$%k,K=u.m,se=u.s,pe=b+u.$,me=pe;_=b+k*_;var ue=b+k*D,ke=280+se.ua,be=u.Pb?O:16777216,oe=0<se.ua?se.Wa:null,ce=se.wc,je=pe<ue?Jt(se,B,O):null;t(u.C<D),t(ue<=_);var Pe=!1;e:for(;;){for(;Pe||pe<ue;){var Se=0;if(O>=be){var ze=pe-b;t((be=u).Pb),be.wd=be.m,be.xd=ze,0<be.s.ua&&xe(be.s.Wa,be.s.vb),be=O+fw}if(B&ce||(je=Jt(se,B,O)),t(je!=null),je.Qb&&(h[pe]=je.qb,Pe=!0),!Pe)if(ae(K),je.jc){Se=K,ze=h;var Te=pe,Ze=je.pd[A(Se)&Fn-1];t(je.jc),256>Ze.g?(J(Se,Se.u+Ze.g),ze[Te]=Ze.value,Se=0):(J(Se,Se.u+Ze.g-256),t(256<=Ze.value),Se=Ze.value),Se==0&&(Pe=!0)}else Se=Tn(je.G[0],je.H[0],K);if(K.h)break;if(Pe||256>Se){if(!Pe)if(je.nd)h[pe]=(je.qb|Se<<8)>>>0;else{if(ae(K),Pe=Tn(je.G[1],je.H[1],K),ae(K),ze=Tn(je.G[2],je.H[2],K),Te=Tn(je.G[3],je.H[3],K),K.h)break;h[pe]=(Te<<24|Pe<<16|Se<<8|ze)>>>0}if(Pe=!1,++pe,++B>=k&&(B=0,++O,T!=null&&O<=D&&!(O%16)&&T(u,O),oe!=null))for(;me<pe;)Se=h[me++],oe.X[(506832829*Se&4294967295)>>>oe.Mb]=Se}else if(280>Se){if(Se=_r(Se-256,K),ze=Tn(je.G[4],je.H[4],K),ae(K),ze=Hr(k,ze=_r(ze,K)),K.h)break;if(pe-b<ze||_-pe<Se)break e;for(Te=0;Te<Se;++Te)h[pe+Te]=h[pe+Te-ze];for(pe+=Se,B+=Se;B>=k;)B-=k,++O,T!=null&&O<=D&&!(O%16)&&T(u,O);if(t(pe<=_),B&ce&&(je=Jt(se,B,O)),oe!=null)for(;me<pe;)Se=h[me++],oe.X[(506832829*Se&4294967295)>>>oe.Mb]=Se}else{if(!(Se<ke))break e;for(Pe=Se-280,t(oe!=null);me<pe;)Se=h[me++],oe.X[(506832829*Se&4294967295)>>>oe.Mb]=Se;Se=pe,t(!(Pe>>>(ze=oe).Xa)),h[Se]=ze.X[Pe],Pe=!0}Pe||t(K.h==z(K))}if(u.Pb&&K.h&&pe<_)t(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&xe(u.s.vb,u.s.Wa);else{if(K.h)break e;T!=null&&T(u,O>D?D:O),u.a=0,u.$=pe-b}return 1}return u.a=3,0}function mt(u){t(u!=null),u.vc=null,u.yc=null,u.Ya=null;var h=u.Wa;h!=null&&(h.X=null),u.vb=null,t(u!=null)}function Mt(){var u=new b0;return u==null?null:(u.a=0,u.xb=_g,Ur("Predictor","VP8LPredictors"),Ur("Predictor","VP8LPredictors_C"),Ur("PredictorAdd","VP8LPredictorsAdd"),Ur("PredictorAdd","VP8LPredictorsAdd_C"),ad=yt,Ds=nt,yr=Re,rr=Pn,Ti=xt,ni=Ar,ri=_t,F.VP8LMapColor32b=Do,F.VP8LMapColor8b=sd,u)}function Un(u,h,b,k,_){var D=1,T=[u],O=[h],B=k.m,K=k.s,se=null,pe=0;e:for(;;){if(b)for(;D&&te(B,1);){var me=T,ue=O,ke=k,be=1,oe=ke.m,ce=ke.gc[ke.ab],je=te(oe,2);if(ke.Oc&1<<je)D=0;else{switch(ke.Oc|=1<<je,ce.hc=je,ce.Ea=me[0],ce.nc=ue[0],ce.K=[null],++ke.ab,t(4>=ke.ab),je){case 0:case 1:ce.b=te(oe,3)+2,be=Un($e(ce.Ea,ce.b),$e(ce.nc,ce.b),0,ke,ce.K),ce.K=ce.K[0];break;case 3:var Pe,Se=te(oe,8)+1,ze=16<Se?0:4<Se?1:2<Se?2:3;if(me[0]=$e(ce.Ea,ze),ce.b=ze,Pe=be=Un(Se,1,0,ke,ce.K)){var Te,Ze=Se,Fe=ce,kt=1<<(8>>Fe.b),Lt=i(kt);if(Lt==null)Pe=0;else{var Nt=Fe.K[0],vt=Fe.w;for(Lt[0]=Fe.K[0][0],Te=1;Te<1*Ze;++Te)Lt[Te]=Ae(Nt[vt+Te],Lt[Te-1]);for(;Te<4*kt;++Te)Lt[Te]=0;Fe.K[0]=null,Fe.K[0]=Lt,Pe=1}}be=Pe;break;case 2:break;default:t(0)}D=be}}if(T=T[0],O=O[0],D&&te(B,1)&&!(D=1<=(pe=te(B,4))&&11>=pe)){k.a=3;break e}var Ft;if(Ft=D)t:{var Tt,ht,vn,xr=k,yn=T,br=O,Et=pe,Ir=b,Dr=xr.m,Ln=xr.s,On=[null],ir=1,Qr=0,Ma=hw[Et];n:for(;;){if(Ir&&te(Dr,1)){var En=te(Dr,3)+2,oi=$e(yn,En),Rs=$e(br,En),Ro=oi*Rs;if(!Un(oi,Rs,0,xr,On))break n;for(On=On[0],Ln.xc=En,Tt=0;Tt<Ro;++Tt){var $i=On[Tt]>>8&65535;On[Tt]=$i,$i>=ir&&(ir=$i+1)}}if(Dr.h)break n;for(ht=0;5>ht;++ht){var an=Ag[ht];!ht&&0<Et&&(an+=1<<Et),Qr<an&&(Qr=an)}var L0=s(ir*Ma,L),Rg=ir,Bg=s(Rg,V);if(Bg==null)var yd=null;else t(65536>=Rg),yd=Bg;var pc=i(Qr);if(yd==null||pc==null||L0==null){xr.a=1;break n}var xd=L0;for(Tt=vn=0;Tt<ir;++Tt){var ha=yd[Tt],Bo=ha.G,$o=ha.H,$g=0,bd=1,zg=0;for(ht=0;5>ht;++ht){an=Ag[ht],Bo[ht]=xd,$o[ht]=vn,!ht&&0<Et&&(an+=1<<Et);a:{var wd,E0=an,Nd=xr,mc=pc,Dw=xd,Mw=vn,I0=0,zi=Nd.m,Tw=te(zi,1);if(a(mc,0,0,E0),Tw){var Fw=te(zi,1)+1,Ow=te(zi,1),qg=te(zi,Ow==0?1:8);mc[qg]=1,Fw==2&&(mc[qg=te(zi,8)]=1);var jd=1}else{var Ug=i(19),Wg=te(zi,4)+4;if(19<Wg){Nd.a=3;var Sd=0;break a}for(wd=0;wd<Wg;++wd)Ug[uw[wd]]=te(zi,3);var D0=void 0,gc=void 0,Hg=Nd,Rw=Ug,kd=E0,Vg=mc,M0=0,qi=Hg.m,Kg=8,Gg=s(128,L);r:for(;I(Gg,0,7,Rw,19);){if(te(qi,1)){var Bw=2+2*te(qi,3);if((D0=2+te(qi,Bw))>kd)break r}else D0=kd;for(gc=0;gc<kd&&D0--;){ae(qi);var Yg=Gg[0+(127&A(qi))];J(qi,qi.u+Yg.g);var zo=Yg.value;if(16>zo)Vg[gc++]=zo,zo!=0&&(Kg=zo);else{var $w=zo==16,Xg=zo-16,zw=lw[Xg],Jg=te(qi,ow[Xg])+zw;if(gc+Jg>kd)break r;for(var qw=$w?Kg:0;0<Jg--;)Vg[gc++]=qw}}M0=1;break r}M0||(Hg.a=3),jd=M0}(jd=jd&&!zi.h)&&(I0=I(Dw,Mw,8,mc,E0)),jd&&I0!=0?Sd=I0:(Nd.a=3,Sd=0)}if(Sd==0)break n;if(bd&&cw[ht]==1&&(bd=xd[vn].g==0),$g+=xd[vn].g,vn+=Sd,3>=ht){var vc,T0=pc[0];for(vc=1;vc<an;++vc)pc[vc]>T0&&(T0=pc[vc]);zg+=T0}}if(ha.nd=bd,ha.Qb=0,bd&&(ha.qb=(Bo[3][$o[3]+0].value<<24|Bo[1][$o[1]+0].value<<16|Bo[2][$o[2]+0].value)>>>0,$g==0&&256>Bo[0][$o[0]+0].value&&(ha.Qb=1,ha.qb+=Bo[0][$o[0]+0].value<<8)),ha.jc=!ha.Qb&&6>zg,ha.jc){var Cd,li=ha;for(Cd=0;Cd<Fn;++Cd){var Ui=Cd,Wi=li.pd[Ui],Ad=li.G[0][li.H[0]+Ui];256<=Ad.value?(Wi.g=Ad.g+256,Wi.value=Ad.value):(Wi.g=0,Wi.value=0,Ui>>=nn(Ad,8,Wi),Ui>>=nn(li.G[1][li.H[1]+Ui],16,Wi),Ui>>=nn(li.G[2][li.H[2]+Ui],0,Wi),nn(li.G[3][li.H[3]+Ui],24,Wi))}}}Ln.vc=On,Ln.Wb=ir,Ln.Ya=yd,Ln.yc=L0,Ft=1;break t}Ft=0}if(!(D=Ft)){k.a=3;break e}if(0<pe){if(K.ua=1<<pe,!qe(K.Wa,pe)){k.a=1,D=0;break e}}else K.ua=0;var F0=k,Qg=T,Uw=O,O0=F0.s,R0=O0.xc;if(F0.c=Qg,F0.i=Uw,O0.md=$e(Qg,R0),O0.wc=R0==0?-1:(1<<R0)-1,b){k.xb=bw;break e}if((se=i(T*O))==null){k.a=1,D=0;break e}D=(D=Qe(k,se,0,T,O,O,null))&&!B.h;break e}return D?(_!=null?_[0]=se:(t(se==null),t(b)),k.$=0,b||mt(K)):mt(K),D}function mr(u,h){var b=u.c*u.i,k=b+h+16*h;return t(u.c<=h),u.V=i(k),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+b+h,1)}function oa(u,h){var b=u.C,k=h-b,_=u.V,D=u.Ba+u.c*b;for(t(h<=u.l.o);0<k;){var T=16<k?16:k,O=u.l.ma,B=u.l.width,K=B*T,se=O.ca,pe=O.tb+B*b,me=u.Ta,ue=u.Ua;qn(u,T,_,D),dn(me,ue,se,pe,K),Ue(O,b,b+T,se,pe,B),k-=T,_+=T*u.c,b+=T}t(b==h),u.C=u.Ma=h}function Za(){this.ub=this.yd=this.td=this.Rb=0}function _a(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function La(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Ru(){this.Yb=function(){var u=[];return function h(b,k,_){for(var D=_[k],T=0;T<D&&(b.push(_.length>k+1?[]:0),!(_.length<k+1));T++)h(b[T],k+1,_)}(u,0,[3,11]),u}()}function Jf(){this.jb=i(3),this.Wc=l([4,8],Ru),this.Xc=l([4,17],Ru)}function Qf(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function yo(){this.ld=this.La=this.dd=this.tc=0}function Bu(){this.Na=this.la=0}function Zf(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ql(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function e0(){this.uc=this.M=this.Nb=0,this.wa=Array(new yo),this.Y=0,this.ya=Array(new ql),this.aa=0,this.l=new xo}function $u(){this.y=i(16),this.f=i(8),this.ea=i(8)}function t0(){this.cb=this.a=0,this.sc="",this.m=new ye,this.Od=new Za,this.Kc=new _a,this.ed=new Qf,this.Qa=new La,this.Ic=this.$c=this.Aa=0,this.D=new e0,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,ye),this.ia=0,this.pb=s(4,Zf),this.Pa=new Jf,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new $u),this.Hd=0,this.rb=Array(new Bu),this.sb=0,this.wa=Array(new yo),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ql),this.L=this.aa=0,this.gd=l([4,2],yo),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function xo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function n0(){var u=new t0;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,hc||(hc=Uu)),u}function cn(u,h,b){return u.a==0&&(u.a=h,u.sc=b,u.cb=0),0}function zu(u,h,b){return 3<=b&&u[h+0]==157&&u[h+1]==1&&u[h+2]==42}function qu(u,h){if(u==null)return 0;if(u.a=0,u.sc="OK",h==null)return cn(u,2,"null VP8Io passed to VP8GetHeaders()");var b=h.data,k=h.w,_=h.ha;if(4>_)return cn(u,7,"Truncated header.");var D=b[k+0]|b[k+1]<<8|b[k+2]<<16,T=u.Od;if(T.Rb=!(1&D),T.td=D>>1&7,T.yd=D>>4&1,T.ub=D>>5,3<T.td)return cn(u,3,"Incorrect keyframe parameters.");if(!T.yd)return cn(u,4,"Frame not displayable.");k+=3,_-=3;var O=u.Kc;if(T.Rb){if(7>_)return cn(u,7,"cannot parse picture header");if(!zu(b,k,_))return cn(u,3,"Bad code word");O.c=16383&(b[k+4]<<8|b[k+3]),O.Td=b[k+4]>>6,O.i=16383&(b[k+6]<<8|b[k+5]),O.Ud=b[k+6]>>6,k+=7,_-=7,u.za=O.c+15>>4,u.Ub=O.i+15>>4,h.width=O.c,h.height=O.i,h.Da=0,h.j=0,h.v=0,h.va=h.width,h.o=h.height,h.da=0,h.ib=h.width,h.hb=h.height,h.U=h.width,h.T=h.height,a((D=u.Pa).jb,0,255,D.jb.length),t((D=u.Qa)!=null),D.Cb=0,D.Bb=0,D.Fb=1,a(D.Zb,0,0,D.Zb.length),a(D.Lb,0,0,D.Lb)}if(T.ub>_)return cn(u,7,"bad partition length");X(D=u.m,b,k,T.ub),k+=T.ub,_-=T.ub,T.Rb&&(O.Ld=de(D),O.Kd=de(D)),O=u.Qa;var B,K=u.Pa;if(t(D!=null),t(O!=null),O.Cb=de(D),O.Cb){if(O.Bb=de(D),de(D)){for(O.Fb=de(D),B=0;4>B;++B)O.Zb[B]=de(D)?ne(D,7):0;for(B=0;4>B;++B)O.Lb[B]=de(D)?ne(D,6):0}if(O.Bb)for(B=0;3>B;++B)K.jb[B]=de(D)?Z(D,8):255}else O.Bb=0;if(D.Ka)return cn(u,3,"cannot parse segment header");if((O=u.ed).zd=de(D),O.Tb=Z(D,6),O.wb=Z(D,3),O.Pc=de(D),O.Pc&&de(D)){for(K=0;4>K;++K)de(D)&&(O.vd[K]=ne(D,6));for(K=0;4>K;++K)de(D)&&(O.od[K]=ne(D,6))}if(u.L=O.Tb==0?0:O.zd?1:2,D.Ka)return cn(u,3,"cannot parse filter header");var se=_;if(_=B=k,k=B+se,O=se,u.Xb=(1<<Z(u.m,2))-1,se<3*(K=u.Xb))b=7;else{for(B+=3*K,O-=3*K,se=0;se<K;++se){var pe=b[_+0]|b[_+1]<<8|b[_+2]<<16;pe>O&&(pe=O),X(u.Jc[+se],b,B,pe),B+=pe,O-=pe,_+=3}X(u.Jc[+K],b,B,O),b=B<k?0:5}if(b!=0)return cn(u,b,"cannot parse partitions");for(b=Z(B=u.m,7),_=de(B)?ne(B,4):0,k=de(B)?ne(B,4):0,O=de(B)?ne(B,4):0,K=de(B)?ne(B,4):0,B=de(B)?ne(B,4):0,se=u.Qa,pe=0;4>pe;++pe){if(se.Cb){var me=se.Zb[pe];se.Fb||(me+=b)}else{if(0<pe){u.pb[pe]=u.pb[0];continue}me=b}var ue=u.pb[pe];ue.Sc[0]=A0[Lr(me+_,127)],ue.Sc[1]=P0[Lr(me+0,127)],ue.Eb[0]=2*A0[Lr(me+k,127)],ue.Eb[1]=101581*P0[Lr(me+O,127)]>>16,8>ue.Eb[1]&&(ue.Eb[1]=8),ue.Qc[0]=A0[Lr(me+K,117)],ue.Qc[1]=P0[Lr(me+B,127)],ue.lc=me+B}if(!T.Rb)return cn(u,4,"Not a key frame.");for(de(D),T=u.Pa,b=0;4>b;++b){for(_=0;8>_;++_)for(k=0;3>k;++k)for(O=0;11>O;++O)K=$(D,yw[b][_][k][O])?Z(D,8):gw[b][_][k][O],T.Wc[b][_].Yb[k][O]=K;for(_=0;17>_;++_)T.Xc[b][_]=T.Wc[b][xw[_]]}return u.kc=de(D),u.kc&&(u.Bd=Z(D,8)),u.cb=1}function Uu(u,h,b,k,_,D,T){var O=h[_].Yb[b];for(b=0;16>_;++_){if(!$(u,O[b+0]))return _;for(;!$(u,O[b+1]);)if(O=h[++_].Yb[0],b=0,_==16)return 16;var B=h[_+1].Yb;if($(u,O[b+2])){var K=u,se=0;if($(K,(me=O)[(pe=b)+3]))if($(K,me[pe+6])){for(O=0,pe=2*(se=$(K,me[pe+8]))+(me=$(K,me[pe+9+se])),se=0,me=pw[pe];me[O];++O)se+=se+$(K,me[O]);se+=3+(8<<pe)}else $(K,me[pe+7])?(se=7+2*$(K,165),se+=$(K,145)):se=5+$(K,159);else se=$(K,me[pe+4])?3+$(K,me[pe+5]):2;O=B[2]}else se=1,O=B[1];B=T+mw[_],0>(K=u).b&&le(K);var pe,me=K.b,ue=(pe=K.Ca>>1)-(K.I>>me)>>31;--K.b,K.Ca+=ue,K.Ca|=1,K.I-=(pe+1&ue)<<me,D[B]=((se^ue)-ue)*k[(0<_)+0]}return 16}function Ul(u){var h=u.rb[u.sb-1];h.la=0,h.Na=0,a(u.zc,0,0,u.zc.length),u.ja=0}function r0(u,h){if(u==null)return 0;if(h==null)return cn(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!qu(u,h))return 0;if(t(u.cb),h.ac==null||h.ac(h)){h.ob&&(u.L=0);var b=vd[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=h.v-b>>4,u.zb=h.j-b>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=h.o+15+b>>4,u.Hb=h.va+15+b>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var k=u.ed;for(b=0;4>b;++b){var _;if(u.Qa.Cb){var D=u.Qa.Lb[b];u.Qa.Fb||(D+=k.Tb)}else D=k.Tb;for(_=0;1>=_;++_){var T=u.gd[b][_],O=D;if(k.Pc&&(O+=k.vd[0],_&&(O+=k.od[0])),0<(O=0>O?0:63<O?63:O)){var B=O;0<k.wb&&(B=4<k.wb?B>>2:B>>1)>9-k.wb&&(B=9-k.wb),1>B&&(B=1),T.dd=B,T.tc=2*O+B,T.ld=40<=O?2:15<=O?1:0}else T.tc=0;T.La=_}}}b=0}else cn(u,6,"Frame setup failed"),b=u.a;if(b=b==0){if(b){u.$c=0,0<u.Aa||(u.Ic=Iw);e:{b=u.Ic,k=4*(B=u.za);var K=32*B,se=B+1,pe=0<u.L?B*(0<u.Aa?2:1):0,me=(u.Aa==2?2:1)*B;if((T=k+832+(_=3*(16*b+vd[u.L])/2*K)+(D=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=T)b=0;else{if(T>u.Vb){if(u.Vb=0,u.Ec=i(T),u.Fc=0,u.Ec==null){b=cn(u,1,"no memory during frame initialization.");break e}u.Vb=T}T=u.Ec,O=u.Fc,u.Ac=T,u.Bc=O,O+=k,u.Gd=s(K,$u),u.Hd=0,u.rb=s(se+1,Bu),u.sb=1,u.wa=pe?s(pe,yo):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=B),t(!0),u.oc=T,u.pc=O,O+=832,u.ya=s(me,ql),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=B),u.R=16*B,u.B=8*B,B=(K=vd[u.L])*u.R,K=K/2*u.B,u.sa=T,u.ta=O+B,u.qa=u.sa,u.ra=u.ta+16*b*u.R+K,u.Ha=u.qa,u.Ia=u.ra+8*b*u.B+K,u.$c=0,O+=_,u.mb=D?T:null,u.nb=D?O:null,t(O+D<=u.Fc+u.Vb),Ul(u),a(u.Ac,u.Bc,0,k),b=1}}if(b){if(h.ka=0,h.y=u.sa,h.O=u.ta,h.f=u.qa,h.N=u.ra,h.ea=u.Ha,h.Vd=u.Ia,h.fa=u.R,h.Rc=u.B,h.F=null,h.J=0,!ld){for(b=-255;255>=b;++b)Nn[255+b]=0>b?-b:b;for(b=-1020;1020>=b;++b)ii[1020+b]=-128>b?-128:127<b?127:b;for(b=-112;112>=b;++b)dc[112+b]=-16>b?-16:15<b?15:b;for(b=-255;510>=b;++b)Oo[255+b]=0>b?0:255<b?255:b;ld=1}Mo=s0,ai=a0,lc=Hu,ar=i0,Kr=Vu,un=Wu,To=Yl,od=Es,cc=x0,Ms=Xl,Ts=y0,Fi=ko,Fs=Jl,Fo=td,Os=ed,Oi=Ia,uc=ti,Gr=v0,da[0]=Ea,da[1]=o0,da[2]=d0,da[3]=h0,da[4]=Yu,da[5]=jo,da[6]=Xu,da[7]=Vl,da[8]=p0,da[9]=f0,Ri[0]=Ku,Ri[1]=c0,Ri[2]=ei,Ri[3]=wo,Ri[4]=Wn,Ri[5]=u0,Ri[6]=Gu,si[0]=Ei,si[1]=l0,si[2]=m0,si[3]=Kl,si[4]=Ls,si[5]=g0,si[6]=Gl,b=1}else b=0}b&&(b=function(ue,ke){for(ue.M=0;ue.M<ue.Va;++ue.M){var be,oe=ue.Jc[ue.M&ue.Xb],ce=ue.m,je=ue;for(be=0;be<je.za;++be){var Pe=ce,Se=je,ze=Se.Ac,Te=Se.Bc+4*be,Ze=Se.zc,Fe=Se.ya[Se.aa+be];if(Se.Qa.Bb?Fe.$b=$(Pe,Se.Pa.jb[0])?2+$(Pe,Se.Pa.jb[2]):$(Pe,Se.Pa.jb[1]):Fe.$b=0,Se.kc&&(Fe.Ad=$(Pe,Se.Bd)),Fe.Za=!$(Pe,145)+0,Fe.Za){var kt=Fe.Ob,Lt=0;for(Se=0;4>Se;++Se){var Nt,vt=Ze[0+Se];for(Nt=0;4>Nt;++Nt){vt=vw[ze[Te+Nt]][vt];for(var Ft=Pg[$(Pe,vt[0])];0<Ft;)Ft=Pg[2*Ft+$(Pe,vt[Ft])];vt=-Ft,ze[Te+Nt]=vt}r(kt,Lt,ze,Te,4),Lt+=4,Ze[0+Se]=vt}}else vt=$(Pe,156)?$(Pe,128)?1:3:$(Pe,163)?2:0,Fe.Ob[0]=vt,a(ze,Te,vt,4),a(Ze,0,vt,4);Fe.Dd=$(Pe,142)?$(Pe,114)?$(Pe,183)?1:3:2:0}if(je.m.Ka)return cn(ue,7,"Premature end-of-partition0 encountered.");for(;ue.ja<ue.za;++ue.ja){if(je=oe,Pe=(ce=ue).rb[ce.sb-1],ze=ce.rb[ce.sb+ce.ja],be=ce.ya[ce.aa+ce.ja],Te=ce.kc?be.Ad:0)Pe.la=ze.la=0,be.Za||(Pe.Na=ze.Na=0),be.Hc=0,be.Gc=0,be.ia=0;else{var Tt,ht;if(Pe=ze,ze=je,Te=ce.Pa.Xc,Ze=ce.ya[ce.aa+ce.ja],Fe=ce.pb[Ze.$b],Se=Ze.ad,kt=0,Lt=ce.rb[ce.sb-1],vt=Nt=0,a(Se,kt,0,384),Ze.Za)var vn=0,xr=Te[3];else{Ft=i(16);var yn=Pe.Na+Lt.Na;if(yn=hc(ze,Te[1],yn,Fe.Eb,0,Ft,0),Pe.Na=Lt.Na=(0<yn)+0,1<yn)Mo(Ft,0,Se,kt);else{var br=Ft[0]+3>>3;for(Ft=0;256>Ft;Ft+=16)Se[kt+Ft]=br}vn=1,xr=Te[0]}var Et=15&Pe.la,Ir=15&Lt.la;for(Ft=0;4>Ft;++Ft){var Dr=1&Ir;for(br=ht=0;4>br;++br)Et=Et>>1|(Dr=(yn=hc(ze,xr,yn=Dr+(1&Et),Fe.Sc,vn,Se,kt))>vn)<<7,ht=ht<<2|(3<yn?3:1<yn?2:Se[kt+0]!=0),kt+=16;Et>>=4,Ir=Ir>>1|Dr<<7,Nt=(Nt<<8|ht)>>>0}for(xr=Et,vn=Ir>>4,Tt=0;4>Tt;Tt+=2){for(ht=0,Et=Pe.la>>4+Tt,Ir=Lt.la>>4+Tt,Ft=0;2>Ft;++Ft){for(Dr=1&Ir,br=0;2>br;++br)yn=Dr+(1&Et),Et=Et>>1|(Dr=0<(yn=hc(ze,Te[2],yn,Fe.Qc,0,Se,kt)))<<3,ht=ht<<2|(3<yn?3:1<yn?2:Se[kt+0]!=0),kt+=16;Et>>=2,Ir=Ir>>1|Dr<<5}vt|=ht<<4*Tt,xr|=Et<<4<<Tt,vn|=(240&Ir)<<Tt}Pe.la=xr,Lt.la=vn,Ze.Hc=Nt,Ze.Gc=vt,Ze.ia=43690&vt?0:Fe.ia,Te=!(Nt|vt)}if(0<ce.L&&(ce.wa[ce.Y+ce.ja]=ce.gd[be.$b][be.Za],ce.wa[ce.Y+ce.ja].La|=!Te),je.Ka)return cn(ue,7,"Premature end-of-file encountered.")}if(Ul(ue),ce=ke,je=1,be=(oe=ue).D,Pe=0<oe.L&&oe.M>=oe.zb&&oe.M<=oe.Va,oe.Aa==0)e:{if(be.M=oe.M,be.uc=Pe,rc(oe,be),je=1,be=(ht=oe.D).Nb,Pe=(vt=vd[oe.L])*oe.R,ze=vt/2*oe.B,Ft=16*be*oe.R,br=8*be*oe.B,Te=oe.sa,Ze=oe.ta-Pe+Ft,Fe=oe.qa,Se=oe.ra-ze+br,kt=oe.Ha,Lt=oe.Ia-ze+br,Ir=(Et=ht.M)==0,Nt=Et>=oe.Va-1,oe.Aa==2&&rc(oe,ht),ht.uc)for(Dr=(yn=oe).D.M,t(yn.D.uc),ht=yn.yb;ht<yn.Hb;++ht){vn=ht,xr=Dr;var Ln=(On=(an=yn).D).Nb;Tt=an.R;var On=On.wa[On.Y+vn],ir=an.sa,Qr=an.ta+16*Ln*Tt+16*vn,Ma=On.dd,En=On.tc;if(En!=0)if(t(3<=En),an.L==1)0<vn&&Oi(ir,Qr,Tt,En+4),On.La&&Gr(ir,Qr,Tt,En),0<xr&&Os(ir,Qr,Tt,En+4),On.La&&uc(ir,Qr,Tt,En);else{var oi=an.B,Rs=an.qa,Ro=an.ra+8*Ln*oi+8*vn,$i=an.Ha,an=an.Ia+8*Ln*oi+8*vn;Ln=On.ld,0<vn&&(od(ir,Qr,Tt,En+4,Ma,Ln),Ms(Rs,Ro,$i,an,oi,En+4,Ma,Ln)),On.La&&(Fi(ir,Qr,Tt,En,Ma,Ln),Fo(Rs,Ro,$i,an,oi,En,Ma,Ln)),0<xr&&(To(ir,Qr,Tt,En+4,Ma,Ln),cc(Rs,Ro,$i,an,oi,En+4,Ma,Ln)),On.La&&(Ts(ir,Qr,Tt,En,Ma,Ln),Fs(Rs,Ro,$i,an,oi,En,Ma,Ln))}}if(oe.ia&&alert("todo:DitherRow"),ce.put!=null){if(ht=16*Et,Et=16*(Et+1),Ir?(ce.y=oe.sa,ce.O=oe.ta+Ft,ce.f=oe.qa,ce.N=oe.ra+br,ce.ea=oe.Ha,ce.W=oe.Ia+br):(ht-=vt,ce.y=Te,ce.O=Ze,ce.f=Fe,ce.N=Se,ce.ea=kt,ce.W=Lt),Nt||(Et-=vt),Et>ce.o&&(Et=ce.o),ce.F=null,ce.J=null,oe.Fa!=null&&0<oe.Fa.length&&ht<Et&&(ce.J=tc(oe,ce,ht,Et-ht),ce.F=oe.mb,ce.F==null&&ce.F.length==0)){je=cn(oe,3,"Could not decode alpha data.");break e}ht<ce.j&&(vt=ce.j-ht,ht=ce.j,t(!(1&vt)),ce.O+=oe.R*vt,ce.N+=oe.B*(vt>>1),ce.W+=oe.B*(vt>>1),ce.F!=null&&(ce.J+=ce.width*vt)),ht<Et&&(ce.O+=ce.v,ce.N+=ce.v>>1,ce.W+=ce.v>>1,ce.F!=null&&(ce.J+=ce.v),ce.ka=ht-ce.j,ce.U=ce.va-ce.v,ce.T=Et-ht,je=ce.put(ce))}be+1!=oe.Ic||Nt||(r(oe.sa,oe.ta-Pe,Te,Ze+16*oe.R,Pe),r(oe.qa,oe.ra-ze,Fe,Se+8*oe.B,ze),r(oe.Ha,oe.Ia-ze,kt,Lt+8*oe.B,ze))}if(!je)return cn(ue,6,"Output aborted.")}return 1}(u,h)),h.bc!=null&&h.bc(h),b&=1}return b?(u.cb=0,b):0}function la(u,h,b,k,_){_=u[h+b+32*k]+(_>>3),u[h+b+32*k]=-256&_?0>_?0:255:_}function bo(u,h,b,k,_,D){la(u,h,0,b,k+_),la(u,h,1,b,k+D),la(u,h,2,b,k-D),la(u,h,3,b,k-_)}function gr(u){return(20091*u>>16)+u}function Wl(u,h,b,k){var _,D=0,T=i(16);for(_=0;4>_;++_){var O=u[h+0]+u[h+8],B=u[h+0]-u[h+8],K=(35468*u[h+4]>>16)-gr(u[h+12]),se=gr(u[h+4])+(35468*u[h+12]>>16);T[D+0]=O+se,T[D+1]=B+K,T[D+2]=B-K,T[D+3]=O-se,D+=4,h++}for(_=D=0;4>_;++_)O=(u=T[D+0]+4)+T[D+8],B=u-T[D+8],K=(35468*T[D+4]>>16)-gr(T[D+12]),la(b,k,0,0,O+(se=gr(T[D+4])+(35468*T[D+12]>>16))),la(b,k,1,0,B+K),la(b,k,2,0,B-K),la(b,k,3,0,O-se),D++,k+=32}function Wu(u,h,b,k){var _=u[h+0]+4,D=35468*u[h+4]>>16,T=gr(u[h+4]),O=35468*u[h+1]>>16;bo(b,k,0,_+T,u=gr(u[h+1]),O),bo(b,k,1,_+D,u,O),bo(b,k,2,_-D,u,O),bo(b,k,3,_-T,u,O)}function a0(u,h,b,k,_){Wl(u,h,b,k),_&&Wl(u,h+16,b,k+4)}function Hu(u,h,b,k){ai(u,h+0,b,k,1),ai(u,h+32,b,k+128,1)}function i0(u,h,b,k){var _;for(u=u[h+0]+4,_=0;4>_;++_)for(h=0;4>h;++h)la(b,k,h,_,u)}function Vu(u,h,b,k){u[h+0]&&ar(u,h+0,b,k),u[h+16]&&ar(u,h+16,b,k+4),u[h+32]&&ar(u,h+32,b,k+128),u[h+48]&&ar(u,h+48,b,k+128+4)}function s0(u,h,b,k){var _,D=i(16);for(_=0;4>_;++_){var T=u[h+0+_]+u[h+12+_],O=u[h+4+_]+u[h+8+_],B=u[h+4+_]-u[h+8+_],K=u[h+0+_]-u[h+12+_];D[0+_]=T+O,D[8+_]=T-O,D[4+_]=K+B,D[12+_]=K-B}for(_=0;4>_;++_)T=(u=D[0+4*_]+3)+D[3+4*_],O=D[1+4*_]+D[2+4*_],B=D[1+4*_]-D[2+4*_],K=u-D[3+4*_],b[k+0]=T+O>>3,b[k+16]=K+B>>3,b[k+32]=T-O>>3,b[k+48]=K-B>>3,k+=64}function Hl(u,h,b){var k,_=h-32,D=Er,T=255-u[_-1];for(k=0;k<b;++k){var O,B=D,K=T+u[h-1];for(O=0;O<b;++O)u[h+O]=B[K+u[_+O]];h+=32}}function o0(u,h){Hl(u,h,4)}function l0(u,h){Hl(u,h,8)}function c0(u,h){Hl(u,h,16)}function ei(u,h){var b;for(b=0;16>b;++b)r(u,h+32*b,u,h-32,16)}function wo(u,h){var b;for(b=16;0<b;--b)a(u,h,u[h-1],16),h+=32}function No(u,h,b){var k;for(k=0;16>k;++k)a(h,b+32*k,u,16)}function Ku(u,h){var b,k=16;for(b=0;16>b;++b)k+=u[h-1+32*b]+u[h+b-32];No(k>>5,u,h)}function Wn(u,h){var b,k=8;for(b=0;16>b;++b)k+=u[h-1+32*b];No(k>>4,u,h)}function u0(u,h){var b,k=8;for(b=0;16>b;++b)k+=u[h+b-32];No(k>>4,u,h)}function Gu(u,h){No(128,u,h)}function ot(u,h,b){return u+2*h+b+2>>2}function d0(u,h){var b,k=h-32;for(k=new Uint8Array([ot(u[k-1],u[k+0],u[k+1]),ot(u[k+0],u[k+1],u[k+2]),ot(u[k+1],u[k+2],u[k+3]),ot(u[k+2],u[k+3],u[k+4])]),b=0;4>b;++b)r(u,h+32*b,k,0,k.length)}function h0(u,h){var b=u[h-1],k=u[h-1+32],_=u[h-1+64],D=u[h-1+96];ge(u,h+0,16843009*ot(u[h-1-32],b,k)),ge(u,h+32,16843009*ot(b,k,_)),ge(u,h+64,16843009*ot(k,_,D)),ge(u,h+96,16843009*ot(_,D,D))}function Ea(u,h){var b,k=4;for(b=0;4>b;++b)k+=u[h+b-32]+u[h-1+32*b];for(k>>=3,b=0;4>b;++b)a(u,h+32*b,k,4)}function Yu(u,h){var b=u[h-1+0],k=u[h-1+32],_=u[h-1+64],D=u[h-1-32],T=u[h+0-32],O=u[h+1-32],B=u[h+2-32],K=u[h+3-32];u[h+0+96]=ot(k,_,u[h-1+96]),u[h+1+96]=u[h+0+64]=ot(b,k,_),u[h+2+96]=u[h+1+64]=u[h+0+32]=ot(D,b,k),u[h+3+96]=u[h+2+64]=u[h+1+32]=u[h+0+0]=ot(T,D,b),u[h+3+64]=u[h+2+32]=u[h+1+0]=ot(O,T,D),u[h+3+32]=u[h+2+0]=ot(B,O,T),u[h+3+0]=ot(K,B,O)}function Xu(u,h){var b=u[h+1-32],k=u[h+2-32],_=u[h+3-32],D=u[h+4-32],T=u[h+5-32],O=u[h+6-32],B=u[h+7-32];u[h+0+0]=ot(u[h+0-32],b,k),u[h+1+0]=u[h+0+32]=ot(b,k,_),u[h+2+0]=u[h+1+32]=u[h+0+64]=ot(k,_,D),u[h+3+0]=u[h+2+32]=u[h+1+64]=u[h+0+96]=ot(_,D,T),u[h+3+32]=u[h+2+64]=u[h+1+96]=ot(D,T,O),u[h+3+64]=u[h+2+96]=ot(T,O,B),u[h+3+96]=ot(O,B,B)}function jo(u,h){var b=u[h-1+0],k=u[h-1+32],_=u[h-1+64],D=u[h-1-32],T=u[h+0-32],O=u[h+1-32],B=u[h+2-32],K=u[h+3-32];u[h+0+0]=u[h+1+64]=D+T+1>>1,u[h+1+0]=u[h+2+64]=T+O+1>>1,u[h+2+0]=u[h+3+64]=O+B+1>>1,u[h+3+0]=B+K+1>>1,u[h+0+96]=ot(_,k,b),u[h+0+64]=ot(k,b,D),u[h+0+32]=u[h+1+96]=ot(b,D,T),u[h+1+32]=u[h+2+96]=ot(D,T,O),u[h+2+32]=u[h+3+96]=ot(T,O,B),u[h+3+32]=ot(O,B,K)}function Vl(u,h){var b=u[h+0-32],k=u[h+1-32],_=u[h+2-32],D=u[h+3-32],T=u[h+4-32],O=u[h+5-32],B=u[h+6-32],K=u[h+7-32];u[h+0+0]=b+k+1>>1,u[h+1+0]=u[h+0+64]=k+_+1>>1,u[h+2+0]=u[h+1+64]=_+D+1>>1,u[h+3+0]=u[h+2+64]=D+T+1>>1,u[h+0+32]=ot(b,k,_),u[h+1+32]=u[h+0+96]=ot(k,_,D),u[h+2+32]=u[h+1+96]=ot(_,D,T),u[h+3+32]=u[h+2+96]=ot(D,T,O),u[h+3+64]=ot(T,O,B),u[h+3+96]=ot(O,B,K)}function f0(u,h){var b=u[h-1+0],k=u[h-1+32],_=u[h-1+64],D=u[h-1+96];u[h+0+0]=b+k+1>>1,u[h+2+0]=u[h+0+32]=k+_+1>>1,u[h+2+32]=u[h+0+64]=_+D+1>>1,u[h+1+0]=ot(b,k,_),u[h+3+0]=u[h+1+32]=ot(k,_,D),u[h+3+32]=u[h+1+64]=ot(_,D,D),u[h+3+64]=u[h+2+64]=u[h+0+96]=u[h+1+96]=u[h+2+96]=u[h+3+96]=D}function p0(u,h){var b=u[h-1+0],k=u[h-1+32],_=u[h-1+64],D=u[h-1+96],T=u[h-1-32],O=u[h+0-32],B=u[h+1-32],K=u[h+2-32];u[h+0+0]=u[h+2+32]=b+T+1>>1,u[h+0+32]=u[h+2+64]=k+b+1>>1,u[h+0+64]=u[h+2+96]=_+k+1>>1,u[h+0+96]=D+_+1>>1,u[h+3+0]=ot(O,B,K),u[h+2+0]=ot(T,O,B),u[h+1+0]=u[h+3+32]=ot(b,T,O),u[h+1+32]=u[h+3+64]=ot(k,b,T),u[h+1+64]=u[h+3+96]=ot(_,k,b),u[h+1+96]=ot(D,_,k)}function m0(u,h){var b;for(b=0;8>b;++b)r(u,h+32*b,u,h-32,8)}function Kl(u,h){var b;for(b=0;8>b;++b)a(u,h,u[h-1],8),h+=32}function _s(u,h,b){var k;for(k=0;8>k;++k)a(h,b+32*k,u,8)}function Ei(u,h){var b,k=8;for(b=0;8>b;++b)k+=u[h+b-32]+u[h-1+32*b];_s(k>>4,u,h)}function g0(u,h){var b,k=4;for(b=0;8>b;++b)k+=u[h+b-32];_s(k>>3,u,h)}function Ls(u,h){var b,k=4;for(b=0;8>b;++b)k+=u[h-1+32*b];_s(k>>3,u,h)}function Gl(u,h){_s(128,u,h)}function So(u,h,b){var k=u[h-b],_=u[h+0],D=3*(_-k)+N0[1020+u[h-2*b]-u[h+b]],T=cd[112+(D+4>>3)];u[h-b]=Er[255+k+cd[112+(D+3>>3)]],u[h+0]=Er[255+_-T]}function Ju(u,h,b,k){var _=u[h+0],D=u[h+b];return Xr[255+u[h-2*b]-u[h-b]]>k||Xr[255+D-_]>k}function Qu(u,h,b,k){return 4*Xr[255+u[h-b]-u[h+0]]+Xr[255+u[h-2*b]-u[h+b]]<=k}function Zu(u,h,b,k,_){var D=u[h-3*b],T=u[h-2*b],O=u[h-b],B=u[h+0],K=u[h+b],se=u[h+2*b],pe=u[h+3*b];return 4*Xr[255+O-B]+Xr[255+T-K]>k?0:Xr[255+u[h-4*b]-D]<=_&&Xr[255+D-T]<=_&&Xr[255+T-O]<=_&&Xr[255+pe-se]<=_&&Xr[255+se-K]<=_&&Xr[255+K-B]<=_}function ed(u,h,b,k){var _=2*k+1;for(k=0;16>k;++k)Qu(u,h+k,b,_)&&So(u,h+k,b)}function Ia(u,h,b,k){var _=2*k+1;for(k=0;16>k;++k)Qu(u,h+k*b,1,_)&&So(u,h+k*b,1)}function ti(u,h,b,k){var _;for(_=3;0<_;--_)ed(u,h+=4*b,b,k)}function v0(u,h,b,k){var _;for(_=3;0<_;--_)Ia(u,h+=4,b,k)}function Ii(u,h,b,k,_,D,T,O){for(D=2*D+1;0<_--;){if(Zu(u,h,b,D,T))if(Ju(u,h,b,O))So(u,h,b);else{var B=u,K=h,se=b,pe=B[K-2*se],me=B[K-se],ue=B[K+0],ke=B[K+se],be=B[K+2*se],oe=27*(je=N0[1020+3*(ue-me)+N0[1020+pe-ke]])+63>>7,ce=18*je+63>>7,je=9*je+63>>7;B[K-3*se]=Er[255+B[K-3*se]+je],B[K-2*se]=Er[255+pe+ce],B[K-se]=Er[255+me+oe],B[K+0]=Er[255+ue-oe],B[K+se]=Er[255+ke-ce],B[K+2*se]=Er[255+be-je]}h+=k}}function ca(u,h,b,k,_,D,T,O){for(D=2*D+1;0<_--;){if(Zu(u,h,b,D,T))if(Ju(u,h,b,O))So(u,h,b);else{var B=u,K=h,se=b,pe=B[K-se],me=B[K+0],ue=B[K+se],ke=cd[112+((be=3*(me-pe))+4>>3)],be=cd[112+(be+3>>3)],oe=ke+1>>1;B[K-2*se]=Er[255+B[K-2*se]+oe],B[K-se]=Er[255+pe+be],B[K+0]=Er[255+me-ke],B[K+se]=Er[255+ue-oe]}h+=k}}function Yl(u,h,b,k,_,D){Ii(u,h,b,1,16,k,_,D)}function Es(u,h,b,k,_,D){Ii(u,h,1,b,16,k,_,D)}function y0(u,h,b,k,_,D){var T;for(T=3;0<T;--T)ca(u,h+=4*b,b,1,16,k,_,D)}function ko(u,h,b,k,_,D){var T;for(T=3;0<T;--T)ca(u,h+=4,1,b,16,k,_,D)}function x0(u,h,b,k,_,D,T,O){Ii(u,h,_,1,8,D,T,O),Ii(b,k,_,1,8,D,T,O)}function Xl(u,h,b,k,_,D,T,O){Ii(u,h,1,_,8,D,T,O),Ii(b,k,1,_,8,D,T,O)}function Jl(u,h,b,k,_,D,T,O){ca(u,h+4*_,_,1,8,D,T,O),ca(b,k+4*_,_,1,8,D,T,O)}function td(u,h,b,k,_,D,T,O){ca(u,h+4,1,_,8,D,T,O),ca(b,k+4,1,_,8,D,T,O)}function Co(){this.ba=new Pr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Gt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ql(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Zl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function nd(){this.ua=0,this.Wa=new ee,this.vb=new ee,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new V,this.yc=new L}function b0(){this.xb=this.a=0,this.l=new xo,this.ca=new Pr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new C,this.Pb=0,this.wd=new C,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new nd,this.ab=0,this.gc=s(4,Zl),this.Oc=0}function Ao(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new xo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Is(u,h,b,k,_,D,T){for(u=u==null?0:u[h+0],h=0;h<T;++h)_[D+h]=u+b[k+h]&255,u=_[D+h]}function ec(u,h,b,k,_,D,T){var O;if(u==null)Is(null,null,b,k,_,D,T);else for(O=0;O<T;++O)_[D+O]=u[h+O]+b[k+O]&255}function Di(u,h,b,k,_,D,T){if(u==null)Is(null,null,b,k,_,D,T);else{var O,B=u[h+0],K=B,se=B;for(O=0;O<T;++O)K=se+(B=u[h+O])-K,se=b[k+O]+(-256&K?0>K?0:255:K)&255,K=B,_[D+O]=se}}function tc(u,h,b,k){var _=h.width,D=h.o;if(t(u!=null&&h!=null),0>b||0>=k||b+k>D)return null;if(!u.Cc){if(u.ga==null){var T;if(u.ga=new Ao,(T=u.ga==null)||(T=h.width*h.o,t(u.Gb.length==0),u.Gb=i(T),u.Uc=0,u.Gb==null?T=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,T=1),T=!T),!T){T=u.ga;var O=u.Fa,B=u.P,K=u.qc,se=u.mb,pe=u.nb,me=B+1,ue=K-1,ke=T.l;if(t(O!=null&&se!=null&&h!=null),Bi[0]=null,Bi[1]=Is,Bi[2]=ec,Bi[3]=Di,T.ca=se,T.tb=pe,T.c=h.width,T.i=h.height,t(0<T.c&&0<T.i),1>=K)h=0;else if(T.$a=O[B+0]>>0&3,T.Z=O[B+0]>>2&3,T.Lc=O[B+0]>>4&3,B=O[B+0]>>6&3,0>T.$a||1<T.$a||4<=T.Z||1<T.Lc||B)h=0;else if(ke.put=Wr,ke.ac=wn,ke.bc=pr,ke.ma=T,ke.width=h.width,ke.height=h.height,ke.Da=h.Da,ke.v=h.v,ke.va=h.va,ke.j=h.j,ke.o=h.o,T.$a)e:{t(T.$a==1),h=Mt();t:for(;;){if(h==null){h=0;break e}if(t(T!=null),T.mc=h,h.c=T.c,h.i=T.i,h.l=T.l,h.l.ma=T,h.l.width=T.c,h.l.height=T.i,h.a=0,U(h.m,O,me,ue),!Un(T.c,T.i,1,h,null)||(h.ab==1&&h.gc[0].hc==3&&fe(h.s)?(T.ic=1,O=h.c*h.i,h.Ta=null,h.Ua=0,h.V=i(O),h.Ba=0,h.V==null?(h.a=1,h=0):h=1):(T.ic=0,h=mr(h,T.c)),!h))break t;h=1;break e}T.mc=null,h=0}else h=ue>=T.c*T.i;T=!h}if(T)return null;u.ga.Lc!=1?u.Ga=0:k=D-b}t(u.ga!=null),t(b+k<=D);e:{if(h=(O=u.ga).c,D=O.l.o,O.$a==0){if(me=u.rc,ue=u.Vc,ke=u.Fa,B=u.P+1+b*h,K=u.mb,se=u.nb+b*h,t(B<=u.P+u.qc),O.Z!=0)for(t(Bi[O.Z]!=null),T=0;T<k;++T)Bi[O.Z](me,ue,ke,B,K,se,h),me=K,ue=se,se+=h,B+=h;else for(T=0;T<k;++T)r(K,se,ke,B,h),me=K,ue=se,se+=h,B+=h;u.rc=me,u.Vc=ue}else{if(t(O.mc!=null),h=b+k,t((T=O.mc)!=null),t(h<=T.i),T.C>=h)h=1;else if(O.ic||he(),O.ic){O=T.V,me=T.Ba,ue=T.c;var be=T.i,oe=(ke=1,B=T.$/ue,K=T.$%ue,se=T.m,pe=T.s,T.$),ce=ue*be,je=ue*h,Pe=pe.wc,Se=oe<je?Jt(pe,K,B):null;t(oe<=ce),t(h<=be),t(fe(pe));t:for(;;){for(;!se.h&&oe<je;){if(K&Pe||(Se=Jt(pe,K,B)),t(Se!=null),ae(se),256>(be=Tn(Se.G[0],Se.H[0],se)))O[me+oe]=be,++oe,++K>=ue&&(K=0,++B<=h&&!(B%16)&&Oe(T,B));else{if(!(280>be)){ke=0;break t}be=_r(be-256,se);var ze,Te=Tn(Se.G[4],Se.H[4],se);if(ae(se),!(oe>=(Te=Hr(ue,Te=_r(Te,se)))&&ce-oe>=be)){ke=0;break t}for(ze=0;ze<be;++ze)O[me+oe+ze]=O[me+oe+ze-Te];for(oe+=be,K+=be;K>=ue;)K-=ue,++B<=h&&!(B%16)&&Oe(T,B);oe<je&&K&Pe&&(Se=Jt(pe,K,B))}t(se.h==z(se))}Oe(T,B>h?h:B);break t}!ke||se.h&&oe<ce?(ke=0,T.a=se.h?5:3):T.$=oe,h=ke}else h=Qe(T,T.V,T.Ba,T.c,T.i,h,oa);if(!h){k=0;break e}}b+k>=D&&(u.Cc=1),k=1}if(!k)return null;if(u.Cc&&((k=u.ga)!=null&&(k.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+b*_}function y(u,h,b,k,_,D){for(;0<_--;){var T,O=u,B=h+(b?1:0),K=u,se=h+(b?0:3);for(T=0;T<k;++T){var pe=K[se+4*T];pe!=255&&(pe*=32897,O[B+4*T+0]=O[B+4*T+0]*pe>>23,O[B+4*T+1]=O[B+4*T+1]*pe>>23,O[B+4*T+2]=O[B+4*T+2]*pe>>23)}h+=D}}function E(u,h,b,k,_){for(;0<k--;){var D;for(D=0;D<b;++D){var T=u[h+2*D+0],O=15&(K=u[h+2*D+1]),B=4369*O,K=(240&K|K>>4)*B>>16;u[h+2*D+0]=(240&T|T>>4)*B>>16&240|(15&T|T<<4)*B>>16>>4&15,u[h+2*D+1]=240&K|O}h+=_}}function G(u,h,b,k,_,D,T,O){var B,K,se=255;for(K=0;K<_;++K){for(B=0;B<k;++B){var pe=u[h+B];D[T+4*B]=pe,se&=pe}h+=b,T+=O}return se!=255}function ie(u,h,b,k,_){var D;for(D=0;D<_;++D)b[k+D]=u[h+D]>>8}function he(){Yr=y,$t=E,zt=G,dn=ie}function we(u,h,b){F[u]=function(k,_,D,T,O,B,K,se,pe,me,ue,ke,be,oe,ce,je,Pe){var Se,ze=Pe-1>>1,Te=O[B+0]|K[se+0]<<16,Ze=pe[me+0]|ue[ke+0]<<16;t(k!=null);var Fe=3*Te+Ze+131074>>2;for(h(k[_+0],255&Fe,Fe>>16,be,oe),D!=null&&(Fe=3*Ze+Te+131074>>2,h(D[T+0],255&Fe,Fe>>16,ce,je)),Se=1;Se<=ze;++Se){var kt=O[B+Se]|K[se+Se]<<16,Lt=pe[me+Se]|ue[ke+Se]<<16,Nt=Te+kt+Ze+Lt+524296,vt=Nt+2*(kt+Ze)>>3;Fe=vt+Te>>1,Te=(Nt=Nt+2*(Te+Lt)>>3)+kt>>1,h(k[_+2*Se-1],255&Fe,Fe>>16,be,oe+(2*Se-1)*b),h(k[_+2*Se-0],255&Te,Te>>16,be,oe+(2*Se-0)*b),D!=null&&(Fe=Nt+Ze>>1,Te=vt+Lt>>1,h(D[T+2*Se-1],255&Fe,Fe>>16,ce,je+(2*Se-1)*b),h(D[T+2*Se+0],255&Te,Te>>16,ce,je+(2*Se+0)*b)),Te=kt,Ze=Lt}1&Pe||(Fe=3*Te+Ze+131074>>2,h(k[_+Pe-1],255&Fe,Fe>>16,be,oe+(Pe-1)*b),D!=null&&(Fe=3*Ze+Te+131074>>2,h(D[T+Pe-1],255&Fe,Fe>>16,ce,je+(Pe-1)*b)))}}function Le(){Jr[ud]=ww,Jr[dd]=Lg,Jr[kg]=Nw,Jr[hd]=Eg,Jr[fd]=Ig,Jr[j0]=Dg,Jr[Cg]=jw,Jr[S0]=Lg,Jr[k0]=Eg,Jr[pd]=Ig,Jr[C0]=Dg}function Be(u){return u&~Sw?0>u?0:255:u>>Mg}function Ge(u,h){return Be((19077*u>>8)+(26149*h>>8)-14234)}function dt(u,h,b){return Be((19077*u>>8)-(6419*h>>8)-(13320*b>>8)+8708)}function lt(u,h){return Be((19077*u>>8)+(33050*h>>8)-17685)}function bt(u,h,b,k,_){k[_+0]=Ge(u,b),k[_+1]=dt(u,h,b),k[_+2]=lt(u,h)}function Qt(u,h,b,k,_){k[_+0]=lt(u,h),k[_+1]=dt(u,h,b),k[_+2]=Ge(u,b)}function rn(u,h,b,k,_){var D=dt(u,h,b);h=D<<3&224|lt(u,h)>>3,k[_+0]=248&Ge(u,b)|D>>5,k[_+1]=h}function gn(u,h,b,k,_){var D=240&lt(u,h)|15;k[_+0]=240&Ge(u,b)|dt(u,h,b)>>4,k[_+1]=D}function Hn(u,h,b,k,_){k[_+0]=255,bt(u,h,b,k,_+1)}function _n(u,h,b,k,_){Qt(u,h,b,k,_),k[_+3]=255}function ua(u,h,b,k,_){bt(u,h,b,k,_),k[_+3]=255}function Lr(u,h){return 0>u?0:u>h?h:u}function Da(u,h,b){F[u]=function(k,_,D,T,O,B,K,se,pe){for(var me=se+(-2&pe)*b;se!=me;)h(k[_+0],D[T+0],O[B+0],K,se),h(k[_+1],D[T+0],O[B+0],K,se+b),_+=2,++T,++B,se+=2*b;1&pe&&h(k[_+0],D[T+0],O[B+0],K,se)}}function rd(u,h,b){return b==0?u==0?h==0?6:5:h==0?4:0:b}function nc(u,h,b,k,_){switch(u>>>30){case 3:ai(h,b,k,_,0);break;case 2:un(h,b,k,_);break;case 1:ar(h,b,k,_)}}function rc(u,h){var b,k,_=h.M,D=h.Nb,T=u.oc,O=u.pc+40,B=u.oc,K=u.pc+584,se=u.oc,pe=u.pc+600;for(b=0;16>b;++b)T[O+32*b-1]=129;for(b=0;8>b;++b)B[K+32*b-1]=129,se[pe+32*b-1]=129;for(0<_?T[O-1-32]=B[K-1-32]=se[pe-1-32]=129:(a(T,O-32-1,127,21),a(B,K-32-1,127,9),a(se,pe-32-1,127,9)),k=0;k<u.za;++k){var me=h.ya[h.aa+k];if(0<k){for(b=-1;16>b;++b)r(T,O+32*b-4,T,O+32*b+12,4);for(b=-1;8>b;++b)r(B,K+32*b-4,B,K+32*b+4,4),r(se,pe+32*b-4,se,pe+32*b+4,4)}var ue=u.Gd,ke=u.Hd+k,be=me.ad,oe=me.Hc;if(0<_&&(r(T,O-32,ue[ke].y,0,16),r(B,K-32,ue[ke].f,0,8),r(se,pe-32,ue[ke].ea,0,8)),me.Za){var ce=T,je=O-32+16;for(0<_&&(k>=u.za-1?a(ce,je,ue[ke].y[15],4):r(ce,je,ue[ke+1].y,0,4)),b=0;4>b;b++)ce[je+128+b]=ce[je+256+b]=ce[je+384+b]=ce[je+0+b];for(b=0;16>b;++b,oe<<=2)ce=T,je=O+Fg[b],da[me.Ob[b]](ce,je),nc(oe,be,16*+b,ce,je)}else if(ce=rd(k,_,me.Ob[0]),Ri[ce](T,O),oe!=0)for(b=0;16>b;++b,oe<<=2)nc(oe,be,16*+b,T,O+Fg[b]);for(b=me.Gc,ce=rd(k,_,me.Dd),si[ce](B,K),si[ce](se,pe),oe=be,ce=B,je=K,255&(me=b>>0)&&(170&me?lc(oe,256,ce,je):Kr(oe,256,ce,je)),me=se,oe=pe,255&(b>>=8)&&(170&b?lc(be,320,me,oe):Kr(be,320,me,oe)),_<u.Ub-1&&(r(ue[ke].y,0,T,O+480,16),r(ue[ke].f,0,B,K+224,8),r(ue[ke].ea,0,se,pe+224,8)),b=8*D*u.B,ue=u.sa,ke=u.ta+16*k+16*D*u.R,be=u.qa,me=u.ra+8*k+b,oe=u.Ha,ce=u.Ia+8*k+b,b=0;16>b;++b)r(ue,ke+b*u.R,T,O+32*b,16);for(b=0;8>b;++b)r(be,me+b*u.B,B,K+32*b,8),r(oe,ce+b*u.B,se,pe+32*b,8)}}function Po(u,h,b,k,_,D,T,O,B){var K=[0],se=[0],pe=0,me=B!=null?B.kd:0,ue=B??new Ql;if(u==null||12>b)return 7;ue.data=u,ue.w=h,ue.ha=b,h=[h],b=[b],ue.gb=[ue.gb];e:{var ke=h,be=b,oe=ue.gb;if(t(u!=null),t(be!=null),t(oe!=null),oe[0]=0,12<=be[0]&&!n(u,ke[0],"RIFF")){if(n(u,ke[0]+8,"WEBP")){oe=3;break e}var ce=_e(u,ke[0]+4);if(12>ce||4294967286<ce){oe=3;break e}if(me&&ce>be[0]-8){oe=7;break e}oe[0]=ce,ke[0]+=12,be[0]-=12}oe=0}if(oe!=0)return oe;for(ce=0<ue.gb[0],b=b[0];;){e:{var je=u;be=h,oe=b;var Pe=K,Se=se,ze=ke=[0];if((Fe=pe=[pe])[0]=0,8>oe[0])oe=7;else{if(!n(je,be[0],"VP8X")){if(_e(je,be[0]+4)!=10){oe=3;break e}if(18>oe[0]){oe=7;break e}var Te=_e(je,be[0]+8),Ze=1+ve(je,be[0]+12);if(2147483648<=Ze*(je=1+ve(je,be[0]+15))){oe=3;break e}ze!=null&&(ze[0]=Te),Pe!=null&&(Pe[0]=Ze),Se!=null&&(Se[0]=je),be[0]+=18,oe[0]-=18,Fe[0]=1}oe=0}}if(pe=pe[0],ke=ke[0],oe!=0)return oe;if(be=!!(2&ke),!ce&&pe)return 3;if(D!=null&&(D[0]=!!(16&ke)),T!=null&&(T[0]=be),O!=null&&(O[0]=0),T=K[0],ke=se[0],pe&&be&&B==null){oe=0;break}if(4>b){oe=7;break}if(ce&&pe||!ce&&!pe&&!n(u,h[0],"ALPH")){b=[b],ue.na=[ue.na],ue.P=[ue.P],ue.Sa=[ue.Sa];e:{Te=u,oe=h,ce=b;var Fe=ue.gb;Pe=ue.na,Se=ue.P,ze=ue.Sa,Ze=22,t(Te!=null),t(ce!=null),je=oe[0];var kt=ce[0];for(t(Pe!=null),t(ze!=null),Pe[0]=null,Se[0]=null,ze[0]=0;;){if(oe[0]=je,ce[0]=kt,8>kt){oe=7;break e}var Lt=_e(Te,je+4);if(4294967286<Lt){oe=3;break e}var Nt=8+Lt+1&-2;if(Ze+=Nt,0<Fe&&Ze>Fe){oe=3;break e}if(!n(Te,je,"VP8 ")||!n(Te,je,"VP8L")){oe=0;break e}if(kt[0]<Nt){oe=7;break e}n(Te,je,"ALPH")||(Pe[0]=Te,Se[0]=je+8,ze[0]=Lt),je+=Nt,kt-=Nt}}if(b=b[0],ue.na=ue.na[0],ue.P=ue.P[0],ue.Sa=ue.Sa[0],oe!=0)break}b=[b],ue.Ja=[ue.Ja],ue.xa=[ue.xa];e:if(Fe=u,oe=h,ce=b,Pe=ue.gb[0],Se=ue.Ja,ze=ue.xa,Te=oe[0],je=!n(Fe,Te,"VP8 "),Ze=!n(Fe,Te,"VP8L"),t(Fe!=null),t(ce!=null),t(Se!=null),t(ze!=null),8>ce[0])oe=7;else{if(je||Ze){if(Fe=_e(Fe,Te+4),12<=Pe&&Fe>Pe-12){oe=3;break e}if(me&&Fe>ce[0]-8){oe=7;break e}Se[0]=Fe,oe[0]+=8,ce[0]-=8,ze[0]=Ze}else ze[0]=5<=ce[0]&&Fe[Te+0]==47&&!(Fe[Te+4]>>5),Se[0]=ce[0];oe=0}if(b=b[0],ue.Ja=ue.Ja[0],ue.xa=ue.xa[0],h=h[0],oe!=0)break;if(4294967286<ue.Ja)return 3;if(O==null||be||(O[0]=ue.xa?2:1),T=[T],ke=[ke],ue.xa){if(5>b){oe=7;break}O=T,me=ke,be=D,u==null||5>b?u=0:5<=b&&u[h+0]==47&&!(u[h+4]>>5)?(ce=[0],Fe=[0],Pe=[0],U(Se=new C,u,h,b),Je(Se,ce,Fe,Pe)?(O!=null&&(O[0]=ce[0]),me!=null&&(me[0]=Fe[0]),be!=null&&(be[0]=Pe[0]),u=1):u=0):u=0}else{if(10>b){oe=7;break}O=ke,u==null||10>b||!zu(u,h+3,b-3)?u=0:(me=u[h+0]|u[h+1]<<8|u[h+2]<<16,be=16383&(u[h+7]<<8|u[h+6]),u=16383&(u[h+9]<<8|u[h+8]),1&me||3<(me>>1&7)||!(me>>4&1)||me>>5>=ue.Ja||!be||!u?u=0:(T&&(T[0]=be),O&&(O[0]=u),u=1))}if(!u||(T=T[0],ke=ke[0],pe&&(K[0]!=T||se[0]!=ke)))return 3;B!=null&&(B[0]=ue,B.offset=h-B.w,t(4294967286>h-B.w),t(B.offset==B.ha-b));break}return oe==0||oe==7&&pe&&B==null?(D!=null&&(D[0]|=ue.na!=null&&0<ue.na.length),k!=null&&(k[0]=T),_!=null&&(_[0]=ke),0):oe}function ac(u,h,b){var k=h.width,_=h.height,D=0,T=0,O=k,B=_;if(h.Da=u!=null&&0<u.Da,h.Da&&(O=u.cd,B=u.bd,D=u.v,T=u.j,11>b||(D&=-2,T&=-2),0>D||0>T||0>=O||0>=B||D+O>k||T+B>_))return 0;if(h.v=D,h.j=T,h.va=D+O,h.o=T+B,h.U=O,h.T=B,h.da=u!=null&&0<u.da,h.da){if(!Ye(O,B,b=[u.ib],D=[u.hb]))return 0;h.ib=b[0],h.hb=D[0]}return h.ob=u!=null&&u.ob,h.Kb=u==null||!u.Sd,h.da&&(h.ob=h.ib<3*k/4&&h.hb<3*_/4,h.Kb=0),1}function ic(u){if(u==null)return 2;if(11>u.S){var h=u.f.RGBA;h.fb+=(u.height-1)*h.A,h.A=-h.A}else h=u.f.kb,u=u.height,h.O+=(u-1)*h.fa,h.fa=-h.fa,h.N+=(u-1>>1)*h.Ab,h.Ab=-h.Ab,h.W+=(u-1>>1)*h.Db,h.Db=-h.Db,h.F!=null&&(h.J+=(u-1)*h.lb,h.lb=-h.lb);return 0}function _o(u,h,b,k){if(k==null||0>=u||0>=h)return 2;if(b!=null){if(b.Da){var _=b.cd,D=b.bd,T=-2&b.v,O=-2&b.j;if(0>T||0>O||0>=_||0>=D||T+_>u||O+D>h)return 2;u=_,h=D}if(b.da){if(!Ye(u,h,_=[b.ib],D=[b.hb]))return 2;u=_[0],h=D[0]}}k.width=u,k.height=h;e:{var B=k.width,K=k.height;if(u=k.S,0>=B||0>=K||!(u>=ud&&13>u))u=2;else{if(0>=k.Rd&&k.sd==null){T=D=_=h=0;var se=(O=B*Og[u])*K;if(11>u||(D=(K+1)/2*(h=(B+1)/2),u==12&&(T=(_=B)*K)),(K=i(se+2*D+T))==null){u=1;break e}k.sd=K,11>u?((B=k.f.RGBA).eb=K,B.fb=0,B.A=O,B.size=se):((B=k.f.kb).y=K,B.O=0,B.fa=O,B.Fd=se,B.f=K,B.N=0+se,B.Ab=h,B.Cd=D,B.ea=K,B.W=0+se+D,B.Db=h,B.Ed=D,u==12&&(B.F=K,B.J=0+se+2*D),B.Tc=T,B.lb=_)}if(h=1,_=k.S,D=k.width,T=k.height,_>=ud&&13>_)if(11>_)u=k.f.RGBA,h&=(O=Math.abs(u.A))*(T-1)+D<=u.size,h&=O>=D*Og[_],h&=u.eb!=null;else{u=k.f.kb,O=(D+1)/2,se=(T+1)/2,B=Math.abs(u.fa),K=Math.abs(u.Ab);var pe=Math.abs(u.Db),me=Math.abs(u.lb),ue=me*(T-1)+D;h&=B*(T-1)+D<=u.Fd,h&=K*(se-1)+O<=u.Cd,h=(h&=pe*(se-1)+O<=u.Ed)&B>=D&K>=O&pe>=O,h&=u.y!=null,h&=u.f!=null,h&=u.ea!=null,_==12&&(h&=me>=D,h&=ue<=u.Tc,h&=u.F!=null)}else h=0;u=h?0:2}}return u!=0||b!=null&&b.fd&&(u=ic(k)),u}var Fn=64,Lo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Eo=24,Io=32,sc=8,vr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Me("Predictor0","PredictorAdd0"),F.Predictor0=function(){return 4278190080},F.Predictor1=function(u){return u},F.Predictor2=function(u,h,b){return h[b+0]},F.Predictor3=function(u,h,b){return h[b+1]},F.Predictor4=function(u,h,b){return h[b-1]},F.Predictor5=function(u,h,b){return Ie(Ie(u,h[b+1]),h[b+0])},F.Predictor6=function(u,h,b){return Ie(u,h[b-1])},F.Predictor7=function(u,h,b){return Ie(u,h[b+0])},F.Predictor8=function(u,h,b){return Ie(h[b-1],h[b+0])},F.Predictor9=function(u,h,b){return Ie(h[b+0],h[b+1])},F.Predictor10=function(u,h,b){return Ie(Ie(u,h[b-1]),Ie(h[b+0],h[b+1]))},F.Predictor11=function(u,h,b){var k=h[b+0];return 0>=ut(k>>24&255,u>>24&255,(h=h[b-1])>>24&255)+ut(k>>16&255,u>>16&255,h>>16&255)+ut(k>>8&255,u>>8&255,h>>8&255)+ut(255&k,255&u,255&h)?k:u},F.Predictor12=function(u,h,b){var k=h[b+0];return(Ke((u>>24&255)+(k>>24&255)-((h=h[b-1])>>24&255))<<24|Ke((u>>16&255)+(k>>16&255)-(h>>16&255))<<16|Ke((u>>8&255)+(k>>8&255)-(h>>8&255))<<8|Ke((255&u)+(255&k)-(255&h)))>>>0},F.Predictor13=function(u,h,b){var k=h[b-1];return(tt((u=Ie(u,h[b+0]))>>24&255,k>>24&255)<<24|tt(u>>16&255,k>>16&255)<<16|tt(u>>8&255,k>>8&255)<<8|tt(u>>0&255,k>>0&255))>>>0};var w0=F.PredictorAdd0;F.PredictorAdd1=ft,Me("Predictor2","PredictorAdd2"),Me("Predictor3","PredictorAdd3"),Me("Predictor4","PredictorAdd4"),Me("Predictor5","PredictorAdd5"),Me("Predictor6","PredictorAdd6"),Me("Predictor7","PredictorAdd7"),Me("Predictor8","PredictorAdd8"),Me("Predictor9","PredictorAdd9"),Me("Predictor10","PredictorAdd10"),Me("Predictor11","PredictorAdd11"),Me("Predictor12","PredictorAdd12"),Me("Predictor13","PredictorAdd13");var oc=F.PredictorAdd2;pt("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),pt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var ad,Vr=F.ColorIndexInverseTransform,Do=F.MapARGB,id=F.VP8LColorIndexInverseTransformAlpha,sd=F.MapAlpha,Mi=F.VP8LPredictorsAdd=[];Mi.length=16,(F.VP8LPredictors=[]).length=16,(F.VP8LPredictorsAdd_C=[]).length=16,(F.VP8LPredictors_C=[]).length=16;var Ds,yr,rr,Ti,ni,ri,Mo,ai,un,lc,ar,Kr,To,od,cc,Ms,Ts,Fi,Fs,Fo,Os,Oi,uc,Gr,Yr,$t,zt,dn,Nn=i(511),ii=i(2041),dc=i(225),Oo=i(767),ld=0,N0=ii,cd=dc,Er=Oo,Xr=Nn,ud=0,dd=1,kg=2,hd=3,fd=4,j0=5,Cg=6,S0=7,k0=8,pd=9,C0=10,ow=[2,3,7],lw=[3,3,11],Ag=[280,256,256,256,40],cw=[0,1,1,1,0],uw=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],dw=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],hw=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],fw=8,A0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],P0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],hc=null,pw=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],mw=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Pg=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],gw=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],vw=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],yw=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],xw=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ri=[],da=[],si=[],bw=1,_g=2,Bi=[],Jr=[];we("UpsampleRgbLinePair",bt,3),we("UpsampleBgrLinePair",Qt,3),we("UpsampleRgbaLinePair",ua,4),we("UpsampleBgraLinePair",_n,4),we("UpsampleArgbLinePair",Hn,4),we("UpsampleRgba4444LinePair",gn,2),we("UpsampleRgb565LinePair",rn,2);var ww=F.UpsampleRgbLinePair,Nw=F.UpsampleBgrLinePair,Lg=F.UpsampleRgbaLinePair,Eg=F.UpsampleBgraLinePair,Ig=F.UpsampleArgbLinePair,Dg=F.UpsampleRgba4444LinePair,jw=F.UpsampleRgb565LinePair,md=16,gd=1<<md-1,fc=-227,_0=482,Mg=6,Sw=(256<<Mg)-1,Tg=0,kw=i(256),Cw=i(256),Aw=i(256),Pw=i(256),_w=i(_0-fc),Lw=i(_0-fc);Da("YuvToRgbRow",bt,3),Da("YuvToBgrRow",Qt,3),Da("YuvToRgbaRow",ua,4),Da("YuvToBgraRow",_n,4),Da("YuvToArgbRow",Hn,4),Da("YuvToRgba4444Row",gn,2),Da("YuvToRgb565Row",rn,2);var Fg=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],vd=[0,2,8],Ew=[8,7,6,4,4,2,2,2,1,1,1,1],Iw=1;this.WebPDecodeRGBA=function(u,h,b,k,_){var D=dd,T=new Co,O=new Pr;T.ba=O,O.S=D,O.width=[O.width],O.height=[O.height];var B=O.width,K=O.height,se=new sa;if(se==null||u==null)var pe=2;else t(se!=null),pe=Po(u,h,b,se.width,se.height,se.Pd,se.Qd,se.format,null);if(pe!=0?B=0:(B!=null&&(B[0]=se.width[0]),K!=null&&(K[0]=se.height[0]),B=1),B){O.width=O.width[0],O.height=O.height[0],k!=null&&(k[0]=O.width),_!=null&&(_[0]=O.height);e:{if(k=new xo,(_=new Ql).data=u,_.w=h,_.ha=b,_.kd=1,h=[0],t(_!=null),((u=Po(_.data,_.w,_.ha,null,null,null,h,null,_))==0||u==7)&&h[0]&&(u=4),(h=u)==0){if(t(T!=null),k.data=_.data,k.w=_.w+_.offset,k.ha=_.ha-_.offset,k.put=Wr,k.ac=wn,k.bc=pr,k.ma=T,_.xa){if((u=Mt())==null){T=1;break e}if(function(me,ue){var ke=[0],be=[0],oe=[0];t:for(;;){if(me==null)return 0;if(ue==null)return me.a=2,0;if(me.l=ue,me.a=0,U(me.m,ue.data,ue.w,ue.ha),!Je(me.m,ke,be,oe)){me.a=3;break t}if(me.xb=_g,ue.width=ke[0],ue.height=be[0],!Un(ke[0],be[0],1,me,null))break t;return 1}return t(me.a!=0),0}(u,k)){if(k=(h=_o(k.width,k.height,T.Oa,T.ba))==0){t:{k=u;n:for(;;){if(k==null){k=0;break t}if(t(k.s.yc!=null),t(k.s.Ya!=null),t(0<k.s.Wb),t((b=k.l)!=null),t((_=b.ma)!=null),k.xb!=0){if(k.ca=_.ba,k.tb=_.tb,t(k.ca!=null),!ac(_.Oa,b,hd)){k.a=2;break n}if(!mr(k,b.width)||b.da)break n;if((b.da||wt(k.ca.S))&&he(),11>k.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),k.ca.f.kb.F!=null&&he()),k.Pb&&0<k.s.ua&&k.s.vb.X==null&&!qe(k.s.vb,k.s.Wa.Xa)){k.a=1;break n}k.xb=0}if(!Qe(k,k.V,k.Ba,k.c,k.i,b.o,Qa))break n;_.Dc=k.Ma,k=1;break t}t(k.a!=0),k=0}k=!k}k&&(h=u.a)}else h=u.a}else{if((u=new n0)==null){T=1;break e}if(u.Fa=_.na,u.P=_.P,u.qc=_.Sa,qu(u,k)){if((h=_o(k.width,k.height,T.Oa,T.ba))==0){if(u.Aa=0,b=T.Oa,t((_=u)!=null),b!=null){if(0<(B=0>(B=b.Md)?0:100<B?255:255*B/100)){for(K=se=0;4>K;++K)12>(pe=_.pb[K]).lc&&(pe.ia=B*Ew[0>pe.lc?0:pe.lc]>>3),se|=pe.ia;se&&(alert("todo:VP8InitRandom"),_.ia=1)}_.Ga=b.Id,100<_.Ga?_.Ga=100:0>_.Ga&&(_.Ga=0)}r0(u,k)||(h=u.a)}}else h=u.a}h==0&&T.Oa!=null&&T.Oa.fd&&(h=ic(T.ba))}T=h}D=T!=0?null:11>D?O.f.RGBA.eb:O.f.kb.y}else D=null;return D};var Og=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(F,H){for(var re="",I=0;I<4;I++)re+=String.fromCharCode(F[H++]);return re}function p(F,H){return(F[H+0]<<0|F[H+1]<<8|F[H+2]<<16)>>>0}function f(F,H){return(F[H+0]<<0|F[H+1]<<8|F[H+2]<<16|F[H+3]<<24)>>>0}new c;var v=[0],m=[0],j=[],w=new c,S=e,g=function(F,H){var re={},I=0,L=!1,Y=0,V=0;if(re.frames=[],!function(A,z,J,ae){for(var le=0;le<ae;le++)if(A[z+le]!=J.charCodeAt(le))return!0;return!1}(F,H,"RIFF",4)){for(f(F,H+=4),H+=8;H<F.length;){var X=d(F,H),Z=f(F,H+=4);H+=4;var ne=Z+(1&Z);switch(X){case"VP8 ":case"VP8L":re.frames[I]===void 0&&(re.frames[I]={}),(te=re.frames[I]).src_off=L?V:H-8,te.src_size=Y+Z+8,I++,L&&(L=!1,Y=0,V=0);break;case"VP8X":(te=re.header={}).feature_flags=F[H];var U=H+4;te.canvas_width=1+p(F,U),U+=3,te.canvas_height=1+p(F,U),U+=3;break;case"ALPH":L=!0,Y=ne+8,V=H-8;break;case"ANIM":(te=re.header).bgcolor=f(F,H),U=H+4,te.loop_count=(ye=F)[(C=U)+0]<<0|ye[C+1]<<8,U+=2;break;case"ANMF":var Q,te;(te=re.frames[I]={}).offset_x=2*p(F,H),H+=3,te.offset_y=2*p(F,H),H+=3,te.width=1+p(F,H),H+=3,te.height=1+p(F,H),H+=3,te.duration=p(F,H),H+=3,Q=F[H++],te.dispose=1&Q,te.blend=Q>>1&1}X!="ANMF"&&(H+=ne)}var ye,C;return re}}(S,0);g.response=S,g.rgbaoutput=!0,g.dataurl=!1;var x=g.header?g.header:null,N=g.frames?g.frames:null;if(x){x.loop_counter=x.loop_count,v=[x.canvas_height],m=[x.canvas_width];for(var P=0;P<N.length&&N[P].blend!=0;P++);}var R=N[0],q=w.WebPDecodeRGBA(S,R.src_off,R.src_size,m,v);R.rgba=q,R.imgwidth=m[0],R.imgheight=v[0];for(var M=0;M<m[0]*v[0]*4;M++)j[M]=q[M];return this.width=m,this.height=v,this.data=j,this}(function(e){var t=function(){return typeof a1=="function"},n=function(v,m,j,w){var S=4,g=s;switch(w){case e.image_compression.FAST:S=1,g=i;break;case e.image_compression.MEDIUM:S=6,g=l;break;case e.image_compression.SLOW:S=9,g=c}v=r(v,m,j,g);var x=a1(v,{level:S});return e.__addimage__.arrayBufferToBinaryString(x)},r=function(v,m,j,w){for(var S,g,x,N=v.length/m,P=new Uint8Array(v.length+N),R=p(),q=0;q<N;q+=1){if(x=q*m,S=v.subarray(x,x+m),w)P.set(w(S,j,g),x+q);else{for(var M,F=R.length,H=[];M<F;M+=1)H[M]=R[M](S,j,g);var re=f(H.concat());P.set(H[re],x+q)}g=S}return P},a=function(v){var m=Array.apply([],v);return m.unshift(0),m},i=function(v,m){var j,w=[],S=v.length;w[0]=1;for(var g=0;g<S;g+=1)j=v[g-m]||0,w[g+1]=v[g]-j+256&255;return w},s=function(v,m,j){var w,S=[],g=v.length;S[0]=2;for(var x=0;x<g;x+=1)w=j&&j[x]||0,S[x+1]=v[x]-w+256&255;return S},l=function(v,m,j){var w,S,g=[],x=v.length;g[0]=3;for(var N=0;N<x;N+=1)w=v[N-m]||0,S=j&&j[N]||0,g[N+1]=v[N]+256-(w+S>>>1)&255;return g},c=function(v,m,j){var w,S,g,x,N=[],P=v.length;N[0]=4;for(var R=0;R<P;R+=1)w=v[R-m]||0,S=j&&j[R]||0,g=j&&j[R-m]||0,x=d(w,S,g),N[R+1]=v[R]-x+256&255;return N},d=function(v,m,j){if(v===m&&m===j)return v;var w=Math.abs(m-j),S=Math.abs(v-j),g=Math.abs(v+m-j-j);return w<=S&&w<=g?v:S<=g?m:j},p=function(){return[a,i,s,l,c]},f=function(v){var m=v.map(function(j){return j.reduce(function(w,S){return w+Math.abs(S)},0)});return m.indexOf(Math.min.apply(null,m))};e.processPNG=function(v,m,j,w){var S,g,x,N,P,R,q,M,F,H,re,I,L,Y,V,X=this.decode.FLATE_DECODE,Z="";if(this.__addimage__.isArrayBuffer(v)&&(v=new Uint8Array(v)),this.__addimage__.isArrayBufferView(v)){if(v=(x=new bC(v)).imgData,g=x.bits,S=x.colorSpace,P=x.colors,[4,6].indexOf(x.colorType)!==-1){if(x.bits===8){F=(M=x.pixelBitlength==32?new Uint32Array(x.decodePixels().buffer):x.pixelBitlength==16?new Uint16Array(x.decodePixels().buffer):new Uint8Array(x.decodePixels().buffer)).length,re=new Uint8Array(F*x.colors),H=new Uint8Array(F);var ne,U=x.pixelBitlength-x.bits;for(Y=0,V=0;Y<F;Y++){for(L=M[Y],ne=0;ne<U;)re[V++]=L>>>ne&255,ne+=x.bits;H[Y]=L>>>ne&255}}if(x.bits===16){F=(M=new Uint32Array(x.decodePixels().buffer)).length,re=new Uint8Array(F*(32/x.pixelBitlength)*x.colors),H=new Uint8Array(F*(32/x.pixelBitlength)),I=x.colors>1,Y=0,V=0;for(var Q=0;Y<F;)L=M[Y++],re[V++]=L>>>0&255,I&&(re[V++]=L>>>16&255,L=M[Y++],re[V++]=L>>>0&255),H[Q++]=L>>>16&255;g=8}w!==e.image_compression.NONE&&t()?(v=n(re,x.width*x.colors,x.colors,w),q=n(H,x.width,1,w)):(v=re,q=H,X=void 0)}if(x.colorType===3&&(S=this.color_spaces.INDEXED,R=x.palette,x.transparency.indexed)){var te=x.transparency.indexed,ye=0;for(Y=0,F=te.length;Y<F;++Y)ye+=te[Y];if((ye/=255)===F-1&&te.indexOf(0)!==-1)N=[te.indexOf(0)];else if(ye!==F){for(M=x.decodePixels(),H=new Uint8Array(M.length),Y=0,F=M.length;Y<F;Y++)H[Y]=te[M[Y]];q=n(H,x.width,1)}}var C=function(A){var z;switch(A){case e.image_compression.FAST:z=11;break;case e.image_compression.MEDIUM:z=13;break;case e.image_compression.SLOW:z=14;break;default:z=12}return z}(w);return X===this.decode.FLATE_DECODE&&(Z="/Predictor "+C+" "),Z+="/Colors "+P+" /BitsPerComponent "+g+" /Columns "+x.width,(this.__addimage__.isArrayBuffer(v)||this.__addimage__.isArrayBufferView(v))&&(v=this.__addimage__.arrayBufferToBinaryString(v)),(q&&this.__addimage__.isArrayBuffer(q)||this.__addimage__.isArrayBufferView(q))&&(q=this.__addimage__.arrayBufferToBinaryString(q)),{alias:j,data:v,index:m,filter:X,decodeParameters:Z,transparency:N,palette:R,sMask:q,predictor:C,width:x.width,height:x.height,bitsPerComponent:g,colorSpace:S}}}})(rt.API),function(e){e.processGIF89A=function(t,n,r,a){var i=new wC(t),s=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:s,height:l},p=new Ap(100).encode(d,100);return e.processJPEG.call(this,p,n,r,a)},e.processGIF87A=e.processGIF89A}(rt.API),ga.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:r,blue:n,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ga.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Ot.log("bit decode error:"+n)}},ga.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[s+4*l]=c.blue,this.data[s+4*l+1]=c.green,this.data[s+4*l+2]=c.red,this.data[s+4*l+3]=255}n!==0&&(this.pos+=4-n)}},ga.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*a*4,l=i>>4,c=15&i,d=this.palette[l];if(this.data[s]=d.blue,this.data[s+1]=d.green,this.data[s+2]=d.red,this.data[s+3]=255,2*a+1>=this.width)break;d=this.palette[c],this.data[s+4]=d.blue,this.data[s+4+1]=d.green,this.data[s+4+2]=d.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},ga.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+4*r;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},ga.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,d=i>>15?255:0,p=r*this.width*4+4*a;this.data[p]=c,this.data[p+1]=l,this.data[p+2]=s,this.data[p+3]=d}this.pos+=e}},ga.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&t)/t*255|0,c=(s>>5&n)/n*255|0,d=(s>>11)/t*255|0,p=a*this.width*4+4*i;this.data[p]=d,this.data[p+1]=c,this.data[p+2]=l,this.data[p+3]=255}this.pos+=e}},ga.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},ga.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*n;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=r,this.data[l+3]=s}},ga.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,a){var i=new ga(t,!1),s=i.width,l=i.height,c={data:i.getData(),width:s,height:l},d=new Ap(100).encode(c,100);return e.processJPEG.call(this,d,n,r,a)}}(rt.API),Zv.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,a){var i=new Zv(t),s=i.width,l=i.height,c={data:i.getData(),width:s,height:l},d=new Ap(100).encode(c,100);return e.processJPEG.call(this,d,n,r,a)}}(rt.API),rt.API.processRGBA=function(e,t,n){for(var r=e.data,a=r.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),l=0,c=0,d=0;d<a;d+=4){var p=r[d],f=r[d+1],v=r[d+2],m=r[d+3];i[l++]=p,i[l++]=f,i[l++]=v,s[c++]=m}var j=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:j,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},rt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ko=rt.API,nh=Ko.getCharWidthsArray=function(e,t){var n,r,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,d=t.kerning?t.kerning:a.metadata.Unicode.kerning,p=d.fof?d.fof:1,f=t.doKerning!==!1,v=0,m=e.length,j=0,w=l[0]||c,S=[];for(n=0;n<m;n++)r=e.charCodeAt(n),typeof a.metadata.widthOfString=="function"?S.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(r))+s*(1e3/i)||0)/1e3):(v=f&&At(d[r])==="object"&&!isNaN(parseInt(d[r][j],10))?d[r][j]/p:0,S.push((l[r]||w)/c+v)),j=r;return S},Yv=Ko.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Ko.processArabic&&(e=Ko.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,a)/n:nh.apply(this,arguments).reduce(function(i,s){return i+s},0)},Xv=function(e,t,n,r){for(var a=[],i=0,s=e.length,l=0;i!==s&&l+t[i]<n;)l+=t[i],i++;a.push(e.slice(0,i));var c=i;for(l=0;i!==s;)l+t[i]>r&&(a.push(e.slice(c,i)),l=0,c=i),l+=t[i],i++;return c!==i&&a.push(e.slice(c,i)),a},Jv=function(e,t,n){n||(n={});var r,a,i,s,l,c,d,p=[],f=[p],v=n.textIndent||0,m=0,j=0,w=e.split(" "),S=nh.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?w[0].length+2:n.lineIndent||0){var g=Array(c).join(" "),x=[];w.map(function(P){(P=P.split(/\s*\n/)).length>1?x=x.concat(P.map(function(R,q){return(q&&R.length?`
`:"")+R})):x.push(P[0])}),w=x,c=Yv.apply(this,[g,n])}for(i=0,s=w.length;i<s;i++){var N=0;if(r=w[i],c&&r[0]==`
`&&(r=r.substr(1),N=1),v+m+(j=(a=nh.apply(this,[r,n])).reduce(function(P,R){return P+R},0))>t||N){if(j>t){for(l=Xv.apply(this,[r,a,t-(v+m),t]),p.push(l.shift()),p=[l.pop()];l.length;)f.push([l.shift()]);j=a.slice(r.length-(p[0]?p[0].length:0)).reduce(function(P,R){return P+R},0)}else p=[r];f.push(p),v=j+c,m=S}else p.push(r),v+=m+j,m=S}return d=c?function(P,R){return(R?g:"")+P.join(" ")}:function(P){return P.join(" ")},f.map(d)},Ko.splitTextToSize=function(e,t,n){var r,a=(n=n||{}).fontSize||this.internal.getFontSize(),i=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var f=this.internal.getFont(p.fontName,p.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/a;i.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=n.lineIndent;var l,c,d=[];for(l=0,c=r.length;l<c;l++)d=d.concat(Jv.apply(this,[r[l],s,i]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},a=0;a<t.length;a++)n[t[a]]="0123456789abcdef"[a],r["0123456789abcdef"[a]]=t[a];var i=function(f){return"0x"+parseInt(f,10).toString(16)},s=e.__fontmetrics__.compress=function(f){var v,m,j,w,S=["{"];for(var g in f){if(v=f[g],isNaN(parseInt(g,10))?m="'"+g+"'":(g=parseInt(g,10),m=(m=i(g).slice(2)).slice(0,-1)+r[m.slice(-1)]),typeof v=="number")v<0?(j=i(v).slice(3),w="-"):(j=i(v).slice(2),w=""),j=w+j.slice(0,-1)+r[j.slice(-1)];else{if(At(v)!=="object")throw new Error("Don't know what to do with value type "+At(v)+".");j=s(v)}S.push(m+j)}return S.push("}"),S.join("")},l=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var v,m,j,w,S={},g=1,x=S,N=[],P="",R="",q=f.length-1,M=1;M<q;M+=1)(w=f[M])=="'"?v?(j=v.join(""),v=void 0):v=[]:v?v.push(w):w=="{"?(N.push([x,j]),x={},j=void 0):w=="}"?((m=N.pop())[0][m[1]]=x,j=void 0,x=m[0]):w=="-"?g=-1:j===void 0?n.hasOwnProperty(w)?(P+=n[w],j=parseInt(P,16)*g,g=1,P=""):P+=w:n.hasOwnProperty(w)?(R+=n[w],x[j]=parseInt(R,16)*g,g=1,j=void 0,R=""):R+=w;return S},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},p={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var v=f.font,m=p.Unicode[v.postScriptName];m&&(v.metadata.Unicode={},v.metadata.Unicode.widths=m.widths,v.metadata.Unicode.kerning=m.kerning);var j=d.Unicode[v.postScriptName];j&&(v.metadata.Unicode.encoding=j,v.encoding=j.codePages[0])}])}(rt.API),function(e){var t=function(n){for(var r=n.length,a=new Uint8Array(r),i=0;i<r;i++)a[i]=n.charCodeAt(i);return a};e.API.events.push(["addFont",function(n){var r=void 0,a=n.font,i=n.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(r=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(Xc(l)),s.metadata=e.API.TTFFont.open(l),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,r)}}])}(rt),function(e){function t(){return(at.canvg?Promise.resolve(at.canvg):Zm(()=>import("./index.es-26a9ff6a.js"),[],import.meta.url)).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}rt.API.addSvgAsImage=function(n,r,a,i,s,l,c,d){if(isNaN(r)||isNaN(a))throw Ot.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw Ot.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=i,p.height=s;var f=p.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,p.width,p.height);var v={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return t().then(function(j){return j.fromString(f,n,v)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(j){return j.render(v)}).then(function(){m.addImage(p.toDataURL("image/jpeg",1),r,a,i,s,c,d)})}}(),rt.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var a=0;a<this.internal.pages[r].length;a++)this.internal.pages[r][a]=this.internal.pages[r][a].replace(t,n);return this},rt.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(s),c=[],d=0,p=0,f=0;function v(j,w){var S,g=!1;for(S=0;S<j.length;S+=1)j[S]===w&&(g=!0);return g}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var m=l.length;for(f=0;f<m;f+=1)n[l[f]].value=n[l[f]].defaultValue,n[l[f]].explicitSet=!1}if(At(e)==="object"){for(a in e)if(i=e[a],v(l,a)&&i!==void 0){if(n[a].type==="boolean"&&typeof i=="boolean")n[a].value=i;else if(n[a].type==="name"&&v(n[a].valueSet,i))n[a].value=i;else if(n[a].type==="integer"&&Number.isInteger(i))n[a].value=i;else if(n[a].type==="array"){for(d=0;d<i.length;d+=1)if(r=!0,i[d].length===1&&typeof i[d][0]=="number")c.push(String(i[d]-1));else if(i[d].length>1){for(p=0;p<i[d].length;p+=1)typeof i[d][p]!="number"&&(r=!1);r===!0&&c.push([i[d][0]-1,i[d][1]-1].join(" "))}n[a].value="["+c.join(" ")+"]"}else n[a].value=n[a].defaultValue;n[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var j,w=[];for(j in n)n[j].explicitSet===!0&&(n[j].type==="name"?w.push("/"+j+" /"+n[j].value):w.push("/"+j+" "+n[j].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+s.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+i+s+l+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(rt.API),function(e){var t=e.API,n=t.pdfEscape16=function(i,s){for(var l,c=s.metadata.Unicode.widths,d=["","0","00","000","0000"],p=[""],f=0,v=i.length;f<v;++f){if(l=s.metadata.characterToGlyph(i.charCodeAt(f)),s.metadata.glyIdsUsed.push(l),s.metadata.toUnicode[l]=i.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(s.metadata.widthOfGlyph(l),10)])),l=="0")return p.join("");l=l.toString(16),p.push(d[4-l.length],l)}return p.join("")},r=function(i){var s,l,c,d,p,f,v;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,v=(l=Object.keys(i).sort(function(m,j){return m-j})).length;f<v;f++)s=l[f],c.length>=100&&(p+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(d=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+d+">"));return c.length&&(p+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),p+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(s){var l=s.font,c=s.out,d=s.newObject,p=s.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,v=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),m="",j=0;j<v.length;j++)m+=String.fromCharCode(v[j]);var w=d();p({data:m,addLength1:!0,objectId:w}),c("endobj");var S=d();p({data:r(l.metadata.toUnicode),addLength1:!0,objectId:S}),c("endobj");var g=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Xo(l.fontName)),c("/FontFile2 "+w+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var x=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+Xo(l.fontName)),c("/FontDescriptor "+g+" 0 R"),c("/W "+e.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+S+" 0 R"),c("/BaseFont /"+Xo(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+x+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(s){var l=s.font,c=s.out,d=s.newObject,p=s.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,v="",m=0;m<f.length;m++)v+=String.fromCharCode(f[m]);var j=d();p({data:v,addLength1:!0,objectId:j}),c("endobj");var w=d();p({data:r(l.metadata.toUnicode),addLength1:!0,objectId:w}),c("endobj");var S=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+j+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Xo(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var g=0;g<l.metadata.hmtx.widths.length;g++)l.metadata.hmtx.widths[g]=parseInt(l.metadata.hmtx.widths[g]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+Xo(l.fontName)+"/FontDescriptor "+S+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,l=i.text||"",c=i.x,d=i.y,p=i.options||{},f=i.mutex||{},v=f.pdfEscape,m=f.activeFontKey,j=f.fonts,w=m,S="",g=0,x="",N=j[w].encoding;if(j[w].encoding!=="Identity-H")return{text:l,x:c,y:d,options:p,mutex:f};for(x=l,w=m,Array.isArray(l)&&(x=l[0]),g=0;g<x.length;g+=1)j[w].metadata.hasOwnProperty("cmap")&&(s=j[w].metadata.cmap.unicode.codeMap[x[g].charCodeAt(0)]),s||x[g].charCodeAt(0)<256&&j[w].metadata.hasOwnProperty("Unicode")?S+=x[g]:S+="";var P="";return parseInt(w.slice(1))<14||N==="WinAnsiEncoding"?P=v(S,w).split("").map(function(R){return R.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(P=n(S,j[w])),f.isHex=!0,{text:P,x:c,y:d,options:p,mutex:f}};t.events.push(["postProcessText",function(i){var s=i.text||"",l=[],c={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var d=0;for(d=0;d<s.length;d+=1)Array.isArray(s[d])&&s[d].length===3?l.push([a(Object.assign({},c,{text:s[d][0]})).text,s[d][1],s[d][2]]):l.push(a(Object.assign({},c,{text:s[d]})).text);i.text=l}else i.text=a(Object.assign({},c,{text:s})).text}])}(rt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(rt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var a,i,s,l,c,d,p,f=t,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],j={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},S=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,N=0;this.__bidiEngine__={};var P=function(I){var L=I.charCodeAt(),Y=L>>8,V=w[Y];return V!==void 0?f[256*V+(255&L)]:Y===252||Y===253?"AL":g.test(Y)?"L":Y===8?"R":"N"},R=function(I){for(var L,Y=0;Y<I.length;Y++){if((L=P(I.charAt(Y)))==="L")return!1;if(L==="R")return!0}return!1},q=function(I,L,Y,V){var X,Z,ne,U,Q=L[V];switch(Q){case"L":case"R":x=!1;break;case"N":case"AN":break;case"EN":x&&(Q="AN");break;case"AL":x=!0,Q="R";break;case"WS":Q="N";break;case"CS":V<1||V+1>=L.length||(X=Y[V-1])!=="EN"&&X!=="AN"||(Z=L[V+1])!=="EN"&&Z!=="AN"?Q="N":x&&(Z="AN"),Q=Z===X?Z:"N";break;case"ES":Q=(X=V>0?Y[V-1]:"B")==="EN"&&V+1<L.length&&L[V+1]==="EN"?"EN":"N";break;case"ET":if(V>0&&Y[V-1]==="EN"){Q="EN";break}if(x){Q="N";break}for(ne=V+1,U=L.length;ne<U&&L[ne]==="ET";)ne++;Q=ne<U&&L[ne]==="EN"?"EN":"N";break;case"NSM":if(s&&!l){for(U=L.length,ne=V+1;ne<U&&L[ne]==="NSM";)ne++;if(ne<U){var te=I[V],ye=te>=1425&&te<=2303||te===64286;if(X=L[ne],ye&&(X==="R"||X==="AL")){Q="R";break}}}Q=V<1||(X=L[V-1])==="B"?"N":Y[V-1];break;case"B":x=!1,a=!0,Q=N;break;case"S":i=!0,Q="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"BN":Q="N"}return Q},M=function(I,L,Y){var V=I.split("");return Y&&F(V,Y,{hiLevel:N}),V.reverse(),L&&L.reverse(),V.join("")},F=function(I,L,Y){var V,X,Z,ne,U,Q=-1,te=I.length,ye=0,C=[],A=N?m:v,z=[];for(x=!1,a=!1,i=!1,X=0;X<te;X++)z[X]=P(I[X]);for(Z=0;Z<te;Z++){if(U=ye,C[Z]=q(I,z,C,Z),V=240&(ye=A[U][j[C[Z]]]),ye&=15,L[Z]=ne=A[ye][5],V>0)if(V===16){for(X=Q;X<Z;X++)L[X]=1;Q=-1}else Q=-1;if(A[ye][6])Q===-1&&(Q=Z);else if(Q>-1){for(X=Q;X<Z;X++)L[X]=ne;Q=-1}z[Z]==="B"&&(L[Z]=0),Y.hiLevel|=ne}i&&function(J,ae,le){for(var de=0;de<le;de++)if(J[de]==="S"){ae[de]=N;for(var $=de-1;$>=0&&J[$]==="WS";$--)ae[$]=N}}(z,L,te)},H=function(I,L,Y,V,X){if(!(X.hiLevel<I)){if(I===1&&N===1&&!a)return L.reverse(),void(Y&&Y.reverse());for(var Z,ne,U,Q,te=L.length,ye=0;ye<te;){if(V[ye]>=I){for(U=ye+1;U<te&&V[U]>=I;)U++;for(Q=ye,ne=U-1;Q<ne;Q++,ne--)Z=L[Q],L[Q]=L[ne],L[ne]=Z,Y&&(Z=Y[Q],Y[Q]=Y[ne],Y[ne]=Z);ye=U}ye++}}},re=function(I,L,Y){var V=I.split(""),X={hiLevel:N};return Y||(Y=[]),F(V,Y,X),function(Z,ne,U){if(U.hiLevel!==0&&p)for(var Q,te=0;te<Z.length;te++)ne[te]===1&&(Q=S.indexOf(Z[te]))>=0&&(Z[te]=S[Q+1])}(V,Y,X),H(2,V,L,Y,X),H(1,V,L,Y,X),V.join("")};return this.__bidiEngine__.doBidiReorder=function(I,L,Y){if(function(X,Z){if(Z)for(var ne=0;ne<X.length;ne++)Z[ne]=ne;l===void 0&&(l=R(X)),d===void 0&&(d=R(X))}(I,L),s||!c||d)if(s&&c&&l^d)N=l?1:0,I=M(I,L,Y);else if(!s&&c&&d)N=l?1:0,I=re(I,L,Y),I=M(I,L);else if(!s||l||c||d){if(s&&!c&&l^d)I=M(I,L),l?(N=0,I=re(I,L,Y)):(N=1,I=re(I,L,Y),I=M(I,L));else if(s&&l&&!c&&d)N=1,I=re(I,L,Y),I=M(I,L);else if(!s&&!c&&l^d){var V=p;l?(N=1,I=re(I,L,Y),N=0,p=!1,I=re(I,L,Y),p=V):(N=0,I=re(I,L,Y),I=M(I,L),N=1,p=!1,I=re(I,L,Y),p=V,I=M(I,L))}}else N=0,I=re(I,L,Y);else N=l?1:0,I=re(I,L,Y);return I},this.__bidiEngine__.setOptions=function(I){I&&(s=I.isInputVisual,c=I.isOutputVisual,l=I.isInputRtl,d=I.isOutputRtl,p=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var a=r.text;r.x,r.y;var i=r.options||{};r.mutex,i.lang;var s=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,n.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(s=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?s.push([n.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):s.push([n.doBidiReorder(a[l])]);r.text=s}else r.text=n.doBidiReorder(a);n.setOptions({isInputVisual:!0})}])}(rt),rt.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new js(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new FC(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new NC(this.contents),this.head=new SC(this),this.name=new _C(this),this.cmap=new tw(this),this.toUnicode={},this.hhea=new kC(this),this.maxp=new LC(this),this.hmtx=new EC(this),this.post=new AC(this),this.os2=new CC(this),this.loca=new TC(this),this.glyf=new IC(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,l,c,d;for(d=[],s=0,l=(c=this.bbox).length;s<l;s++)t=c[s],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(a=this.post.italic_angle),32768&(n=a>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var a,i,s,l;for(s=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=t.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+r*(1e3/n)||0;return s*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var Pa,js=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,a;for(a=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)a.push(this.writeByte(t.charCodeAt(n)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,a,i,s,l,c;return t=this.readByte(),n=this.readByte(),r=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*a+16777216*i+65536*s+256*l+c},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,a,i;for(i=[],r=0,a=t.length;r<a;r++)n=t[r],i.push(this.writeByte(n));return i},e}(),NC=function(){var e;function t(n){var r,a,i;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,a,i,s,l,c,d,p,f,v,m,j,w;for(w in m=Object.keys(n).length,c=Math.log(2),f=16*Math.floor(Math.log(m)/c),s=Math.floor(f/c),p=16*m-f,(a=new js).writeInt(this.scalarType),a.writeShort(m),a.writeShort(f),a.writeShort(s),a.writeShort(p),i=16*m,d=a.pos+i,l=null,j=[],n)for(v=n[w],a.writeString(w),a.writeInt(e(v)),a.writeInt(d),a.writeInt(v.length),j=j.concat(v),w==="head"&&(l=d),d+=v.length;d%4;)j.push(0),d++;return a.write(j),r=2981146554-e(a.data),a.pos=l+8,a.writeUInt32(r),a.data},e=function(n){var r,a,i,s;for(n=nw.call(n);n.length%4;)n.push(0);for(i=new js(n),a=0,r=0,s=n.length;r<s;r=r+=4)a+=i.readUInt32();return 4294967295&a},t}(),jC={}.hasOwnProperty,Ya=function(e,t){for(var n in t)jC.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Pa=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var SC=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ya(t,Pa),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new js).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),ey=function(){function e(t,n){var r,a,i,s,l,c,d,p,f,v,m,j,w,S,g,x,N;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(m=t.readUInt16(),v=m/2,t.pos+=6,i=function(){var P,R;for(R=[],c=P=0;0<=v?P<v:P>v;c=0<=v?++P:--P)R.push(t.readUInt16());return R}(),t.pos+=2,w=function(){var P,R;for(R=[],c=P=0;0<=v?P<v:P>v;c=0<=v?++P:--P)R.push(t.readUInt16());return R}(),d=function(){var P,R;for(R=[],c=P=0;0<=v?P<v:P>v;c=0<=v?++P:--P)R.push(t.readUInt16());return R}(),p=function(){var P,R;for(R=[],c=P=0;0<=v?P<v:P>v;c=0<=v?++P:--P)R.push(t.readUInt16());return R}(),a=(this.length-t.pos+this.offset)/2,l=function(){var P,R;for(R=[],c=P=0;0<=a?P<a:P>a;c=0<=a?++P:--P)R.push(t.readUInt16());return R}(),c=g=0,N=i.length;g<N;c=++g)for(S=i[c],r=x=j=w[c];j<=S?x<=S:x>=S;r=j<=S?++x:--x)p[c]===0?s=r+d[c]:(s=l[p[c]/2+(r-j)-(v-c)]||0)!==0&&(s+=d[c]),this.codeMap[r]=65535&s}t.pos=f}return e.encode=function(t,n){var r,a,i,s,l,c,d,p,f,v,m,j,w,S,g,x,N,P,R,q,M,F,H,re,I,L,Y,V,X,Z,ne,U,Q,te,ye,C,A,z,J,ae,le,de,$,ge,Ne,ve;switch(V=new js,s=Object.keys(t).sort(function(_e,qe){return _e-qe}),n){case"macroman":for(w=0,S=function(){var _e=[];for(j=0;j<256;++j)_e.push(0);return _e}(),x={0:0},i={},X=0,Q=s.length;X<Q;X++)x[$=t[a=s[X]]]==null&&(x[$]=++w),i[a]={old:t[a],new:x[t[a]]},S[a]=x[t[a]];return V.writeUInt16(1),V.writeUInt16(0),V.writeUInt32(12),V.writeUInt16(0),V.writeUInt16(262),V.writeUInt16(0),V.write(S),{charMap:i,subtable:V.data,maxGlyphID:w+1};case"unicode":for(L=[],f=[],N=0,x={},r={},g=d=null,Z=0,te=s.length;Z<te;Z++)x[R=t[a=s[Z]]]==null&&(x[R]=++N),r[a]={old:R,new:x[R]},l=x[R]-a,g!=null&&l===d||(g&&f.push(g),L.push(a),d=l),g=a;for(g&&f.push(g),f.push(65535),L.push(65535),re=2*(H=L.length),F=2*Math.pow(Math.log(H)/Math.LN2,2),v=Math.log(F/2)/Math.LN2,M=2*H-F,c=[],q=[],m=[],j=ne=0,ye=L.length;ne<ye;j=++ne){if(I=L[j],p=f[j],I===65535){c.push(0),q.push(0);break}if(I-(Y=r[I].new)>=32768)for(c.push(0),q.push(2*(m.length+H-j)),a=U=I;I<=p?U<=p:U>=p;a=I<=p?++U:--U)m.push(r[a].new);else c.push(Y-I),q.push(0)}for(V.writeUInt16(3),V.writeUInt16(1),V.writeUInt32(12),V.writeUInt16(4),V.writeUInt16(16+8*H+2*m.length),V.writeUInt16(0),V.writeUInt16(re),V.writeUInt16(F),V.writeUInt16(v),V.writeUInt16(M),le=0,C=f.length;le<C;le++)a=f[le],V.writeUInt16(a);for(V.writeUInt16(0),de=0,A=L.length;de<A;de++)a=L[de],V.writeUInt16(a);for(ge=0,z=c.length;ge<z;ge++)l=c[ge],V.writeUInt16(l);for(Ne=0,J=q.length;Ne<J;Ne++)P=q[Ne],V.writeUInt16(P);for(ve=0,ae=m.length;ve<ae;ve++)w=m[ve],V.writeUInt16(w);return{charMap:r,subtable:V.data,maxGlyphID:N+1}}},e}(),tw=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ya(t,Pa),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,a,i;for(n.pos=this.offset,this.version=n.readUInt16(),i=n.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)r=new ey(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var a,i;return r==null&&(r="macroman"),a=ey.encode(n,r),(i=new js).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),kC=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ya(t,Pa),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),CC=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ya(t,Pa),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,a;for(a=[],r=0;r<10;++r)a.push(n.readByte());return a}(),this.charRange=function(){var r,a;for(a=[],r=0;r<4;++r)a.push(n.readInt());return a}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,a;for(a=[],r=0;r<2;r=++r)a.push(n.readInt());return a}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),AC=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ya(t,Pa),t.prototype.tag="post",t.prototype.parse=function(n){var r,a,i;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var s;for(a=n.readUInt16(),this.glyphNameIndex=[],s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],i=[];n.pos<this.offset+this.length;)r=n.readByte(),i.push(this.names.push(n.readString(r)));return i;case 151552:return a=n.readUInt16(),this.offsets=n.read(a);case 196608:break;case 262144:return this.map=(function(){var l,c,d;for(d=[],s=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;s=0<=c?++l:--l)d.push(n.readUInt32());return d}).call(this)}},t}(),PC=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},_C=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ya(t,Pa),t.prototype.tag="name",t.prototype.parse=function(n){var r,a,i,s,l,c,d,p,f,v,m;for(n.pos=this.offset,n.readShort(),r=n.readShort(),c=n.readShort(),a=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)a.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+c+n.readShort()});for(d={},s=f=0,v=a.length;f<v;s=++f)i=a[s],n.pos=i.offset,p=n.readString(i.length),l=new PC(p,i),d[m=i.nameID]==null&&(d[m]=[]),d[i.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},t}(),LC=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ya(t,Pa),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),EC=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ya(t,Pa),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,a,i,s,l,c,d;for(n.pos=this.offset,this.metrics=[],r=0,c=this.file.hhea.numberOfMetrics;0<=c?r<c:r>c;r=0<=c?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var p,f;for(f=[],r=p=0;0<=i?p<i:p>i;r=0<=i?++p:--p)f.push(n.readInt16());return f}(),this.widths=(function(){var p,f,v,m;for(m=[],p=0,f=(v=this.metrics).length;p<f;p++)s=v[p],m.push(s.advance);return m}).call(this),a=this.widths[this.widths.length-1],d=[],r=l=0;0<=i?l<i:l>i;r=0<=i?++l:--l)d.push(this.widths.push(a));return d},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),nw=[].slice,IC=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ya(t,Pa),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,a,i,s,l,c,d,p,f,v;return n in this.cache?this.cache[n]:(s=this.file.loca,r=this.file.contents,a=s.indexOf(n),(i=s.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+a,l=(c=new js(r.read(i))).readShort(),p=c.readShort(),v=c.readShort(),d=c.readShort(),f=c.readShort(),this.cache[n]=l===-1?new MC(c,p,v,d,f):new DC(c,l,p,v,d,f),this.cache[n]))},t.prototype.encode=function(n,r,a){var i,s,l,c,d;for(l=[],s=[],c=0,d=r.length;c<d;c++)i=n[r[c]],s.push(l.length),i&&(l=l.concat(i.encode(a)));return s.push(l.length),{table:l,offsets:s}},t}(),DC=function(){function e(t,n,r,a,i,s){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),MC=function(){function e(t,n,r,a,i){var s,l;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;l=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&l;)s.pos+=1&l?4:2,128&l?s.pos+=8:64&l?s.pos+=4:8&l&&(s.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new js(nw.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),TC=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ya(t,Pa),t.prototype.tag="loca",t.prototype.parse=function(n){var r,a;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=2)s.push(2*n.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=4)s.push(n.readUInt32());return s}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var a=new Uint32Array(this.offsets.length),i=0,s=0,l=0;l<a.length;++l)if(a[l]=i,s<r.length&&r[s]==l){++s,a[l]=i;var c=this.offsets[l],d=this.offsets[l+1]-c;d>0&&(i+=d)}for(var p=new Array(4*a.length),f=0;f<a.length;++f)p[4*f+3]=255&a[f],p[4*f+2]=(65280&a[f])>>8,p[4*f+1]=(16711680&a[f])>>16,p[4*f]=(4278190080&a[f])>>24;return p},t}(),FC=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,a,i;for(n in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)r=i[n],t[n]=a[r];return t},e.prototype.glyphsFor=function(t){var n,r,a,i,s,l,c;for(a={},s=0,l=t.length;s<l;s++)a[i=t[s]]=this.font.glyf.glyphFor(i);for(i in n=[],a)(r=a[i])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(i in c=this.glyphsFor(n))r=c[i],a[i]=r;return a},e.prototype.encode=function(t,n){var r,a,i,s,l,c,d,p,f,v,m,j,w,S,g;for(a in r=tw.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),m={0:0},g=r.charMap)m[(c=g[a]).old]=c.new;for(j in v=r.maxGlyphID,s)j in m||(m[j]=v++);return p=function(x){var N,P;for(N in P={},x)P[x[N]]=N;return P}(m),f=Object.keys(p).sort(function(x,N){return x-N}),w=function(){var x,N,P;for(P=[],x=0,N=f.length;x<N;x++)l=f[x],P.push(p[l]);return P}(),i=this.font.glyf.encode(s,w,m),d=this.font.loca.encode(i.offsets,w),S={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(S["OS/2"]=this.font.os2.raw()),this.font.directory.encode(S)},e}();rt.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,a,i,s;if(Array.isArray(n))return"["+function(){var l,c,d;for(d=[],l=0,c=n.length;l<c;l++)r=n[l],d.push(t.convert(r));return d}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(a in i=["<<"],n)s=n[a],i.push("/"+a+" "+t.convert(s));return i.push(">>"),i.join(`
`)}return""+n},t}();const OC=e=>{try{const t=new rt({orientation:"portrait",unit:"pt",format:[226,800]});let n=20;const r=226,a=10,i=10,s=r-a-i;t.setFontSize(14),t.setFont("helvetica","bold");const l=t.getTextWidth(e.restaurantName),c=(r-l)/2;t.text(e.restaurantName,c,n),n+=20,t.setLineWidth(.5),t.line(a,n,r-i,n),n+=10,t.setFontSize(9),t.setFont("helvetica","normal");const d=new Date;if(t.text(`Fecha: ${d.toLocaleDateString("es-ES")}`,a,n),n+=12,t.text(`Hora: ${d.toLocaleTimeString("es-ES")}`,a,n),n+=12,t.text(`Mesa: ${e.tableNumber}`,a,n),n+=15,e.selectedCustomer){t.setFontSize(9),t.setFont("helvetica","bold"),t.text("CLIENTE:",a,n),n+=12,t.setFontSize(9),t.setFont("helvetica","normal");const N=`${e.selectedCustomer.name} ${e.selectedCustomer.lastName}`;t.text(N,a,n),n+=12,e.selectedCustomer.email&&(t.text(`Email: ${e.selectedCustomer.email}`,a,n),n+=12),e.selectedCustomer.phone&&(t.text(`Tel: ${e.selectedCustomer.phone}`,a,n),n+=12),e.selectedCustomer.cardCode&&(t.text(`Tarjeta: ${e.selectedCustomer.cardCode}`,a,n),n+=12),n+=5}t.line(a,n,r-i,n),n+=10,e.orderItems.forEach(N=>{t.setFontSize(10),t.setFont("helvetica","bold"),t.text(N.productName,a,n),n+=12,t.setFontSize(9),t.setFont("helvetica","normal");const P=`${N.quantity} x ${e.currencySymbol}${N.unitPrice.toFixed(2)}`,R=`${e.currencySymbol}${N.totalPrice.toFixed(2)}`;t.text(P,a,n);const q=t.getTextWidth(R);t.text(R,r-i-q,n),n+=15}),t.line(a,n,r-i,n),n+=10,t.setFontSize(10),t.setFont("helvetica","normal");const p=`Subtotal: ${e.currencySymbol}${e.subtotal.toFixed(2)}`,f=t.getTextWidth(p);t.text(p,r-i-f,n),n+=12;const v=`IVA: ${e.currencySymbol}${e.tax.toFixed(2)}`,m=t.getTextWidth(v);t.text(v,r-i-m,n),n+=12,t.setFontSize(12),t.setFont("helvetica","bold");const j=`TOTAL: ${e.currencySymbol}${e.total.toFixed(2)}`,w=t.getTextWidth(j);if(t.text(j,r-i-w,n),n+=20,e.useBalance&&e.balanceAmount&&e.balanceAmount>0){t.line(a,n,r-i,n),n+=10,t.setFontSize(11),t.setFont("helvetica","bold"),t.text("PAGO CON SALDO",a,n),n+=15,t.setFontSize(9),t.setFont("helvetica","normal");const N=`Saldo usado: ${e.currencySymbol}${e.balanceAmount.toFixed(2)}`,P=t.getTextWidth(N);if(t.text(N,r-i-P,n),n+=12,e.selectedCustomer){const R=e.selectedCustomer.balance-e.balanceAmount,q=`Saldo restante: ${e.currencySymbol}${R.toFixed(2)}`,M=t.getTextWidth(q);t.text(q,r-i-M,n),n+=12}if(e.remainingAmount&&e.remainingAmount>0){const q=`Resto pagado con: ${e.remainingPaymentMethod==="cash"?"Efectivo":"Tarjeta"}`,M=t.getTextWidth(q);t.text(q,r-i-M,n),n+=12}n+=10}if(t.line(a,n,r-i,n),n+=10,!e.useBalance||e.remainingAmount&&e.remainingAmount>0){t.setFontSize(9),t.setFont("helvetica","normal");const N=e.paymentMethod==="cash"?"Efectivo":"Tarjeta";t.text(`Pago: ${N}`,a,n),n+=20}t.setFontSize(10),t.setFont("helvetica","bold");const S="¡Gracias por su visita!",g=t.getTextWidth(S),x=(r-g)/2;return t.text(S,x,n),t.output("dataurlstring")}catch(t){throw console.error("Error generando PDF:",t),new Error("No se pudo generar el ticket PDF")}},RC=(e,t="ticket")=>{var n;try{console.log("Intentando abrir PDF en nueva ventana...");const r=window.open("","_blank","width=800,height=1000,scrollbars=yes,resizable=yes");r?(r.document.write(`
        <!DOCTYPE html>
        <html>
          <head>
            <title>Ticket - ${t}</title>
            <style>
              body { 
                margin: 0; 
                padding: 20px; 
                font-family: Arial, sans-serif;
                background: #f5f5f5;
              }
              .container {
                max-width: 800px;
                margin: 0 auto;
                background: white;
                padding: 20px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
              }
              .header {
                text-align: center;
                margin-bottom: 20px;
                padding-bottom: 10px;
                border-bottom: 2px solid #333;
              }
              .actions {
                text-align: center;
                margin-bottom: 20px;
              }
              .btn {
                background: #007bff;
                color: white;
                padding: 10px 20px;
                border: none;
                border-radius: 5px;
                cursor: pointer;
                margin: 0 10px;
                text-decoration: none;
                display: inline-block;
              }
              .btn:hover {
                background: #0056b3;
              }
              .pdf-container {
                text-align: center;
              }
              iframe {
                border: 1px solid #ddd;
                border-radius: 5px;
              }
            </style>
          </head>
          <body>
            <div class="container">
              <div class="header">
                <h2>Ticket de Compra</h2>
                <p>Mesa: ${t.includes("mesa")?(n=t.split("-mesa-")[1])==null?void 0:n.split("-")[0]:"N/A"}</p>
              </div>
              <div class="actions">
                <button class="btn" onclick="window.print()">🖨️ Imprimir</button>
                <a class="btn" href="${e}" download="${t}.pdf">💾 Descargar PDF</a>
                <button class="btn" onclick="window.close()">❌ Cerrar</button>
              </div>
              <div class="pdf-container">
                <iframe src="${e}" width="100%" height="800px" type="application/pdf">
                  <p>Tu navegador no puede mostrar PDFs. <a href="${e}" download="${t}.pdf">Haz clic aquí para descargar</a></p>
                </iframe>
              </div>
            </div>
          </body>
        </html>
      `),r.document.close(),console.log("PDF abierto en popup exitosamente")):(console.log("No se pudo abrir popup, descargando..."),ty(e,t))}catch(r){console.error("Error abriendo PDF:",r),ty(e,t)}},ty=(e,t)=>{console.log("Descargando PDF...");const n=document.createElement("a");n.href=e,n.download=`${t}.pdf`,document.body.appendChild(n),n.click(),document.body.removeChild(n),console.log("PDF descargado")},BC=({isOpen:e,onClose:t,onPaymentComplete:n,orderItems:r,tableNumber:a,customerName:i,subtotal:s,tax:l,total:c,mergedTableNumber:d,titleOverride:p,skipDbSave:f=!1,defaultPaymentMethod:v="cash",originalOrderItems:m,originalSubtotal:j,originalTax:w,originalTotal:S,selectedCustomer:g})=>{const[x,N]=W.useState(v),[P,R]=W.useState(""),[q,M]=W.useState(!1),[F,H]=W.useState(0),[re,I]=W.useState(0),[L,Y]=W.useState("cash"),[V,X]=W.useState(""),{getCurrencySymbol:Z,getTaxRate:ne,config:U}=Bl(),{refreshCustomers:Q}=Kf(),te=(g==null?void 0:g.balance)||0,ye=te>0;if(W.useEffect(()=>{if(q&&ye){const $=Math.min(te,c);H($);const ge=c-$;I(ge),ge>0?N("mixed"):N("balance")}else H(0),I(0),N(v)},[q,te,c,v,ye]),W.useEffect(()=>{e&&(M(!1),H(0),I(0),Y("cash"),X(""),R(""),N(v))},[e,v]),!e)return null;const C=Z(),A=parseFloat(P)-c,z=c<0||r.some($=>$.productName.includes("(-)")),J=r.some($=>$.productId==="diff"),ae=parseFloat(V)-re,le=()=>{try{console.log("Iniciando generación de PDF...");const $=m||r,ge=j!==void 0?j:s,Ne=w!==void 0?w:l,ve=S!==void 0?S:c;console.log("Datos del ticket:",{itemsToShow:$,subtotalToShow:ge,taxToShow:Ne,totalToShow:ve,tableNumber:a,paymentMethod:x});const _e={restaurantName:U.restaurantName||"Restaurante",tableNumber:a,customerName:i,mergedTableNumber:d,orderItems:$,subtotal:ge,tax:Ne,total:ve,paymentMethod:x==="balance"?"card":x==="mixed"?L:x,cashReceived:x==="cash"||x==="mixed"&&L==="cash"?q?V:P:void 0,currencySymbol:C,selectedCustomer:g,useBalance:q,balanceAmount:F,remainingAmount:re,remainingPaymentMethod:L};console.log("Generando PDF con datos:",_e);const qe=OC(_e);console.log("PDF generado, abriendo ventana...");const xe=`ticket-mesa-${a}-${new Date().toISOString().slice(0,10)}`;RC(qe,xe),console.log("PDF abierto exitosamente")}catch($){console.error("Error generando ticket PDF:",$),alert(`Error al generar el ticket PDF: ${$ instanceof Error?$.message:"Error desconocido"}`)}},de=async()=>{if(q&&g&&F>0)try{const $=te-F;await Ct.customers.update(g.id,{balance:$,updatedAt:new Date}),console.log(`Saldo actualizado para ${g.name}: ${te} -> ${$}`),await Q(),console.log("Contexto de clientes refrescado")}catch($){console.error("Error actualizando saldo del cliente:",$)}if(le(),!f)try{await Ct.orders.add({tableId:a?parseInt(a):void 0,customerName:i||void 0,status:"paid",items:r.map($=>({productId:0,productName:$.productName,quantity:$.quantity,unitPrice:$.unitPrice,totalPrice:$.totalPrice,status:"delivered"})),subtotal:s,tax:l,discount:0,total:c,createdAt:new Date,updatedAt:new Date,closedAt:new Date})}catch($){console.error("Error guardando ticket en DB:",$)}n(),t()};return o.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:o.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[o.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:t}),o.jsxs("div",{className:"inline-block w-full max-w-2xl my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg",children:[o.jsxs("div",{className:`flex items-center justify-between p-6 border-b ${z?"border-red-200 bg-red-50":"border-gray-200"}`,children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Js,{className:`w-6 h-6 ${z?"text-red-600":"text-primary-600"}`}),o.jsx("h2",{className:`text-xl font-semibold ${z?"text-red-700":"text-gray-900"}`,children:z?"⚠️ DEVOLUCIÓN":J?"Cobro de Diferencia":p||`Cobro - Mesa ${a}`})]}),o.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(hr,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Resumen del Pedido"}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-4 max-h-48 overflow-y-auto",children:r.map(($,ge)=>{const Ne=$.productName.includes("(-)");return o.jsxs("div",{className:"flex justify-between items-center py-1",children:[o.jsxs("span",{className:`text-sm ${Ne?"text-red-700 font-medium":""}`,children:[$.quantity,"x ",$.productName]}),o.jsxs("span",{className:`text-sm font-medium ${Ne?"text-red-700":""}`,children:[Ne?"-":"",C,Math.abs($.totalPrice).toFixed(2)]})]},ge)})})]}),ye&&o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"Cliente con Saldo"}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[C,te.toFixed(2)]}),o.jsx("div",{className:"text-sm text-blue-600",children:"Saldo disponible"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"checkbox",id:"useBalance",checked:q,onChange:$=>M($.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("label",{htmlFor:"useBalance",className:"text-sm font-medium text-blue-800",children:"Usar saldo del cliente"})]}),q&&o.jsx("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Total a pagar:"}),o.jsxs("span",{className:"font-medium",children:[C,c.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Saldo a usar:"}),o.jsxs("span",{className:"font-medium text-blue-600",children:[C,F.toFixed(2)]})]}),re>0&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Restante a pagar:"}),o.jsxs("span",{className:"font-medium text-orange-600",children:[C,re.toFixed(2)]})]}),o.jsxs("div",{className:"pt-2 border-t border-gray-200",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Método para el resto:"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>Y("cash"),className:`flex-1 py-2 px-3 rounded text-sm font-medium transition-colors ${L==="cash"?"bg-green-100 text-green-800 border border-green-300":"bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200"}`,children:"Efectivo"}),o.jsx("button",{onClick:()=>Y("card"),className:`flex-1 py-2 px-3 rounded text-sm font-medium transition-colors ${L==="card"?"bg-blue-100 text-blue-800 border border-blue-300":"bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200"}`,children:"Tarjeta"})]})]})]})]})})]})]})}),o.jsx("div",{className:`rounded-lg p-4 mb-6 ${z?"bg-red-50 border-2 border-red-200":"bg-gray-50"}`,children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Subtotal (sin IVA):"}),o.jsxs("span",{className:z?"text-red-700":"",children:[z&&s<0?"-":"",C,ss(Math.abs(s))]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"IVA (21%):"}),o.jsxs("span",{className:z?"text-red-700":"",children:[z&&l<0?"-":"",C,ss(Math.abs(l))]})]}),o.jsxs("div",{className:"flex justify-between text-lg font-semibold border-t pt-2",children:[o.jsx("span",{children:"TOTAL (IVA incl.):"}),o.jsxs("span",{className:`${z?"text-red-700 font-bold":"text-primary-600"}`,children:[z&&c<0?"-":"",C,ss(Math.abs(c))]})]}),q&&ye&&o.jsxs("div",{className:"border-t pt-2 space-y-1",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-blue-600",children:"Pagado con saldo:"}),o.jsxs("span",{className:"text-blue-600 font-medium",children:["-",C,F.toFixed(2)]})]}),re>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{className:"text-orange-600",children:["Restante (",L==="cash"?"Efectivo":"Tarjeta","):"]}),o.jsxs("span",{className:"text-orange-600 font-medium",children:[C,re.toFixed(2)]})]})]}),z&&o.jsx("div",{className:"mt-3 p-3 bg-red-100 border border-red-300 rounded-lg",children:o.jsxs("p",{className:"text-red-800 text-sm font-medium",children:["🔴 ATENCIÓN: Debe devolver ",C,ss(Math.abs(c))," al cliente"]})})]})}),(!q||re>0)&&o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-3",children:q?"Método para el Resto":"Método de Pago"}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsxs("button",{onClick:()=>q?Y("cash"):N("cash"),className:`flex-1 flex items-center justify-center space-x-2 p-3 rounded-lg border-2 transition-colors ${(q?L:x)==="cash"?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-300 hover:border-gray-400"}`,children:[o.jsx(bi,{className:"w-5 h-5"}),o.jsx("span",{children:"Efectivo"})]}),o.jsxs("button",{onClick:()=>q?Y("card"):N("card"),className:`flex-1 flex items-center justify-center space-x-2 p-3 rounded-lg border-2 transition-colors ${(q?L:x)==="card"?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-300 hover:border-gray-400"}`,children:[o.jsx(Du,{className:"w-5 h-5"}),o.jsx("span",{children:"Tarjeta"})]})]})]}),(!q&&x==="cash"||q&&L==="cash"&&re>0)&&o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:q?"Cantidad Recibida (Resto)":"Cantidad Recibida"}),o.jsx("input",{type:"number",value:q?V:P,onChange:$=>q?X($.target.value):R($.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"0.00",step:"0.01",min:q?re:c}),parseFloat(q?V:P)>0&&o.jsxs("div",{className:"mt-2 text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Cambio: "}),o.jsxs("span",{className:`font-semibold ${(q?ae:A)>=0?"text-green-600":"text-red-600"}`,children:[C,(q?ae:A).toFixed(2)]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("button",{onClick:le,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg flex items-center justify-center space-x-2 transition-colors",children:[o.jsx(O5,{className:"w-4 h-4"}),o.jsx("span",{children:"Previsualizar Ticket PDF"})]}),o.jsxs("button",{onClick:de,disabled:!q&&x==="cash"&&(parseFloat(P)<c||!P)||q&&re>0&&L==="cash"&&(parseFloat(V)<re||!V),className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white py-4 px-6 rounded-lg flex items-center justify-center space-x-2 font-semibold text-lg transition-colors disabled:cursor-not-allowed",children:[o.jsx(Aj,{className:"w-5 h-5"}),o.jsx("span",{children:q&&re===0?"Completar Cobro con Saldo e Imprimir PDF":"Completar Cobro e Imprimir PDF"})]})]})]})]})]})})},$C=({isOpen:e,onClose:t})=>{const[n,r]=W.useState([]),{tables:a,mergeTables:i,getTableOrderItems:s}=Wf(),l=a.filter(f=>(f.status==="available"||f.status==="occupied")&&!f.mergedWith),c=()=>{if(n.length<2){De.error("Debes seleccionar al menos dos mesas para unir");return}if(new Set(n.map(S=>S.id)).size!==n.length){De.error("No puedes seleccionar la misma mesa más de una vez");return}const v=n[0],m=n.slice(1),j=n.reduce((S,g)=>S+s(g.id).length,0),w=n.map(S=>S.number).join(", ");m.map(S=>S.number).join(", "),window.confirm(`¿Estás seguro de que quieres unir las mesas ${w}?

Se combinarán ${j} productos en total.
La mesa ${v.number} será la mesa principal.`)&&(m.forEach(S=>{i(v.id,S.id)}),De.success(`Mesas ${w} unidas exitosamente`),t(),r([]))},d=()=>{r([])},p=f=>{r(v=>v.some(j=>j.id===f.id)?v.filter(j=>j.id!==f.id):[...v,f])};return e?o.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:o.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[o.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:t}),o.jsxs("div",{className:"inline-block w-full max-w-2xl my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(B5,{className:"w-6 h-6 text-blue-600"}),o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Unir Mesas"})]}),o.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(hr,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"p-6",children:l.length<2?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(nf,{className:"w-12 h-12 mx-auto mb-4 text-yellow-500"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay suficientes mesas para unir"}),o.jsx("p",{className:"text-gray-600",children:"Necesitas al menos 2 mesas disponibles u ocupadas (que no estén ya unidas) para poder unirlas."})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("p",{className:"text-gray-600 mb-4",children:"Selecciona las mesas que quieres unir. La primera mesa seleccionada será la principal. Puedes unir mesas disponibles u ocupadas."}),o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:o.jsxs("div",{className:"flex",children:[o.jsx(nf,{className:"w-5 h-5 text-yellow-600 mr-2 mt-0.5"}),o.jsxs("div",{className:"text-sm text-yellow-800",children:[o.jsx("p",{className:"font-medium mb-1",children:"Importante:"}),o.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[o.jsx("li",{children:"Los pedidos se combinarán en la mesa principal"}),o.jsx("li",{children:"La primera mesa seleccionada será la principal"}),o.jsx("li",{children:"Puedes unir múltiples mesas a la vez"}),o.jsx("li",{children:"Las mesas mostrarán indicadores visuales de unión"})]})]})]})})]}),o.jsxs("div",{children:[o.jsxs("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:["Mesas Seleccionadas (",n.length,")"]}),o.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:l.map(f=>{const v=n.some(j=>j.id===f.id),m=n.length>0&&n[0].id===f.id;return o.jsx("div",{onClick:()=>p(f),className:`p-4 border rounded-lg cursor-pointer transition-all ${v?m?"border-blue-500 bg-blue-50 ring-2 ring-blue-200":"border-green-500 bg-green-50 ring-2 ring-green-200":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"font-medium",children:["Mesa ",f.number]}),f.name&&o.jsx("div",{className:"text-sm text-gray-600",children:f.name}),o.jsxs("div",{className:"text-xs text-gray-500",children:[s(f.id).length," productos"]})]}),v&&o.jsx("div",{className:"text-sm font-medium",children:m?"⭐ Principal":"🔗 Unir"})]}),o.jsx("div",{className:`w-4 h-4 rounded-full ${f.status==="available"?"bg-green-500":"bg-red-500"}`})]})},f.id)})})]}),n.length>=2&&o.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Resumen de la Unión"}),o.jsxs("div",{className:"text-sm text-blue-800",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Mesa Principal:"})," Mesa ",n[0].number,"(",s(n[0].id).length," productos)"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Mesas a Unir:"})," ",n.slice(1).map(f=>`Mesa ${f.number} (${s(f.id).length} productos)`).join(", ")]}),o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:"Total después de unir:"})," ",n.reduce((f,v)=>f+s(v.id).length,0)," productos"]})]})]})]})}),l.length>=2&&o.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex space-x-3",children:[o.jsx("button",{onClick:d,className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Limpiar Selección"}),o.jsx("button",{onClick:t,className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),o.jsxs("button",{onClick:c,disabled:n.length<2,className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:["Unir ",n.length," Mesa",n.length!==1?"s":""]})]})]})]})}):null},Sg=({value:e,onConfirm:t,onCancel:n,currencySymbol:r="$"})=>{const[a,i]=W.useState(e.toString()),s=f=>{if(a==="0"&&f!==".")i(f);else{if(f==="."&&a.includes("."))return;if(a.length>=10)return;i(a+f)}},l=()=>{a.length===1?i("0"):i(a.slice(0,-1))},c=()=>{i("0")},d=()=>{const f=parseFloat(a)||0;t(f)},p=()=>{n()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-sm w-full overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-white font-semibold text-lg",children:"Editar Precio (IVA incl.)"}),o.jsx("button",{onClick:p,className:"text-white hover:text-gray-200 p-2 rounded-lg hover:bg-white/20 transition-colors",children:o.jsx(hr,{className:"w-5 h-5"})})]})}),o.jsx("div",{className:"p-6 bg-gray-50",children:o.jsx("div",{className:"bg-white rounded-xl p-4 border-2 border-gray-200",children:o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Precio por unidad (IVA incluido)"}),o.jsxs("div",{className:"text-3xl font-bold text-gray-900",children:[r,a]})]})})}),o.jsxs("div",{className:"p-4 bg-gray-100",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsx("button",{onClick:()=>s("7"),className:"bg-white hover:bg-gray-50 text-gray-800 font-semibold text-xl py-4 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 active:scale-95",children:"7"}),o.jsx("button",{onClick:()=>s("8"),className:"bg-white hover:bg-gray-50 text-gray-800 font-semibold text-xl py-4 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 active:scale-95",children:"8"}),o.jsx("button",{onClick:()=>s("9"),className:"bg-white hover:bg-gray-50 text-gray-800 font-semibold text-xl py-4 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 active:scale-95",children:"9"}),o.jsx("button",{onClick:()=>s("4"),className:"bg-white hover:bg-gray-50 text-gray-800 font-semibold text-xl py-4 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 active:scale-95",children:"4"}),o.jsx("button",{onClick:()=>s("5"),className:"bg-white hover:bg-gray-50 text-gray-800 font-semibold text-xl py-4 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 active:scale-95",children:"5"}),o.jsx("button",{onClick:()=>s("6"),className:"bg-white hover:bg-gray-50 text-gray-800 font-semibold text-xl py-4 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 active:scale-95",children:"6"}),o.jsx("button",{onClick:()=>s("1"),className:"bg-white hover:bg-gray-50 text-gray-800 font-semibold text-xl py-4 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 active:scale-95",children:"1"}),o.jsx("button",{onClick:()=>s("2"),className:"bg-white hover:bg-gray-50 text-gray-800 font-semibold text-xl py-4 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 active:scale-95",children:"2"}),o.jsx("button",{onClick:()=>s("3"),className:"bg-white hover:bg-gray-50 text-gray-800 font-semibold text-xl py-4 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 active:scale-95",children:"3"}),o.jsx("button",{onClick:()=>s("0"),className:"bg-white hover:bg-gray-50 text-gray-800 font-semibold text-xl py-4 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 active:scale-95",children:"0"}),o.jsx("button",{onClick:()=>s("."),className:"bg-white hover:bg-gray-50 text-gray-800 font-semibold text-xl py-4 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 active:scale-95",children:"."}),o.jsx("button",{onClick:l,className:"bg-red-500 hover:bg-red-600 text-white font-semibold text-xl py-4 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 active:scale-95",children:"←"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[o.jsxs("button",{onClick:c,className:"bg-gray-500 hover:bg-gray-600 text-white font-semibold py-4 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 active:scale-95 flex items-center justify-center space-x-2",children:[o.jsx(_j,{className:"w-5 h-5"}),o.jsx("span",{children:"Limpiar"})]}),o.jsx("button",{onClick:d,className:"bg-green-500 hover:bg-green-600 text-white font-semibold py-4 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 active:scale-95",children:"Confirmar"})]})]})]})})},zC=({isOpen:e,onClose:t,productName:n,tariffs:r,onSelectTariff:a,currencySymbol:i="€"})=>{if(!e)return null;const s=l=>{a(l),t()};return o.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:o.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[o.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:t}),o.jsxs("div",{className:"inline-block align-bottom bg-white rounded-2xl text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Seleccionar Tarifa"}),o.jsx("button",{onClick:t,className:"text-white hover:text-gray-200 p-2 rounded-lg hover:bg-white/20 transition-colors",children:o.jsx(hr,{className:"w-5 h-5"})})]}),o.jsx("p",{className:"text-blue-100 text-sm mt-1",children:n})]}),o.jsxs("div",{className:"px-6 py-6",children:[o.jsx("div",{className:"space-y-3",children:r.map(l=>o.jsx("button",{onClick:()=>s(l),className:"w-full p-4 border-2 border-gray-200 rounded-xl hover:border-blue-300 hover:bg-blue-50 transition-all duration-200 text-left group",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"font-medium text-gray-900",children:l.name}),l.isDefault&&o.jsx("span",{className:"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-full",children:"Predeterminada"})]}),o.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[n," - ",l.name]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[i,l.price.toFixed(2)]}),o.jsx("div",{className:"w-6 h-6 border-2 border-gray-300 rounded-full group-hover:border-blue-500 transition-colors flex items-center justify-center",children:o.jsx($f,{className:"w-4 h-4 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]})]})},l.id))}),o.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:o.jsx("button",{onClick:t,className:"w-full px-4 py-2 text-gray-600 hover:text-gray-800 font-medium rounded-lg hover:bg-gray-100 transition-colors",children:"Cancelar"})})]})]})]})})},qC=({isOpen:e,onClose:t,baseProduct:n,combinations:r,availableProducts:a,onConfirmCombination:i,currencySymbol:s="€"})=>{const[l,c]=W.useState([]);if(!e)return null;const d=a.filter(S=>r.some(g=>!!(g.productId&&g.productId===S.id&&g.isActive||g.categoryId&&g.categoryId===S.categoryId&&g.isActive))),p=S=>{const g=r.find(N=>N.productId===S.id);if(g)return g.additionalPrice;const x=r.find(N=>N.categoryId===S.categoryId);return(x==null?void 0:x.additionalPrice)||0},f=S=>{const g=l.find(x=>x.product.id===S.id);c(g?l.map(x=>x.product.id===S.id?{...x,quantity:x.quantity+1}:x):[...l,{product:S,quantity:1}])},v=S=>{const g=l.find(x=>x.product.id===S);g&&g.quantity>1?c(l.map(x=>x.product.id===S?{...x,quantity:x.quantity-1}:x)):c(l.filter(x=>x.product.id!==S))},m=()=>{const S=n.price,g=l.reduce((x,N)=>x+p(N.product)*N.quantity,0);return S+g},j=()=>{i(n,l),c([]),t()},w=()=>{c([]),t()};return o.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:o.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[o.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:w}),o.jsxs("div",{className:"inline-block align-bottom bg-white rounded-2xl text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Combinar Producto"}),o.jsx("button",{onClick:w,className:"text-white hover:text-gray-200 p-2 rounded-lg hover:bg-white/20 transition-colors",children:o.jsx(hr,{className:"w-5 h-5"})})]}),o.jsxs("p",{className:"text-blue-100 text-sm mt-1",children:[n.name," - Selecciona productos para combinar"]})]}),o.jsxs("div",{className:"px-6 py-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Productos Disponibles"}),o.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:d.map(S=>{const g=p(S);return o.jsx("button",{onClick:()=>f(S),className:"w-full p-3 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-all duration-200 text-left group",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"font-medium text-gray-900",children:S.name}),o.jsxs("span",{className:`text-xs px-2 py-1 rounded ${g>0?"bg-green-100 text-green-600":g<0?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600"}`,children:[g>0?"+":"",s,g.toFixed(2)]})]}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:S.description||"Sin descripción"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("span",{className:"text-sm text-gray-600",children:[s,S.price.toFixed(2)]}),o.jsx(Bn,{className:"w-4 h-4 text-blue-500 opacity-0 group-hover:opacity-100 transition-opacity"})]})]})},S.id)})})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Productos Seleccionados"}),o.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:l.length===0?o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx("p",{children:"No hay productos seleccionados"}),o.jsx("p",{className:"text-sm mt-1",children:"Selecciona productos de la lista para combinarlos"})]}):l.map(({product:S,quantity:g})=>{const x=p(S);return o.jsx("div",{className:"p-3 border border-gray-200 rounded-lg bg-gray-50",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"font-medium text-gray-900",children:S.name}),o.jsxs("span",{className:"text-xs bg-green-100 text-green-600 px-2 py-1 rounded",children:["x",g]})]}),o.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[x>0?"+":"",s,x.toFixed(2)," por unidad"]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("span",{className:`text-sm font-medium ${x*g>0?"text-green-600":x*g<0?"text-red-600":"text-gray-600"}`,children:[x*g>0?"+":"",s,(x*g).toFixed(2)]}),o.jsx("button",{onClick:()=>v(S.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",children:o.jsx(z5,{className:"w-4 h-4"})})]})]})},S.id)})})]})]}),o.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Precio base:"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Precio combinaciones:"}),o.jsx("p",{className:"font-medium text-gray-900",children:"Total:"})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:[s,n.price.toFixed(2)]}),o.jsxs("p",{className:"text-sm text-gray-600",children:["+",s,l.reduce((S,g)=>S+p(g.product)*g.quantity,0).toFixed(2)]}),o.jsxs("p",{className:"font-medium text-lg text-gray-900",children:[s,m().toFixed(2)]})]})]})}),o.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[o.jsx("button",{onClick:w,className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium rounded-lg hover:bg-gray-100 transition-colors",children:"Cancelar"}),o.jsx("button",{onClick:j,disabled:l.length===0,className:"px-6 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Confirmar Combinación"})]})]})]})]})})},UC=({isOpen:e,onClose:t,title:n="Seleccionar modificadores",options:r,selected:a,onSave:i,allowCustomText:s=!0})=>{const[l,c]=W.useState(a),[d,p]=W.useState("");if(W.useEffect(()=>{c(a)},[a,e]),!e)return null;const f=j=>{c(w=>w.includes(j)?w.filter(S=>S!==j):[...w,j])},v=()=>{const j=d.trim()?Array.from(new Set([...l,d.trim()])):l;i(j),t()},m=()=>{c([])};return o.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:o.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[o.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:t}),o.jsxs("div",{className:"inline-block align-bottom bg-white rounded-2xl text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:n}),o.jsx("button",{onClick:t,className:"text-white hover:text-gray-200 p-2 rounded-lg hover:bg-white/20 transition-colors",children:o.jsx(hr,{className:"w-5 h-5"})})]}),o.jsx("p",{className:"text-blue-100 text-sm mt-1",children:"Selecciona las opciones que apliquen. No alteran el precio."})]}),o.jsxs("div",{className:"px-6 py-6",children:[r.length===0?o.jsx("div",{className:"text-center text-gray-500 py-8",children:"No hay modificadores disponibles para este producto."}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:r.map(j=>{const w=l.includes(j);return o.jsxs("button",{onClick:()=>f(j),className:`flex items-center justify-between w-full px-4 py-3 rounded-lg border transition-all duration-200 ${w?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-blue-300 hover:bg-blue-50/50 text-gray-700"}`,children:[o.jsx("span",{className:"text-sm font-medium",children:j}),w&&o.jsx($f,{className:"w-4 h-4"})]},j)})}),s&&o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Añadir nota/modificador específico"}),o.jsx("input",{type:"text",value:d,onChange:j=>p(j.target.value),placeholder:"Escribe algo como: Sin pepinillos, punto de la carne, etc.",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),o.jsxs("div",{className:"px-6 pb-6 flex items-center justify-between",children:[o.jsx("button",{onClick:m,className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium rounded-lg hover:bg-gray-100 transition-colors",children:"Limpiar"}),o.jsxs("div",{className:"space-x-3",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium rounded-lg hover:bg-gray-100 transition-colors",children:"Cancelar"}),o.jsx("button",{onClick:v,className:"px-6 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Guardar"})]})]})]})]})})},rw=({isOpen:e,onClose:t,onConfirm:n,title:r,message:a,type:i="danger"})=>{if(!e)return null;const l=(()=>{switch(i){case"danger":return{icon:Ca,iconColor:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200",buttonColor:"bg-red-600 hover:bg-red-700"};case"warning":return{icon:nf,iconColor:"text-yellow-600",bgColor:"bg-yellow-50",borderColor:"border-yellow-200",buttonColor:"bg-yellow-600 hover:bg-yellow-700"};default:return{icon:nf,iconColor:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200",buttonColor:"bg-blue-600 hover:bg-blue-700"}}})(),c=l.icon;return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:[o.jsxs("div",{className:`flex items-center justify-between p-6 ${l.bgColor} ${l.borderColor} border-b rounded-t-xl`,children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`w-10 h-10 ${l.bgColor} rounded-full flex items-center justify-center`,children:o.jsx(c,{className:`w-5 h-5 ${l.iconColor}`})}),o.jsx("div",{children:o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r})})]}),o.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(hr,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"p-6",children:o.jsx("p",{className:"text-gray-700 leading-relaxed",children:a})}),o.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancelar"}),o.jsxs("button",{onClick:n,className:`px-6 py-2 text-white font-medium rounded-lg transition-colors flex items-center space-x-2 ${l.buttonColor}`,children:[o.jsx(Ca,{className:"w-4 h-4"}),o.jsx("span",{children:"Confirmar"})]})]})]})})},aw=W.createContext(void 0),WC=({children:e})=>{const[t,n]=W.useState([]),[r,a]=W.useState([]);W.useEffect(()=>{try{const w=localStorage.getItem("kimipos_products"),S=localStorage.getItem("kimipos_categories");if(w){const x=JSON.parse(w).map(N=>({...N,createdAt:new Date(N.createdAt),updatedAt:new Date(N.updatedAt)}));n(x)}else n([{id:"1",name:"Coca Cola",price:25,categoryId:"cat-1",description:"Refresco de cola 350ml",backgroundColor:"#dc2626",tariffs:[{id:"1-1",name:"350ml",price:25,isDefault:!0}],isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"2",name:"Sprite",price:25,categoryId:"cat-1",description:"Refresco de limón 350ml",backgroundColor:"#16a34a",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"3",name:"Fanta Naranja",price:25,categoryId:"cat-1",description:"Refresco de naranja 350ml",backgroundColor:"#ea580c",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"4",name:"Pepsi",price:23,categoryId:"cat-1",description:"Refresco de cola 350ml",backgroundColor:"#2563eb",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"5",name:"7UP",price:25,categoryId:"cat-1",description:"Refresco de lima-limón 350ml",backgroundColor:"#65a30d",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"6",name:"Mirinda",price:25,categoryId:"cat-1",description:"Refresco de naranja 350ml",backgroundColor:"#ea580c",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"7",name:"Mountain Dew",price:28,categoryId:"cat-1",description:"Refresco cítrico 350ml",backgroundColor:"#65a30d",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"8",name:"Dr Pepper",price:30,categoryId:"cat-1",description:"Refresco de cereza 350ml",backgroundColor:"#dc2626",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"9",name:"Agua Mineral",price:15,categoryId:"cat-1",description:"Agua mineral 500ml",backgroundColor:"#0891b2",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"10",name:"Agua con Gas",price:18,categoryId:"cat-1",description:"Agua carbonatada 500ml",backgroundColor:"#0891b2",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"11",name:"Jugo de Naranja",price:35,categoryId:"cat-1",description:"Jugo natural 300ml",backgroundColor:"#ea580c",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"12",name:"Jugo de Manzana",price:35,categoryId:"cat-1",description:"Jugo natural 300ml",backgroundColor:"#16a34a",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"13",name:"Limonada",price:30,categoryId:"cat-1",description:"Limonada natural 400ml",backgroundColor:"#ca8a04",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"14",name:"Té Helado",price:25,categoryId:"cat-1",description:"Té helado 350ml",backgroundColor:"#92400e",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"15",name:"Café Americano",price:20,categoryId:"cat-1",description:"Café americano 250ml",backgroundColor:"#92400e",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"16",name:"Café Expresso",price:18,categoryId:"cat-1",description:"Café expresso 30ml",backgroundColor:"#92400e",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"17",name:"Café Capuccino",price:25,categoryId:"cat-1",description:"Café capuccino 200ml",backgroundColor:"#92400e",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"18",name:"Café Latte",price:28,categoryId:"cat-1",description:"Café latte 250ml",backgroundColor:"#92400e",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"19",name:"Chocolate Caliente",price:30,categoryId:"cat-1",description:"Chocolate caliente 250ml",backgroundColor:"#92400e",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"20",name:"Té Verde",price:22,categoryId:"cat-1",description:"Té verde 250ml",backgroundColor:"#16a34a",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"21",name:"Corona",price:45,categoryId:"cat-2",description:"Cerveza 355ml",backgroundColor:"#fbbf24",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"22",name:"Heineken",price:50,categoryId:"cat-2",description:"Cerveza premium 355ml",backgroundColor:"#16a34a",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"23",name:"Budweiser",price:40,categoryId:"cat-2",description:"Cerveza 355ml",backgroundColor:"#dc2626",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"24",name:"Miller Lite",price:42,categoryId:"cat-2",description:"Cerveza light 355ml",backgroundColor:"#fbbf24",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"25",name:"Coors Light",price:43,categoryId:"cat-2",description:"Cerveza light 355ml",backgroundColor:"#0891b2",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"26",name:"Stella Artois",price:55,categoryId:"cat-2",description:"Cerveza belga 330ml",backgroundColor:"#fbbf24",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"27",name:"Dos Equis",price:48,categoryId:"cat-2",description:"Cerveza mexicana 355ml",backgroundColor:"#fbbf24",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"28",name:"Tecate",price:35,categoryId:"cat-2",description:"Cerveza mexicana 355ml",backgroundColor:"#dc2626",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"29",name:"Modelo Especial",price:45,categoryId:"cat-2",description:"Cerveza mexicana 355ml",backgroundColor:"#fbbf24",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"30",name:"Pacifico",price:42,categoryId:"cat-2",description:"Cerveza mexicana 355ml",backgroundColor:"#0891b2",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"31",name:"Sol",price:38,categoryId:"cat-2",description:"Cerveza mexicana 355ml",backgroundColor:"#fbbf24",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"32",name:"Victoria",price:40,categoryId:"cat-2",description:"Cerveza mexicana 355ml",backgroundColor:"#fbbf24",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"33",name:"Indio",price:35,categoryId:"cat-2",description:"Cerveza mexicana 355ml",backgroundColor:"#92400e",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"34",name:"Bohemia",price:45,categoryId:"cat-2",description:"Cerveza mexicana 355ml",backgroundColor:"#fbbf24",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"35",name:"Negra Modelo",price:48,categoryId:"cat-2",description:"Cerveza oscura 355ml",backgroundColor:"#92400e",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"36",name:"Guinness",price:65,categoryId:"cat-2",description:"Cerveza stout 330ml",backgroundColor:"#18181b",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"37",name:"Blue Moon",price:58,categoryId:"cat-2",description:"Cerveza de trigo 355ml",backgroundColor:"#0891b2",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"38",name:"Samuel Adams",price:52,categoryId:"cat-2",description:"Cerveza artesanal 355ml",backgroundColor:"#fbbf24",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"39",name:"Sierra Nevada",price:55,categoryId:"cat-2",description:"Cerveza IPA 355ml",backgroundColor:"#16a34a",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"40",name:"Lagunitas",price:58,categoryId:"cat-2",description:"Cerveza IPA 355ml",backgroundColor:"#fbbf24",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"41",name:"Jack Daniels",price:120,categoryId:"cat-3",description:"Whisky 50ml",backgroundColor:"#92400e",combinations:[{id:"comb-41-1",productId:"1",additionalPrice:25,isActive:!0},{id:"comb-41-2",productId:"2",additionalPrice:20,isActive:!0},{id:"comb-41-3",categoryId:"cat-1",additionalPrice:-1,isActive:!0}],isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"42",name:"Jim Beam",price:95,categoryId:"cat-3",description:"Whisky bourbon 50ml",backgroundColor:"#92400e",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"43",name:"Maker's Mark",price:140,categoryId:"cat-3",description:"Whisky bourbon 50ml",backgroundColor:"#dc2626",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"44",name:"Wild Turkey",price:110,categoryId:"cat-3",description:"Whisky bourbon 50ml",backgroundColor:"#92400e",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"45",name:"Bulleit",price:130,categoryId:"cat-3",description:"Whisky bourbon 50ml",backgroundColor:"#92400e",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"46",name:"Johnnie Walker Red",price:100,categoryId:"cat-3",description:"Whisky escocés 50ml",backgroundColor:"#dc2626",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"47",name:"Johnnie Walker Black",price:180,categoryId:"cat-3",description:"Whisky escocés 50ml",backgroundColor:"#18181b",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"48",name:"Chivas Regal",price:160,categoryId:"cat-3",description:"Whisky escocés 50ml",backgroundColor:"#fbbf24",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"49",name:"Glenfiddich",price:220,categoryId:"cat-3",description:"Whisky single malt 50ml",backgroundColor:"#fbbf24",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"50",name:"Macallan",price:350,categoryId:"cat-3",description:"Whisky single malt 50ml",backgroundColor:"#92400e",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"51",name:"Jameson",price:110,categoryId:"cat-3",description:"Whisky irlandés 50ml",backgroundColor:"#16a34a",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"52",name:"Bushmills",price:105,categoryId:"cat-3",description:"Whisky irlandés 50ml",backgroundColor:"#16a34a",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"53",name:"Crown Royal",price:125,categoryId:"cat-3",description:"Whisky canadiense 50ml",backgroundColor:"#7c3aed",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"54",name:"Canadian Club",price:90,categoryId:"cat-3",description:"Whisky canadiense 50ml",backgroundColor:"#92400e",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"55",name:"Suntory Toki",price:140,categoryId:"cat-3",description:"Whisky japonés 50ml",backgroundColor:"#0891b2",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"56",name:"Nikka",price:160,categoryId:"cat-3",description:"Whisky japonés 50ml",backgroundColor:"#0891b2",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"57",name:"Yamazaki",price:280,categoryId:"cat-3",description:"Whisky japonés 50ml",backgroundColor:"#0891b2",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"58",name:"Hibiki",price:320,categoryId:"cat-3",description:"Whisky japonés 50ml",backgroundColor:"#0891b2",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"59",name:"Evan Williams",price:75,categoryId:"cat-3",description:"Whisky bourbon 50ml",backgroundColor:"#92400e",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"60",name:"Old Grand-Dad",price:85,categoryId:"cat-3",description:"Whisky bourbon 50ml",backgroundColor:"#92400e",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"61",name:"Bacardi Blanco",price:85,categoryId:"cat-4",description:"Ron blanco 50ml",backgroundColor:"#fbbf24",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"62",name:"Bacardi Dorado",price:90,categoryId:"cat-4",description:"Ron dorado 50ml",backgroundColor:"#fbbf24",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"63",name:"Havana Club",price:95,categoryId:"cat-4",description:"Ron cubano 50ml",backgroundColor:"#fbbf24",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"64",name:"Captain Morgan",price:88,categoryId:"cat-4",description:"Ron especiado 50ml",backgroundColor:"#92400e",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"65",name:"Malibu",price:95,categoryId:"cat-4",description:"Ron con coco 50ml",backgroundColor:"#fbbf24",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"66",name:"Kraken",price:110,categoryId:"cat-4",description:"Ron especiado 50ml",backgroundColor:"#18181b",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"67",name:"Mount Gay",price:105,categoryId:"cat-4",description:"Ron barbadense 50ml",backgroundColor:"#fbbf24",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"68",name:"Appleton Estate",price:115,categoryId:"cat-4",description:"Ron jamaicano 50ml",backgroundColor:"#92400e",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"69",name:"Goslings",price:100,categoryId:"cat-4",description:"Ron bermudeño 50ml",backgroundColor:"#92400e",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"70",name:"Zacapa",price:180,categoryId:"cat-4",description:"Ron guatemalteco 50ml",backgroundColor:"#92400e",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"71",name:"Flor de Caña",price:95,categoryId:"cat-4",description:"Ron nicaragüense 50ml",backgroundColor:"#fbbf24",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"72",name:"Brugal",price:85,categoryId:"cat-4",description:"Ron dominicano 50ml",backgroundColor:"#fbbf24",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"73",name:"Barceló",price:90,categoryId:"cat-4",description:"Ron dominicano 50ml",backgroundColor:"#fbbf24",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"74",name:"Matusalem",price:110,categoryId:"cat-4",description:"Ron dominicano 50ml",backgroundColor:"#92400e",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"75",name:"Don Q",price:88,categoryId:"cat-4",description:"Ron puertorriqueño 50ml",backgroundColor:"#fbbf24",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"76",name:"Ron Abuelo",price:120,categoryId:"cat-4",description:"Ron panameño 50ml",backgroundColor:"#92400e",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"77",name:"Diplomatico",price:160,categoryId:"cat-4",description:"Ron venezolano 50ml",backgroundColor:"#92400e",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"78",name:"Santa Teresa",price:140,categoryId:"cat-4",description:"Ron venezolano 50ml",backgroundColor:"#92400e",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"79",name:"Pampero",price:95,categoryId:"cat-4",description:"Ron venezolano 50ml",backgroundColor:"#92400e",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"80",name:"Cacique",price:85,categoryId:"cat-4",description:"Ron venezolano 50ml",backgroundColor:"#fbbf24",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"81",name:"Bombay Sapphire",price:110,categoryId:"cat-5",description:"Ginebra premium 50ml",backgroundColor:"#0891b2",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"82",name:"Tanqueray",price:105,categoryId:"cat-5",description:"Ginebra londinense 50ml",backgroundColor:"#16a34a",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"83",name:"Beefeater",price:95,categoryId:"cat-5",description:"Ginebra londinense 50ml",backgroundColor:"#16a34a",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"84",name:"Gordon's",price:75,categoryId:"cat-5",description:"Ginebra 50ml",backgroundColor:"#16a34a",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"85",name:"Hendrick's",price:140,categoryId:"cat-5",description:"Ginebra premium 50ml",backgroundColor:"#16a34a",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"86",name:"Plymouth",price:125,categoryId:"cat-5",description:"Ginebra inglesa 50ml",backgroundColor:"#16a34a",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"87",name:"Sipsmith",price:130,categoryId:"cat-5",description:"Ginebra artesanal 50ml",backgroundColor:"#16a34a",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"88",name:"Monkey 47",price:180,categoryId:"cat-5",description:"Ginebra alemana 50ml",backgroundColor:"#16a34a",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"89",name:"Malfy",price:115,categoryId:"cat-5",description:"Ginebra italiana 50ml",backgroundColor:"#0891b2",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"90",name:"Citadelle",price:120,categoryId:"cat-5",description:"Ginebra francesa 50ml",backgroundColor:"#16a34a",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"91",name:"Nolet's",price:200,categoryId:"cat-5",description:"Ginebra holandesa 50ml",backgroundColor:"#16a34a",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"92",name:"Botanist",price:160,categoryId:"cat-5",description:"Ginebra escocesa 50ml",backgroundColor:"#16a34a",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"93",name:"Martin Miller's",price:135,categoryId:"cat-5",description:"Ginebra premium 50ml",backgroundColor:"#16a34a",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"94",name:"Fords",price:110,categoryId:"cat-5",description:"Ginebra londinense 50ml",backgroundColor:"#16a34a",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"95",name:"Broker's",price:100,categoryId:"cat-5",description:"Ginebra londinense 50ml",backgroundColor:"#16a34a",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"96",name:"Hayman's",price:105,categoryId:"cat-5",description:"Ginebra familiar 50ml",backgroundColor:"#16a34a",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"97",name:"Boodles",price:115,categoryId:"cat-5",description:"Ginebra británica 50ml",backgroundColor:"#16a34a",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"98",name:"Plymouth Navy Strength",price:140,categoryId:"cat-5",description:"Ginebra de alta graduación 50ml",backgroundColor:"#16a34a",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"99",name:"Sloe Gin",price:95,categoryId:"cat-5",description:"Ginebra de endrinas 50ml",backgroundColor:"#ec4899",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"100",name:"Old Raj",price:150,categoryId:"cat-5",description:"Ginebra con azafrán 50ml",backgroundColor:"#ca8a04",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"101",name:"Drumshanbo",price:145,categoryId:"cat-5",description:"Ginebra irlandesa 50ml",backgroundColor:"#16a34a",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"102",name:"Bertha's Revenge",price:155,categoryId:"cat-5",description:"Ginebra irlandesa 50ml",backgroundColor:"#16a34a",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"103",name:"Dingle",price:165,categoryId:"cat-5",description:"Ginebra irlandesa 50ml",backgroundColor:"#16a34a",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"104",name:"Gunpowder",price:125,categoryId:"cat-5",description:"Ginebra irlandesa 50ml",backgroundColor:"#16a34a",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"105",name:"Shortcross",price:135,categoryId:"cat-5",description:"Ginebra irlandesa 50ml",backgroundColor:"#16a34a",isActive:!0,createdAt:new Date,updatedAt:new Date}]);if(S){const x=JSON.parse(S).map(N=>({...N,createdAt:new Date(N.createdAt),updatedAt:new Date(N.updatedAt)}));a(x)}else a([{id:"cat-1",name:"Bebidas",color:"#3b82f6",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"cat-2",name:"Cervezas",color:"#f59e0b",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"cat-3",name:"Whisky",color:"#8b5cf6",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"cat-4",name:"Rones",color:"#ef4444",isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"cat-5",name:"Ginebras",color:"#10b981",isActive:!0,createdAt:new Date,updatedAt:new Date}])}catch(w){console.error("Error cargando productos y categorías:",w)}},[]),W.useEffect(()=>{if(t.length>0)try{localStorage.setItem("kimipos_products",JSON.stringify(t))}catch(w){console.error("Error guardando productos:",w)}},[t]),W.useEffect(()=>{if(r.length>0)try{localStorage.setItem("kimipos_categories",JSON.stringify(r))}catch(w){console.error("Error guardando categorías:",w)}},[r]);const j={products:t,categories:r,addProduct:w=>{const S={...w,id:`product-${Date.now()}`,createdAt:new Date,updatedAt:new Date};n(g=>[...g,S])},updateProduct:(w,S)=>{n(g=>g.map(x=>x.id===w?{...x,...S,updatedAt:new Date}:x))},deleteProduct:w=>{n(S=>S.filter(g=>g.id!==w))},getProductById:w=>t.find(S=>S.id===w),getProductsByCategory:w=>t.filter(S=>S.categoryId===w&&S.isActive),addCategory:w=>{const S={...w,id:`cat-${Date.now()}`,isActive:w.isActive??!0,createdAt:new Date,updatedAt:new Date};a(g=>[...g,S])},updateCategory:(w,S)=>{a(g=>g.map(x=>x.id===w?{...x,...S,updatedAt:new Date}:x))},deleteCategory:w=>{if(t.some(g=>g.categoryId===w))throw new Error("No se puede eliminar una categoría que tiene productos asignados");a(g=>g.filter(x=>x.id!==w))},getCategoryById:w=>r.find(S=>S.id===w)};return o.jsx(aw.Provider,{value:j,children:e})},Ou=()=>{const e=W.useContext(aw);if(e===void 0)throw new Error("useProducts must be used within a ProductProvider");return e},HC=({selectedCustomer:e,onCustomerSelect:t,placeholder:n="Seleccionar cliente..."})=>{const[r,a]=W.useState(!1),[i,s]=W.useState(""),l=W.useRef(null),{customers:c,searchCustomers:d}=Kf(),p=Eu(),f=i?d(i):c;W.useEffect(()=>{const w=S=>{l.current&&!l.current.contains(S.target)&&a(!1)};return document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[]);const v=w=>{t(w),a(!1),s("")},m=()=>{t(null),a(!1),s("")},j=()=>{a(!1),s(""),p("/customers")};return o.jsxs("div",{className:"relative",ref:l,children:[o.jsxs("div",{onClick:()=>a(!r),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm bg-white shadow-sm transition-all duration-200 hover:shadow-md cursor-pointer flex items-center justify-between",children:[o.jsx("div",{className:"flex items-center space-x-3 min-w-0 flex-1",children:e?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(kn,{className:"w-4 h-4 text-blue-600"})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsxs("div",{className:"font-medium text-gray-900 truncate",children:[e.name," ",e.lastName]}),o.jsx("div",{className:"text-xs text-gray-500 truncate",children:e.email||e.phone||e.cardCode})]})]}):o.jsxs(o.Fragment,{children:[o.jsx(kn,{className:"w-4 h-4 text-gray-400"}),o.jsx("span",{className:"text-gray-500",children:n})]})}),o.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[e&&o.jsx("button",{onClick:w=>{w.stopPropagation(),m()},className:"p-1 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-full transition-colors",children:o.jsx(hr,{className:"w-3 h-3"})}),o.jsx(vj,{className:`w-4 h-4 text-gray-400 transition-transform ${r?"rotate-180":""}`})]})]}),r&&o.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-xl shadow-lg z-50 max-h-80 overflow-hidden",children:[o.jsx("div",{className:"p-3 border-b border-gray-100",children:o.jsxs("div",{className:"relative",children:[o.jsx(mo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),o.jsx("input",{type:"text",placeholder:"Buscar clientes...",value:i,onChange:w=>s(w.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",autoFocus:!0})]})}),o.jsx("div",{className:"max-h-60 overflow-y-auto",children:f.length===0?o.jsxs("div",{className:"p-4 text-center text-gray-500",children:[o.jsx(kn,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),o.jsx("p",{className:"text-sm",children:i?"No se encontraron clientes":"No hay clientes registrados"})]}):o.jsx("div",{className:"py-1",children:f.map(w=>o.jsx("div",{onClick:()=>v(w),className:"px-4 py-3 hover:bg-blue-50 cursor-pointer transition-colors border-b border-gray-50 last:border-b-0",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(kn,{className:"w-4 h-4 text-blue-600"})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsxs("div",{className:"font-medium text-gray-900",children:[w.name," ",w.lastName]}),o.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500 mt-1",children:[w.email&&o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(og,{className:"w-3 h-3"}),o.jsx("span",{className:"truncate",children:w.email})]}),w.phone&&o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(lg,{className:"w-3 h-3"}),o.jsx("span",{children:w.phone})]}),w.cardCode&&o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Du,{className:"w-3 h-3"}),o.jsx("span",{children:w.cardCode})]})]})]}),w.balance>0&&o.jsxs("div",{className:"text-right flex-shrink-0",children:[o.jsx("div",{className:"text-xs text-gray-500",children:"Saldo"}),o.jsxs("div",{className:"text-sm font-semibold text-green-600",children:["€",w.balance.toFixed(2)]})]})]})},w.id))})}),o.jsx("div",{className:"p-3 border-t border-gray-100 bg-gray-50",children:o.jsxs("button",{onClick:j,className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center justify-center space-x-2 text-sm font-medium",children:[o.jsx(Bn,{className:"w-4 h-4"}),o.jsx("span",{children:"Nuevo Cliente"})]})})]})]})},iw=({isOpen:e,onClose:t,customer:n,onSave:r})=>{const[a,i]=W.useState({name:"",lastName:"",email:"",phone:"",address:"",cardCode:"",balance:0,notes:""}),[s,l]=W.useState({});W.useEffect(()=>{i(n||{name:"",lastName:"",email:"",phone:"",address:"",cardCode:"",balance:0,notes:""}),l({})},[n,e]);const c=()=>{const f={};return a.name.trim()||(f.name="El nombre es obligatorio"),a.lastName.trim()||(f.lastName="El apellido es obligatorio"),a.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)&&(f.email="Email inválido"),a.phone&&!/^[\+]?[0-9\s\-\(\)]{9,}$/.test(a.phone)&&(f.phone="Teléfono inválido"),l(f),Object.keys(f).length===0},d=f=>{f.preventDefault(),c()&&(r({...a,id:n==null?void 0:n.id}),t())},p=(f,v)=>{i(m=>({...m,[f]:v})),s[f]&&l(m=>({...m,[f]:void 0}))};return e?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx(kn,{className:"w-5 h-5 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:n?"Editar Cliente":"Nuevo Cliente"}),o.jsx("p",{className:"text-sm text-gray-600",children:n?"Modifica la información del cliente":"Agrega un nuevo cliente al sistema"})]})]}),o.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(hr,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:d,className:"p-6 space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Información Personal"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre *"}),o.jsxs("div",{className:"relative",children:[o.jsx(kn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),o.jsx("input",{type:"text",value:a.name,onChange:f=>p("name",f.target.value),className:`w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s.name?"border-red-300":"border-gray-300"}`,placeholder:"Nombre del cliente"})]}),s.name&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.name})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Apellido *"}),o.jsx("input",{type:"text",value:a.lastName,onChange:f=>p("lastName",f.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s.lastName?"border-red-300":"border-gray-300"}`,placeholder:"Apellido del cliente"}),s.lastName&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.lastName})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Información de Contacto"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(og,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),o.jsx("input",{type:"email",value:a.email,onChange:f=>p("email",f.target.value),className:`w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s.email?"border-red-300":"border-gray-300"}`,placeholder:"email@ejemplo.com"})]}),s.email&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.email})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Teléfono"}),o.jsxs("div",{className:"relative",children:[o.jsx(lg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),o.jsx("input",{type:"tel",value:a.phone,onChange:f=>p("phone",f.target.value),className:`w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s.phone?"border-red-300":"border-gray-300"}`,placeholder:"+34 600 000 000"})]}),s.phone&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.phone})]})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dirección"}),o.jsxs("div",{className:"relative",children:[o.jsx(Dl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),o.jsx("input",{type:"text",value:a.address,onChange:f=>p("address",f.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Dirección completa"})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Información de Tarjeta y Saldo"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Código de Tarjeta"}),o.jsxs("div",{className:"relative",children:[o.jsx(Du,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),o.jsx("input",{type:"text",value:a.cardCode,onChange:f=>p("cardCode",f.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Código de tarjeta o barras"})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Para identificación por NFC o código de barras"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Saldo (€)"}),o.jsxs("div",{className:"relative",children:[o.jsx(bi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),o.jsx("input",{type:"number",step:"0.01",min:"0",value:a.balance,onChange:f=>p("balance",parseFloat(f.target.value)||0),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Saldo positivo a favor del cliente"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notas"}),o.jsxs("div",{className:"relative",children:[o.jsx(O5,{className:"absolute left-3 top-3 text-gray-400 w-4 h-4"}),o.jsx("textarea",{value:a.notes,onChange:f=>p("notes",f.target.value),rows:3,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Información adicional sobre el cliente..."})]})]}),o.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancelar"}),o.jsxs("button",{type:"submit",className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors flex items-center space-x-2",children:[o.jsx(Rl,{className:"w-4 h-4"}),o.jsx("span",{children:n?"Guardar Cambios":"Crear Cliente"})]})]})]})]})}):null},VC=()=>{var qn,Qa;const[e,t]=W.useState(null),[n,r]=W.useState(""),[a,i]=W.useState([]),[s,l]=W.useState(null),[c,d]=W.useState(null),[p,f]=W.useState(!1),[v,m]=W.useState(!1),[j,w]=W.useState(!1),[S,g]=W.useState(!1),[x,N]=W.useState(!1),[P,R]=W.useState(null),[q,M]=W.useState(!1),[F,H]=W.useState(null),[re,I]=W.useState(!1),[L,Y]=W.useState(null),[V,X]=W.useState(null),[Z,ne]=W.useState(null),[U,Q]=W.useState(!1),[te,ye]=W.useState(!1),[C,A]=W.useState(null),[z,J]=W.useState(!1),[ae,le]=W.useState(null),[de,$]=W.useState(null),[ge,Ne]=W.useState(null),[ve,_e]=W.useState(null),{addOrderToTable:qe,getTableOrderItems:xe,clearTableOrder:ee,tables:Ye,removeNamedAccount:$e}=Wf(),{getCurrencySymbol:Ae,getTaxRate:Me,getModifiersForCategory:Ce}=Bl(),{products:Ie,categories:Ke}=Ou(),{customers:tt,updateCustomer:ut}=Kf(),ft=Ie.filter(fe=>fe.isActive),yt=Ke.filter(fe=>fe.isActive),Pt=ft.filter(fe=>{const Ue=!e||fe.categoryId===e,Oe=!n||fe.name.toLowerCase().includes(n.toLowerCase());return Ue&&Oe}),nt=(fe,Ue)=>{var Qe;if(a.find(mt=>mt.productId===fe.id))i(a.map(mt=>mt.productId===fe.id?{...mt,quantity:mt.quantity+1,totalPrice:(mt.quantity+1)*mt.unitPrice}:mt));else{const mt=Ue||((Qe=fe.tariffs)==null?void 0:Qe.find(Un=>Un.isDefault))||{price:fe.price},Mt={productId:fe.id,productName:`${fe.name}${Ue?` - ${Ue.name}`:""}`,quantity:1,unitPrice:mt.price,totalPrice:mt.price,status:"pending",modifiers:[]};i([...a,Mt])}};wa.useEffect(()=>{(async()=>{const Ue=localStorage.getItem("orderToEdit");if(!Ue){f(!0);return}try{const Oe=await Ct.orders.get(Number(Ue));if(Oe){const Qe=Oe.items.map((mt,Mt)=>({productId:String(mt.productId??`edit-${Mt}`),productName:mt.productName||`Producto ${Mt+1}`,quantity:mt.quantity||1,unitPrice:mt.unitPrice||0,totalPrice:mt.totalPrice||0,status:"pending",modifiers:[]}));i(Qe),$(Oe.id||null),Ne(Oe.total||0),De.success(`Editando ticket #${Oe.id}`),f(!1)}}catch(Oe){console.error("Error cargando ticket para edición:",Oe),f(!0)}})()},[]);const pt=()=>{$(null),Ne(null),_e(null),i([]),d(null),m(!1),localStorage.removeItem("orderToEdit"),f(!0),De.success("Dashboard limpiado, selecciona una nueva mesa")},Re=async()=>{if(!de)return;const{subtotal:fe,tax:Ue,total:Oe}=pr();if(ge!==null){const Qe=parseFloat((Oe-ge).toFixed(2));if(Math.abs(Qe)>.001){_e({amount:Math.abs(Qe),isIncrease:Qe>0,newTotal:Oe,newSubtotal:fe,newTax:Ue}),w(!0);return}}try{await Ct.orders.update(de,{items:a.map(Qe=>({productId:Qe.productId,productName:Qe.productName,quantity:Qe.quantity,unitPrice:Qe.unitPrice,totalPrice:Qe.totalPrice,modifiers:Qe.modifiers||[]})),subtotal:fe,tax:Ue,total:Oe,updatedAt:new Date}),De.success("Ticket actualizado sin cambios en el total"),pt()}catch(Qe){console.error("Error guardando ticket editado:",Qe),De.error("No se pudo guardar el ticket")}},Pn=fe=>{if(!c&&!v){De.error("Debes seleccionar una mesa antes de agregar productos"),f(!0);return}fe.combinations&&fe.combinations.some(Ue=>Ue.isActive)?(Y(fe),I(!0)):fe.tariffs&&fe.tariffs.length>1?(H(fe),M(!0)):nt(fe)},xt=fe=>{if(!c&&!v){De.error("Debes seleccionar una mesa antes de agregar productos"),f(!0);return}if(V&&F&&V.baseProduct.id===F.id){const{baseProduct:Ue,combinationNames:Oe,additionalPrice:Qe}=V,mt=`${Ue.name} con ${Oe} - ${fe.name}`,Mt=fe.price+Qe,Un={productId:Ue.id,productName:mt,quantity:1,unitPrice:Mt,totalPrice:Mt,status:"pending",modifiers:[]};i([...a,Un]),X(null);return}F&&nt(F,fe)},Ar=fe=>{const Ue=Ie.find(Oe=>Oe.id===fe);return Ue?Ce(Ue.categoryId):[]},_t=fe=>{ne(fe),Q(!0)},Bt=(fe,Ue)=>{i(a.map(Oe=>Oe.productId===fe?{...Oe,modifiers:Ue}:Oe))},Ur=(fe,Ue)=>{if(!c&&!v){De.error("Debes seleccionar una mesa antes de agregar productos"),f(!0);return}const Oe=Ue.map(mr=>`${mr.product.name}${mr.quantity>1?` (x${mr.quantity})`:""}`).join(" + "),Qe=Ue.reduce((mr,oa)=>{const Za=fe.combinations.find(La=>La.productId===oa.product.id);if(Za)return mr+Za.additionalPrice*oa.quantity;const _a=fe.combinations.find(La=>La.categoryId===oa.product.categoryId);return mr+((_a==null?void 0:_a.additionalPrice)||0)*oa.quantity},0);if(fe.tariffs&&fe.tariffs.length>1){X({baseProduct:fe,selectedProducts:Ue,combinationNames:Oe,additionalPrice:Qe}),H(fe),M(!0);return}const mt=`${fe.name} con ${Oe}`,Mt=fe.price+Qe,Un={productId:fe.id,productName:mt,quantity:1,unitPrice:Mt,totalPrice:Mt,status:"pending"};i([...a,Un])},wt=(fe,Ue)=>{i(a.map(Oe=>{if(Oe.productId===fe){const Qe=Math.max(0,Oe.quantity+Ue);return Qe===0?null:{...Oe,quantity:Qe,totalPrice:Qe*Oe.unitPrice}}return Oe}).filter(Boolean))},Xa=(fe,Ue)=>{i(a.map(Oe=>Oe.productId===fe?{...Oe,unitPrice:Ue,totalPrice:Oe.quantity*Ue}:Oe))},Kt=fe=>{P&&Xa(P,fe),N(!1),R(null)},Pr=()=>{N(!1),R(null)},sa=fe=>{R(fe),N(!0)},Gt=fe=>{const Ue=Ie.find(Oe=>Oe.id===fe);Ue&&i(a.map(Oe=>Oe.productId===fe?{...Oe,unitPrice:Ue.price,totalPrice:Oe.quantity*Ue.price}:Oe))},st=fe=>{i(a.filter(Ue=>Ue.productId!==fe))},St=()=>{s&&(le(s),J(!0))},Ja=async fe=>{try{await ut(fe),l(fe),De.success(`Saldo de ${fe.name} ${fe.lastName} actualizado a ${Ae()}${fe.balance.toFixed(2)}`)}catch{De.error("Error al actualizar el saldo del cliente")}},wn=fe=>{const Ue=s?{...fe,assignedCustomer:{id:s.id,name:s.name,lastName:s.lastName,email:s.email,phone:s.phone},temporaryName:void 0}:fe;if(d(Ue),m(!1),fe.assignedCustomer&&!s){const Oe=tt.find(Qe=>Qe.id===fe.assignedCustomer.id);Oe&&(l(Oe),De.success(`Cliente ${Oe.name} ${Oe.lastName} cargado de la mesa ${fe.number}`))}if(s&&De.success(`Cliente ${s.name} ${s.lastName} asignado a la mesa ${fe.number}`),fe.status==="occupied"){const Oe=xe(fe.id);Oe.length>0&&(i(Oe),De.success(`Cargados ${Oe.length} productos de la mesa ${fe.number}`))}else i([]);f(!1)},Wr=()=>{d(null),m(!0),i([]),l(null),f(!1),De.success("Modo ticket sin mesa activado. Puedes agregar productos y cobrarlos directamente.")},pr=()=>{const fe=T8(a),Ue=F8(a),Oe=O8(a);return{subtotal:fe,tax:Ue,total:Oe}},Je=async()=>{if(a.length===0){De.error("El pedido está vacío");return}if(!c){De.error("Debes seleccionar una mesa antes de procesar el pedido");return}const{total:fe,subtotal:Ue,tax:Oe}=pr(),Qe=localStorage.getItem("orderToEdit");if(Qe){const mt=await Ct.orders.get(Number(Qe));mt&&(await Ct.orders.update(mt.id,{items:a.map(Mt=>({productId:0,productName:Mt.productName,quantity:Mt.quantity,unitPrice:Mt.unitPrice,totalPrice:Mt.totalPrice,status:"delivered"})),subtotal:Ue,tax:Oe,total:fe,updatedAt:new Date}),localStorage.removeItem("orderToEdit"))}qe(c.id,fe,a,s),c.id.startsWith("account-")?De.success(`Pedido procesado exitosamente para ${c.name}`):De.success(`Pedido procesado exitosamente para Mesa ${c.number}`),i([]),l(null),d(null),f(!0)},_r=(fe,Ue,Oe,Qe="danger")=>{A({title:fe,message:Ue,onConfirm:Oe,type:Qe}),ye(!0)},Hr=()=>{if(!c){De.error("Debes seleccionar una mesa primero");return}if(c.status!=="occupied"){De.error("La mesa no tiene pedidos activos");return}const fe=c.id.startsWith("account-"),Ue=fe?"Eliminar Cuenta":"Vaciar Ticket Mesa",Oe=fe?`¿Estás seguro de que quieres eliminar la cuenta de "${c.name}"?`:`¿Estás seguro de que quieres vaciar completamente el ticket de la Mesa ${c.number}?`;_r(Ue,Oe,()=>{fe?($e(c.id),De.success(`Cuenta de ${c.name} eliminada exitosamente`),i([]),l(null),d(null),setTimeout(()=>{f(!0)},100)):(ee(c.id),d({...c,status:"available",occupiedSince:void 0,currentOrder:void 0}),De.success(`Mesa ${c.number} vaciada y liberada exitosamente`),i([]),l(null))},"danger")},{subtotal:Tn,tax:nn,total:Jt}=pr();return o.jsxs("div",{className:"h-full flex bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsx("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200/50 p-4 shadow-sm",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(mo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{type:"text",placeholder:"Buscar productos...",value:n,onChange:fe=>r(fe.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white shadow-sm transition-all duration-200 hover:shadow-md"})]}),s&&o.jsxs("div",{className:"flex items-center space-x-2 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 px-4 py-2 rounded-xl shadow-sm",children:[o.jsx(kn,{className:"w-4 h-4 text-blue-600"}),o.jsxs("span",{className:"text-sm font-medium text-blue-700",children:[s.name," ",s.lastName]})]})]})}),o.jsx("div",{className:"bg-white/70 backdrop-blur-sm border-b border-gray-200/50 p-4 shadow-sm",children:o.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:[o.jsx("button",{onClick:()=>t(null),className:`px-6 py-4 rounded-xl font-medium whitespace-nowrap transition-all duration-200 shadow-sm min-h-[56px] flex items-center justify-center text-base ${e===null?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg transform scale-105":"bg-white text-gray-700 hover:bg-gray-50 hover:shadow-md border border-gray-200"}`,children:"Todas"}),yt.map(fe=>o.jsx("button",{onClick:()=>t(fe.id),style:{backgroundColor:e===fe.id?fe.color:void 0,color:e===fe.id?"white":void 0,borderColor:e===fe.id?fe.color:void 0},className:`px-6 py-4 rounded-xl font-medium whitespace-nowrap transition-all duration-200 shadow-sm min-h-[56px] flex items-center justify-center text-base ${e===fe.id?"text-white shadow-lg transform scale-105 border-2":"bg-white text-gray-700 hover:bg-gray-50 hover:shadow-md border border-gray-200 hover:border-gray-300"}`,children:fe.name},fe.id))]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[!c&&!v&&o.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-xl text-center",children:o.jsxs("div",{className:"flex items-center justify-center space-x-2 text-yellow-700",children:[o.jsx(Dl,{className:"w-5 h-5"}),o.jsx("span",{className:"font-medium",children:"Selecciona una mesa para comenzar a agregar productos"})]})}),v&&o.jsx("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-xl text-center",children:o.jsxs("div",{className:"flex items-center justify-center space-x-2 text-blue-700",children:[o.jsx(Js,{className:"w-5 h-5"}),o.jsx("span",{className:"font-medium",children:"Modo ticket sin mesa - Agrega productos para cobrar directamente"})]})}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-6",children:Pt.map(fe=>o.jsx("div",{onClick:()=>Pn(fe),className:"product-card cursor-pointer p-6 rounded-2xl shadow-md border border-gray-200/50 transition-all duration-300 hover:shadow-xl hover:scale-105 backdrop-blur-sm min-h-[120px] flex flex-col justify-center",style:{background:fe.backgroundColor?`linear-gradient(135deg, ${fe.backgroundColor}15, ${fe.backgroundColor}25, ${fe.backgroundColor}15)`:"linear-gradient(135deg, #ffffff, #f8fafc, #ffffff)",borderColor:fe.backgroundColor?`${fe.backgroundColor}40`:"#e5e7eb"},onMouseEnter:Ue=>{fe.backgroundColor&&(Ue.currentTarget.style.background=`linear-gradient(135deg, ${fe.backgroundColor}25, ${fe.backgroundColor}35, ${fe.backgroundColor}25)`,Ue.currentTarget.style.borderColor=`${fe.backgroundColor}60`)},onMouseLeave:Ue=>{fe.backgroundColor&&(Ue.currentTarget.style.background=`linear-gradient(135deg, ${fe.backgroundColor}15, ${fe.backgroundColor}25, ${fe.backgroundColor}15)`,Ue.currentTarget.style.borderColor=`${fe.backgroundColor}40`)},children:o.jsxs("div",{className:"text-center",children:[o.jsx("h3",{className:"font-semibold text-gray-900 text-lg mb-3 line-clamp-2 leading-tight",children:fe.name}),o.jsxs("p",{className:"text-xl font-bold",style:{color:fe.backgroundColor||"#3b82f6"},children:[Ae(),fe.price.toFixed(2)]})]})},fe.id))})]})]}),o.jsxs("div",{className:"w-[32rem] bg-white/90 backdrop-blur-sm border-l border-gray-200/50 flex flex-col shadow-xl",children:[o.jsx("div",{className:"p-6 border-b border-gray-200/50 bg-gradient-to-r from-blue-50 to-indigo-50",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(HC,{selectedCustomer:s,onCustomerSelect:l,placeholder:"Seleccionar cliente (opcional)"}),s&&o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{onClick:St,className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white py-3 px-4 rounded-xl font-medium flex items-center justify-center space-x-2 transition-all duration-200 hover:shadow-lg hover:scale-105 text-sm",children:[o.jsx(bi,{className:"w-4 h-4"}),o.jsx("span",{children:"Recargar Saldo"})]}),o.jsx("button",{onClick:()=>l(null),className:"px-4 py-3 border border-gray-300 rounded-xl hover:bg-gray-50 transition-all duration-200 text-gray-500 hover:text-red-500 hover:border-red-300 shadow-sm hover:shadow-md min-w-[48px] min-h-[48px] flex items-center justify-center text-lg font-bold",title:"Quitar cliente",children:"✕"})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{onClick:()=>f(!0),className:"flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm text-left flex items-center justify-between hover:bg-gray-50 transition-all duration-200 hover:shadow-md bg-white shadow-sm",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Dl,{className:"w-4 h-4 text-blue-500"}),o.jsx("span",{className:c?"text-gray-900":"text-gray-500",children:c?`Mesa ${c.number}${c.name?` - ${c.name}`:""}`:"Seleccionar mesa"})]}),c&&o.jsx("div",{className:`w-3 h-3 rounded-full ${c.status==="available"?"bg-green-500":c.status==="occupied"?"bg-red-500":c.status==="reserved"?"bg-yellow-500":"bg-blue-500"}`})]}),c&&o.jsx("button",{onClick:()=>{d(null),i([]),l(null),f(!0)},className:"px-4 py-3 border border-gray-300 rounded-xl hover:bg-gray-50 transition-all duration-200 text-gray-500 hover:text-red-500 hover:border-red-300 shadow-sm hover:shadow-md min-w-[48px] min-h-[48px] flex items-center justify-center text-lg font-bold",title:"Cambiar mesa",children:"✕"})]})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:a.length===0?o.jsxs("div",{className:"text-center text-gray-500 mt-8",children:[o.jsx(U5,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),o.jsx("p",{children:"No hay productos en el pedido"}),o.jsx("p",{className:"text-sm",children:"Selecciona productos para agregar"})]}):o.jsx("div",{className:"space-y-2",children:a.map(fe=>{var Ue,Oe;return o.jsxs("div",{className:"bg-gradient-to-r from-white to-gray-50 rounded-lg p-3 border border-gray-200/50 shadow-sm hover:shadow-md transition-all duration-200",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:()=>st(fe.productId),className:"p-2 text-red-600 hover:bg-red-100 rounded-lg transition-all duration-200 hover:scale-110 flex-shrink-0",children:o.jsx(Ca,{className:"w-4 h-4"})}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsx("h4",{className:"font-semibold text-gray-900 text-lg leading-tight",children:fe.productName})}),o.jsx("div",{className:"flex-shrink-0",children:o.jsxs("button",{onClick:()=>sa(fe.productId),className:`text-base font-semibold hover:underline cursor-pointer flex items-center ${fe.unitPrice!==((Ue=Ie.find(Qe=>Qe.id===fe.productId))==null?void 0:Ue.price)?"text-blue-600":"text-gray-700"}`,title:"Haz clic para editar el precio (IVA incluido)",children:[Ae(),ss(fe.unitPrice)," c/u",o.jsx(bi,{className:"w-4 h-4 ml-1 opacity-50"})]})}),o.jsxs("div",{className:"flex-shrink-0",children:[o.jsx("button",{onClick:()=>_t(fe.productId),className:"text-xs text-gray-500 hover:text-blue-600 px-2 py-1 rounded hover:bg-blue-50",title:"Añadir modificadores",children:"Mods"}),fe.unitPrice!==((Oe=Ie.find(Qe=>Qe.id===fe.productId))==null?void 0:Oe.price)&&o.jsx("button",{onClick:()=>Gt(fe.productId),className:"text-xs text-gray-400 hover:text-blue-600 p-1 rounded hover:bg-blue-50 ml-1",title:"Restaurar precio original",children:"↺"})]}),o.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[o.jsx("button",{onClick:()=>wt(fe.productId,-1),className:"p-1 rounded bg-gray-200 hover:bg-blue-500 hover:text-white transition-all duration-200 hover:scale-110 min-w-[24px] min-h-[24px] flex items-center justify-center",children:o.jsx(z5,{className:"w-3 h-3"})}),o.jsx("span",{className:"w-6 text-center font-semibold text-gray-800 text-sm",children:fe.quantity}),o.jsx("button",{onClick:()=>wt(fe.productId,1),className:"p-1 rounded bg-gray-200 hover:bg-blue-500 hover:text-white transition-all duration-200 hover:scale-110 min-w-[24px] min-h-[24px] flex items-center justify-center",children:o.jsx(Bn,{className:"w-3 h-3"})})]})]}),fe.modifiers&&fe.modifiers.length>0&&o.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:fe.modifiers.map((Qe,mt)=>o.jsx("span",{className:"text-[10px] px-2 py-0.5 bg-gray-100 text-gray-600 rounded",children:Qe},mt))})]},fe.productId)})})}),(a.length>0||de)&&o.jsxs("div",{className:"border-t border-gray-200/50 p-6 space-y-4 bg-gradient-to-r from-blue-50/50 to-indigo-50/50",children:[a.length>0?o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Subtotal (sin IVA):"}),o.jsxs("span",{children:[Ae(),ss(Tn)]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"IVA (21%):"}),o.jsxs("span",{children:[Ae(),ss(nn)]})]}),o.jsxs("div",{className:"flex justify-between text-xl font-bold border-t pt-3 border-gray-300",children:[o.jsx("span",{className:"text-gray-800",children:"Total (IVA incl.):"}),o.jsxs("span",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:[Ae(),ss(Jt)]})]})]}):de&&o.jsxs("div",{className:"text-center text-gray-600 py-4",children:[o.jsx("p",{className:"text-sm font-medium",children:"Ticket vacío"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Puedes guardar el ticket sin productos o cancelar la edición"})]}),o.jsxs("div",{className:"space-y-2",children:[de?o.jsxs("div",{className:"space-y-2",children:[o.jsxs("button",{onClick:Re,className:"w-full bg-gradient-to-r from-amber-500 to-orange-600 hover:from-amber-600 hover:to-orange-700 text-white py-4 px-6 rounded-xl font-semibold flex items-center justify-center space-x-2 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[o.jsx(Js,{className:"w-5 h-5"}),o.jsx("span",{children:"Guardar Cambios"})]}),o.jsxs("button",{onClick:pt,className:"w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white py-3 px-6 rounded-xl font-medium flex items-center justify-center space-x-2 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[o.jsx(hr,{className:"w-4 h-4"}),o.jsx("span",{children:"Cancelar Edición"})]})]}):o.jsx("div",{className:"grid grid-cols-2 gap-3",children:o.jsxs("button",{onClick:Je,className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white py-3 px-4 rounded-xl font-semibold flex items-center justify-center space-x-2 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 text-sm",children:[o.jsx(Js,{className:"w-4 h-4"}),o.jsx("span",{children:"Procesar"})]})}),o.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[o.jsxs("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 py-3 px-2 rounded-xl font-medium flex items-center justify-center space-x-1 transition-all duration-200 hover:shadow-md text-sm",children:[o.jsx(gj,{className:"w-4 h-4"}),o.jsx("span",{children:"Dividir"})]}),o.jsxs("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 py-3 px-2 rounded-xl font-medium flex items-center justify-center space-x-1 transition-all duration-200 hover:shadow-md text-sm",children:[o.jsx(Du,{className:"w-4 h-4"}),o.jsx("span",{children:"Tarjeta"})]}),o.jsxs("button",{onClick:()=>g(!0),className:"bg-blue-100 hover:bg-blue-200 text-blue-700 py-3 px-2 rounded-xl font-medium flex items-center justify-center space-x-1 transition-all duration-200 hover:shadow-md text-sm",children:[o.jsx(B5,{className:"w-4 h-4"}),o.jsx("span",{children:"Unir"})]})]}),c&&c.status==="occupied"||v?o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("button",{onClick:()=>w(!0),className:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white py-3 px-4 rounded-xl font-bold flex items-center justify-center space-x-2 shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105 text-base border-2 border-green-400 ring-2 ring-green-200 animate-pulse",children:[o.jsx(bi,{className:"w-5 h-5"}),o.jsx("span",{children:"Cobrar"})]}),c&&o.jsxs("button",{onClick:Hr,className:"bg-gradient-to-r from-red-600 to-rose-600 hover:from-red-700 hover:to-rose-700 text-white py-3 px-4 rounded-xl font-semibold flex items-center justify-center space-x-2 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 text-sm",children:[o.jsx(Ca,{className:"w-4 h-4"}),o.jsx("span",{children:"Vaciar"})]})]}):null]})]})]}),o.jsx(Bk,{isOpen:p,onClose:()=>f(!1),onSelectTable:wn,selectedTableId:c==null?void 0:c.id,forceOpen:!c&&!v&&!de,onTicketWithoutTable:Wr}),o.jsx(BC,{isOpen:j,onClose:()=>w(!1),onPaymentComplete:async()=>{if(ve&&de)try{await Ct.orders.update(de,{items:a.map(fe=>({productId:fe.productId,productName:fe.productName,quantity:fe.quantity,unitPrice:fe.unitPrice,totalPrice:fe.totalPrice,modifiers:fe.modifiers||[]})),subtotal:ve.newSubtotal||0,tax:ve.newTax||0,total:ve.newTotal||0,updatedAt:new Date}),Ne(ve.newTotal||0),De.success(ve.isIncrease?"Diferencia cobrada y ticket actualizado":"Devolución procesada y ticket actualizado"),pt()}catch(fe){console.error("Error guardando ticket tras cobro:",fe),De.error("Error al guardar el ticket actualizado")}else c?(ee(c.id),i([]),l(null),d(null),f(!0),c.mergedWith?De.success("Cuenta de mesas unidas cobrada exitosamente. Las mesas han sido liberadas y desunidas. Selecciona una nueva mesa."):c.id.startsWith("account-")?De.success(`Cuenta de ${c.name} cobrada y cerrada exitosamente. Selecciona una nueva mesa.`):De.success(`Mesa ${c.number} cobrada y liberada exitosamente. Selecciona una nueva mesa.`)):v&&(i([]),l(null),m(!1),f(!0),De.success("Ticket sin mesa cobrado exitosamente. Selecciona una nueva mesa."));w(!1),_e(null)},orderItems:ve?[{productId:"diff",productName:ve.isIncrease?"Diferencia a cobrar (+)":"Devolución al cliente (-)",quantity:1,unitPrice:ve.isIncrease?ve.amount:-ve.amount,totalPrice:ve.isIncrease?ve.amount:-ve.amount,status:"pending"}]:a,tableNumber:(c==null?void 0:c.number)||"",customerName:s?`${s.name} ${s.lastName}`:"",subtotal:ve?ve.isIncrease?ve.amount:-ve.amount:Tn,tax:ve?0:nn,total:ve?ve.isIncrease?ve.amount:-ve.amount:Jt,mergedTableNumber:c==null?void 0:c.mergedWith,titleOverride:localStorage.getItem("orderToEdit")?ve?"Cobro de diferencia":"Actualizar Ticket":void 0,skipDbSave:!!localStorage.getItem("orderToEdit"),defaultPaymentMethod:"cash",originalOrderItems:ve?a:void 0,originalSubtotal:ve?ve.newSubtotal:void 0,originalTax:ve?ve.newTax:void 0,originalTotal:ve?ve.newTotal:void 0,selectedCustomer:s}),o.jsx($C,{isOpen:S,onClose:()=>g(!1)}),x&&P&&o.jsx(Sg,{value:((qn=a.find(fe=>fe.productId===P))==null?void 0:qn.unitPrice)||0,onConfirm:Kt,onCancel:Pr,currencySymbol:Ae()}),q&&F&&o.jsx(zC,{isOpen:q,onClose:()=>{M(!1),H(null),X(null)},productName:F.name,tariffs:F.tariffs||[],onSelectTariff:xt,currencySymbol:Ae()}),re&&L&&o.jsx(qC,{isOpen:re,onClose:()=>{I(!1),Y(null)},baseProduct:L,combinations:L.combinations||[],availableProducts:ft,onConfirmCombination:Ur,currencySymbol:Ae()}),U&&Z&&o.jsx(UC,{isOpen:U,onClose:()=>{Q(!1),ne(null)},title:"Seleccionar modificadores",options:Ar(Z),selected:((Qa=a.find(fe=>fe.productId===Z))==null?void 0:Qa.modifiers)||[],onSave:fe=>Bt(Z,fe)}),te&&C&&o.jsx(rw,{isOpen:te,onClose:()=>ye(!1),onConfirm:C.onConfirm,title:C.title,message:C.message,type:C.type}),z&&ae&&o.jsx(iw,{isOpen:z,onClose:()=>{J(!1),le(null)},customer:ae,onSave:Ja,title:"Recargar Saldo del Cliente"})]})},KC=({value:e,onChange:t,label:n="Color de fondo",className:r=""})=>{const[a,i]=W.useState(!1),s=["#dc2626","#ea580c","#d97706","#ca8a04","#65a30d","#16a34a","#0d9488","#0891b2","#0284c7","#2563eb","#4f46e5","#7c3aed","#9333ea","#c026d3","#ec4899","#be123c","#92400e","#78716c","#52525b","#18181b"];return o.jsxs("div",{className:`space-y-3 ${r}`,children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:n}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-lg border-2 border-gray-300 shadow-sm",style:{backgroundColor:e},title:e}),o.jsx("input",{type:"text",value:e,onChange:l=>t(l.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent font-mono text-sm",placeholder:"#3b82f6"}),o.jsx("button",{type:"button",onClick:()=>i(!a),className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",title:"Selector de color personalizado",children:o.jsx(Sj,{className:"w-5 h-5"})})]}),a&&o.jsxs("div",{className:"space-y-3",children:[o.jsx("input",{type:"color",value:e,onChange:l=>t(l.target.value),className:"w-full h-12 border border-gray-300 rounded-lg cursor-pointer"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Colores sugeridos:"}),o.jsx("div",{className:"grid grid-cols-10 gap-2",children:s.map(l=>o.jsx("button",{type:"button",onClick:()=>t(l),className:`w-8 h-8 rounded-lg border-2 transition-all hover:scale-110 ${e===l?"border-gray-800 scale-110":"border-gray-300"}`,style:{backgroundColor:l},title:l},l))})]})]}),o.jsx("p",{className:"text-xs text-gray-500",children:"Este color se mostrará en el botón del producto en el dashboard"})]})},GC=({tariffs:e,onChange:t})=>{const[n,r]=W.useState(null),[a,i]=W.useState({name:"",price:0}),s=()=>{if(e.length>=4){alert("No puedes agregar más de 4 tarifas por producto");return}if(!a.name.trim()||a.price<=0){alert("Por favor completa el nombre y precio de la tarifa");return}const p={id:`tariff-${Date.now()}`,name:a.name.trim(),price:a.price,isDefault:e.length===0};t([...e,p]),i({name:"",price:0})},l=(p,f)=>{const v=e.map(m=>m.id===p?{...m,...f}:m);t(v),r(null)},c=p=>{const f=e.find(v=>v.id===p);if(f!=null&&f.isDefault&&e.length>1){const v=e.filter(m=>m.id!==p).map((m,j)=>({...m,isDefault:j===0}));t(v)}else t(e.filter(v=>v.id!==p))},d=p=>{const f=e.map(v=>({...v,isDefault:v.id===p}));t(f)};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Tarifas del Producto"}),o.jsxs("span",{className:"text-xs text-gray-500",children:[e.length,"/4 tarifas"]})]}),o.jsx("div",{className:"space-y-2",children:e.map(p=>o.jsx("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-lg",children:n===p.id?o.jsxs("div",{className:"flex-1 flex items-center space-x-2",children:[o.jsx("input",{type:"text",value:p.name,onChange:f=>l(p.id,{name:f.target.value}),className:"flex-1 px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500",placeholder:"Nombre de la tarifa"}),o.jsx("input",{type:"number",step:"0.01",min:"0",value:p.price,onChange:f=>l(p.id,{price:parseFloat(f.target.value)||0}),className:"w-20 px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500",placeholder:"Precio"}),o.jsx("button",{onClick:()=>r(null),className:"p-1 text-green-600 hover:bg-green-50 rounded",children:o.jsx($f,{className:"w-4 h-4"})})]}):o.jsxs("div",{className:"flex-1 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("span",{className:`text-sm font-medium ${p.isDefault?"text-blue-600":"text-gray-700"}`,children:[p.name,p.isDefault&&o.jsx("span",{className:"ml-1 text-xs bg-blue-100 text-blue-600 px-1 rounded",children:"Por defecto"})]}),o.jsxs("span",{className:"text-sm text-gray-600",children:["€",p.price.toFixed(2)]})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[!p.isDefault&&o.jsx("button",{onClick:()=>d(p.id),className:"p-1 text-blue-600 hover:bg-blue-50 rounded text-xs",title:"Establecer como predeterminada",children:"⭐"}),o.jsx("button",{onClick:()=>r(p.id),className:"p-1 text-gray-600 hover:bg-gray-100 rounded",title:"Editar tarifa",children:o.jsx(q5,{className:"w-4 h-4"})}),e.length>1&&o.jsx("button",{onClick:()=>c(p.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Eliminar tarifa",children:o.jsx(Ca,{className:"w-4 h-4"})})]})]})},p.id))}),e.length<4&&o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[o.jsx(Bn,{className:"w-4 h-4 text-gray-500"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Agregar Nueva Tarifa"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"text",value:a.name,onChange:p=>i({...a,name:p.target.value}),className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nombre (ej: Tapa, Ración, Media Ración)"}),o.jsx("input",{type:"number",step:"0.01",min:"0",value:a.price,onChange:p=>i({...a,price:parseFloat(p.target.value)||0}),className:"w-24 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Precio"}),o.jsx("button",{onClick:s,className:"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors",children:"Agregar"})]})]}),e.length===0&&o.jsxs("div",{className:"text-center py-4 text-gray-500 text-sm",children:[o.jsx("p",{children:"No hay tarifas configuradas."}),o.jsx("p",{className:"mt-1",children:"Agrega al menos una tarifa para que el producto sea visible en el dashboard."})]}),e.length>0&&o.jsxs("div",{className:"text-xs text-gray-500 bg-blue-50 p-3 rounded-lg",children:[o.jsx("p",{children:o.jsx("strong",{children:"Información:"})}),o.jsxs("ul",{className:"mt-1 space-y-1",children:[o.jsx("li",{children:"• La primera tarifa será la predeterminada"}),o.jsx("li",{children:"• Puedes cambiar la tarifa predeterminada haciendo clic en ⭐"}),o.jsx("li",{children:"• En el dashboard, si hay múltiples tarifas, se mostrará un selector"}),o.jsx("li",{children:"• Si solo hay una tarifa, se agregará directamente al pedido"})]})]})]})},YC=({isOpen:e,onClose:t,categoryId:n,categoryName:r,products:a,baseCombinationPrice:i,onSave:s,currencySymbol:l="€"})=>{const[c,d]=W.useState({}),[p,f]=W.useState(!1),[v,m]=W.useState(!1),[j,w]=W.useState(null);W.useEffect(()=>{if(e){const M={};a.forEach(F=>{M[F.id]=i}),d(M),f(!1)}},[e,a,i]);const S=(M,F)=>{d(H=>({...H,[M]:F})),f(!0)},g=M=>{w(M),m(!0)},x=M=>{j&&S(j,M),m(!1),w(null)},N=()=>{m(!1),w(null)},P=()=>{const M={};a.forEach(F=>{M[F.id]=i}),d(M),f(!0)},R=()=>{const M=a.map(F=>({id:`comb-${n}-${F.id}`,productId:F.id,additionalPrice:c[F.id],isActive:!0}));s(M),f(!1),t()},q=()=>{f(!1),t()};return e?o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[o.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:q}),o.jsxs("div",{className:"inline-block align-bottom bg-white rounded-2xl text-left overflow-hidden shadow-xl transform transition-all sm:my-4 sm:align-middle sm:max-w-7xl sm:w-full",children:[o.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Detalle de Productos - ",r]}),o.jsxs("p",{className:"text-purple-100 text-sm mt-1",children:["Precio base de categoría: ",i>0?"+":"",l,i.toFixed(2)]})]}),o.jsx("button",{onClick:q,className:"text-white hover:text-gray-200 p-2 rounded-lg hover:bg-white/20 transition-colors",children:o.jsx(hr,{className:"w-5 h-5"})})]})}),o.jsxs("div",{className:"px-6 py-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("span",{className:"text-sm text-gray-600",children:[a.length," productos en ",r]}),o.jsxs("button",{onClick:P,className:"flex items-center space-x-2 px-3 py-2 text-sm bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[o.jsx(Pj,{className:"w-4 h-4"}),o.jsx("span",{children:"Restablecer a precio base"})]})]}),p&&o.jsx("span",{className:"text-sm text-orange-600 bg-orange-50 px-3 py-1 rounded-full",children:"Cambios sin guardar"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 max-h-[70vh] overflow-y-auto",children:a.map(M=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-purple-300 transition-colors",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:M.name}),o.jsx("p",{className:"text-xs text-gray-500",children:M.description||"Sin descripción"})]}),o.jsx("div",{className:"w-4 h-4 rounded-full ml-2",style:{backgroundColor:M.backgroundColor||"#6b7280"}})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[o.jsx("span",{children:"Precio base:"}),o.jsxs("span",{children:[l,M.price.toFixed(2)]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 flex-1",children:"Precio combinación:"}),o.jsxs("div",{className:"relative",children:[o.jsx("button",{type:"button",onClick:()=>g(M.id),className:`w-24 px-3 py-2 text-sm border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-right cursor-pointer hover:bg-gray-50 transition-colors ${c[M.id]>0?"border-green-300 bg-green-50 hover:bg-green-100":c[M.id]<0?"border-red-300 bg-red-50 hover:bg-red-100":"border-gray-300 hover:bg-gray-50"}`,children:(c[M.id]||0).toFixed(2)}),o.jsx("span",{className:"absolute right-2 top-2 text-xs text-gray-400 pointer-events-none",children:"€"})]})]}),o.jsxs("div",{className:"flex items-center justify-between text-xs",children:[o.jsx("span",{className:"text-gray-500",children:"Precio final:"}),o.jsxs("span",{className:`font-medium ${M.price+(c[M.id]||0)>M.price?"text-green-600":M.price+(c[M.id]||0)<M.price?"text-red-600":"text-gray-600"}`,children:[l,(M.price+(c[M.id]||0)).toFixed(2)]})]})]})]},M.id))}),o.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Productos con precio +:"}),o.jsx("div",{className:"font-medium text-green-600",children:a.filter(M=>(c[M.id]||0)>0).length})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Productos con descuento:"}),o.jsx("div",{className:"font-medium text-red-600",children:a.filter(M=>(c[M.id]||0)<0).length})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Sin cambio:"}),o.jsx("div",{className:"font-medium text-gray-600",children:a.filter(M=>(c[M.id]||0)===0).length})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Total productos:"}),o.jsx("div",{className:"font-medium text-gray-900",children:a.length})]})]})}),o.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[o.jsx("button",{onClick:q,className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium rounded-lg hover:bg-gray-100 transition-colors",children:"Cancelar"}),o.jsxs("button",{onClick:R,disabled:!p,className:"px-6 py-2 bg-purple-600 text-white font-medium rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[o.jsx(Rl,{className:"w-4 h-4 inline mr-2"}),"Guardar Cambios"]})]})]})]})]}),v&&j&&o.jsx(Sg,{value:c[j]||i,onConfirm:x,onCancel:N,currencySymbol:l})]}):null},XC=({combinations:e,categories:t,products:n,onChange:r})=>{const[a,i]=W.useState(null),[s,l]=W.useState({productId:"",categoryId:"",additionalPrice:0,combinationType:"product"}),[c,d]=W.useState({isOpen:!1,categoryId:"",categoryName:"",basePrice:0}),p=()=>{if(s.combinationType==="product"&&!s.productId){alert("Por favor selecciona un producto");return}if(s.combinationType==="category"&&!s.categoryId){alert("Por favor selecciona una categoría");return}if(e.some(R=>s.combinationType==="product"&&R.productId===s.productId||s.combinationType==="category"&&R.categoryId===s.categoryId)){alert("Ya existe una combinación con este elemento");return}const P={id:`combination-${Date.now()}`,productId:s.combinationType==="product"?s.productId:void 0,categoryId:s.combinationType==="category"?s.categoryId:void 0,additionalPrice:s.additionalPrice,isActive:!0};r([...e,P]),l({productId:"",categoryId:"",additionalPrice:0,combinationType:"product"})},f=(N,P)=>{const R=e.map(q=>q.id===N?{...q,...P}:q);r(R),i(null)},v=N=>{r(e.filter(P=>P.id!==N))},m=N=>{const P=e.map(R=>R.id===N?{...R,isActive:!R.isActive}:R);r(P)},j=N=>{var P;return((P=t.find(R=>R.id===N))==null?void 0:P.name)||"Categoría no encontrada"},w=N=>{var P;return((P=n.find(R=>R.id===N))==null?void 0:P.name)||"Producto no encontrado"},S=(N,P,R)=>{d({isOpen:!0,categoryId:N,categoryName:P,basePrice:R})},g=N=>{const P=e.filter(R=>R.categoryId!==c.categoryId);r([...P,...N])},x=()=>{if(!s.categoryId){alert("Selecciona una categoría");return}const N=n.filter(M=>M.categoryId===s.categoryId);if(N.length===0){alert("La categoría seleccionada no tiene productos");return}const P=N.map(M=>({id:`comb-${s.categoryId}-${M.id}`,productId:M.id,additionalPrice:s.additionalPrice,isActive:!0})),R=new Set(N.map(M=>M.id)),q=e.filter(M=>!(M.productId&&R.has(M.productId))&&M.categoryId!==s.categoryId);r([...q,...P])};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Combinaciones Disponibles"}),o.jsxs("span",{className:"text-xs text-gray-500",children:[e.length," combinaciones"]})]}),o.jsx("div",{className:"space-y-2",children:e.map(N=>o.jsx("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-lg",children:a===N.id?o.jsxs("div",{className:"flex-1 flex items-center space-x-2",children:[o.jsxs("select",{value:N.categoryId,onChange:P=>f(N.id,{categoryId:P.target.value}),className:"flex-1 px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Seleccionar categoría"}),t.map(P=>o.jsx("option",{value:P.id,children:P.name},P.id))]}),o.jsx("input",{type:"number",step:"0.01",min:"0",value:N.additionalPrice,onChange:P=>f(N.id,{additionalPrice:parseFloat(P.target.value)||0}),className:"w-24 px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500",placeholder:"Precio +"}),o.jsx("button",{onClick:()=>i(null),className:"p-1 text-green-600 hover:bg-green-50 rounded",children:o.jsx($f,{className:"w-4 h-4"})})]}):o.jsxs("div",{className:"flex-1 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx($5,{className:"w-4 h-4 text-blue-500"}),o.jsx("span",{className:`text-sm font-medium ${N.isActive?"text-gray-700":"text-gray-400"}`,children:N.productId?w(N.productId):j(N.categoryId)}),N.productId&&o.jsx("span",{className:"text-xs bg-purple-100 text-purple-600 px-1 rounded",children:"Producto"}),N.categoryId&&o.jsx("span",{className:"text-xs bg-blue-100 text-blue-600 px-1 rounded",children:"Categoría"}),!N.isActive&&o.jsx("span",{className:"text-xs bg-gray-100 text-gray-500 px-1 rounded",children:"Inactiva"})]}),o.jsxs("span",{className:`text-sm font-medium ${N.additionalPrice>0?"text-green-600":N.additionalPrice<0?"text-red-600":"text-gray-600"}`,children:[N.additionalPrice>0?"+":"","€",N.additionalPrice.toFixed(2)]})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("button",{onClick:()=>m(N.id),className:`p-1 rounded text-xs ${N.isActive?"text-green-600 hover:bg-green-50":"text-gray-400 hover:bg-gray-100"}`,title:N.isActive?"Desactivar":"Activar",children:N.isActive?"✓":"○"}),o.jsx("button",{onClick:()=>i(N.id),className:"p-1 text-gray-600 hover:bg-gray-100 rounded",title:"Editar combinación",children:o.jsx(q5,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>v(N.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Eliminar combinación",children:o.jsx(Ca,{className:"w-4 h-4"})})]})]})},N.id))}),o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[o.jsx(Bn,{className:"w-4 h-4 text-gray-500"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Agregar Nueva Combinación"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Categoría completa (recomendado)"}),o.jsx("span",{className:"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded",children:"Nuevo"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("select",{value:s.categoryId,onChange:N=>l({...s,categoryId:N.target.value}),className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Seleccionar categoría"}),t.map(N=>o.jsx("option",{value:N.id,children:N.name},N.id))]}),o.jsx("input",{type:"number",step:"0.01",value:s.additionalPrice,onChange:N=>l({...s,additionalPrice:parseFloat(N.target.value)||0}),className:"w-32 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Precio ±"}),o.jsxs("button",{onClick:()=>{if(s.categoryId&&s.categoryId!==""){const N=t.find(P=>P.id===s.categoryId);N&&S(N.id,N.name,s.additionalPrice)}},disabled:!s.categoryId,className:"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors",children:[o.jsx(qf,{className:"w-4 h-4 inline mr-1"}),"Detalle"]}),o.jsxs("button",{onClick:x,disabled:!s.categoryId,className:"px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-colors",title:"Guardar directo para toda la categoría",children:[o.jsx(Rl,{className:"w-4 h-4 inline mr-1"}),"Guardar"]})]}),o.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"💡 Establece un precio base y luego personaliza cada producto individualmente"})]}),o.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Producto específico"}),o.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:"Legacy"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("select",{value:s.productId,onChange:N=>l({...s,productId:N.target.value}),className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Seleccionar producto específico"}),n.map(N=>o.jsxs("option",{value:N.id,children:[N.name," - ",N.price.toFixed(2),"€"]},N.id))]}),o.jsx("input",{type:"number",step:"0.01",value:s.additionalPrice,onChange:N=>l({...s,additionalPrice:parseFloat(N.target.value)||0}),className:"w-32 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Precio ±"}),o.jsx("button",{onClick:p,disabled:!s.productId,className:"px-4 py-2 bg-gray-600 text-white text-sm font-medium rounded-lg hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors",children:"Agregar"})]})]})]}),o.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:[o.jsx("p",{children:"💡 Puedes usar precios negativos para descuentos (ej: -1.00€)"}),o.jsx("p",{children:"💡 Precio 0.00€ = sin costo adicional"})]})]}),e.length===0&&o.jsxs("div",{className:"text-center py-4 text-gray-500 text-sm",children:[o.jsx("p",{children:"No hay combinaciones configuradas."}),o.jsx("p",{className:"mt-1",children:"Agrega combinaciones para permitir que este producto se combine con otros de categorías específicas."})]}),e.length>0&&o.jsxs("div",{className:"text-xs text-gray-500 bg-blue-50 p-3 rounded-lg",children:[o.jsx("p",{children:o.jsx("strong",{children:"Información sobre combinaciones:"})}),o.jsxs("ul",{className:"mt-1 space-y-1",children:[o.jsxs("li",{children:["• ",o.jsx("strong",{children:"Categoría completa (recomendado):"})," Establece un precio base y personaliza cada producto"]}),o.jsxs("li",{children:["• ",o.jsx("strong",{children:"Producto específico:"})," Combinación directa con un producto individual"]}),o.jsxs("li",{children:["• ",o.jsx("strong",{children:"Precio positivo (+):"})," Se suma al precio base del producto"]}),o.jsxs("li",{children:["• ",o.jsx("strong",{children:"Precio negativo (-):"})," Se resta del precio base (descuento)"]}),o.jsxs("li",{children:["• ",o.jsx("strong",{children:"Precio 0.00€:"})," Sin costo adicional"]}),o.jsxs("li",{children:["• ",o.jsx("strong",{children:'Botón "Detalle":'})," Abre un popup para editar precios individuales"]}),o.jsx("li",{children:"• En el dashboard, aparecerá la opción de combinar cuando sea relevante"}),o.jsx("li",{children:"• Puedes activar/desactivar combinaciones sin eliminarlas"})]})]}),o.jsx(YC,{isOpen:c.isOpen,onClose:()=>d({...c,isOpen:!1}),categoryId:c.categoryId,categoryName:c.categoryName,products:n.filter(N=>N.categoryId===c.categoryId),baseCombinationPrice:c.basePrice,onSave:g,currencySymbol:"€"})]})},JC=()=>{const{products:e,categories:t,addProduct:n,updateProduct:r,deleteProduct:a}=Ou(),{getCurrencySymbol:i}=Bl(),[s,l]=W.useState(""),[c,d]=W.useState(""),[p,f]=W.useState(!1),[v,m]=W.useState(!1),[j,w]=W.useState(null),[S,g]=W.useState({name:"",price:"",categoryId:"",description:"",backgroundColor:"#3b82f6",isActive:!0}),[x,N]=W.useState([]),[P,R]=W.useState([]),q=e.filter(L=>{const Y=!s||L.name.toLowerCase().includes(s.toLowerCase()),V=!c||L.categoryId===c,X=p||L.isActive;return Y&&V&&X}),M=L=>{var Y;L?(w(L),g({name:L.name,price:L.price.toString(),categoryId:L.categoryId,description:L.description||"",backgroundColor:L.backgroundColor||"#3b82f6",isActive:L.isActive}),N(L.tariffs||[]),R(L.combinations||[])):(w(null),g({name:"",price:"",categoryId:((Y=t[0])==null?void 0:Y.id)||"",description:"",backgroundColor:"#3b82f6",isActive:!0}),N([]),R([])),m(!0)},F=()=>{m(!1),w(null),g({name:"",price:"",categoryId:"",description:"",backgroundColor:"#3b82f6",isActive:!0}),N([]),R([])},H=()=>{if(!S.name.trim()||!S.price||!S.categoryId){De.error("Completa todos los campos obligatorios");return}const L=parseFloat(S.price);if(L<=0){De.error("El precio debe ser mayor a 0");return}const Y={name:S.name.trim(),price:L,categoryId:S.categoryId,description:S.description.trim(),backgroundColor:S.backgroundColor,tariffs:x,combinations:P,isActive:S.isActive};j?(r(j.id,Y),De.success("Producto actualizado exitosamente")):(n(Y),De.success("Producto creado exitosamente")),F()},re=L=>{window.confirm(`¿Estás seguro de eliminar "${L.name}"?`)&&(a(L.id),De.success("Producto eliminado"))},I=L=>{r(L.id,{isActive:!L.isActive}),De.success(`Producto ${L.isActive?"desactivado":"activado"}`)};return o.jsxs("div",{className:"h-full bg-gray-50",children:[o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestión de Productos"}),o.jsx("p",{className:"text-gray-600",children:"Administra tu catálogo de productos"})]}),o.jsxs("button",{onClick:()=>M(),className:"btn btn-primary flex items-center space-x-2 px-6 py-4 min-h-[48px] text-base font-medium",children:[o.jsx(Bn,{className:"w-5 h-5"}),o.jsx("span",{children:"Nuevo Producto"})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:o.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[o.jsx("div",{className:"flex-1 min-w-64",children:o.jsxs("div",{className:"relative",children:[o.jsx(mo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{type:"text",placeholder:"Buscar productos...",value:s,onChange:L=>l(L.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),o.jsxs("select",{value:c,onChange:L=>d(L.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[o.jsx("option",{value:"",children:"Todas las categorías"}),t.map(L=>o.jsx("option",{value:L.id,children:L.name},L.id))]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:p,onChange:L=>f(L.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Mostrar inactivos"})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:o.jsxs("div",{className:"overflow-x-auto overflow-y-auto max-h-[600px]",children:[o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Producto"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoría"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Precio/Tarifas"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Combinaciones"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Color"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:q.map(L=>{const Y=t.find(V=>V.id===L.categoryId);return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Am,{className:"w-8 h-8 text-gray-400 mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:L.name}),L.description&&o.jsx("div",{className:"text-sm text-gray-500",children:L.description})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Y&&o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium text-white",style:{backgroundColor:Y.color},children:Y.name})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"flex items-center text-sm font-medium text-gray-900",children:L.tariffs&&L.tariffs.length>0?o.jsx("div",{className:"space-y-1",children:L.tariffs.map((V,X)=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:`text-xs px-2 py-1 rounded ${V.isDefault?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600"}`,children:V.name}),o.jsxs("span",{className:"font-medium",children:[i(),V.price.toFixed(2)]})]},V.id))}):o.jsxs(o.Fragment,{children:[o.jsx(bi,{className:"w-4 h-4 mr-1"}),i(),L.price.toFixed(2)]})})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"flex items-center text-sm font-medium text-gray-900",children:L.combinations&&L.combinations.length>0?o.jsx("div",{className:"space-y-1",children:L.combinations.filter(V=>V.isActive).map((V,X)=>{const Z=t.find(U=>U.id===V.categoryId),ne=e.find(U=>U.id===V.productId);return o.jsxs("div",{className:"flex items-center space-x-2",children:[V.productId?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded",children:(ne==null?void 0:ne.name)||"Producto"}),o.jsx("span",{className:"text-xs bg-purple-50 text-purple-600 px-1 rounded",children:"Prod"})]}):o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:(Z==null?void 0:Z.name)||"Categoría"}),o.jsx("span",{className:"text-xs bg-blue-50 text-blue-600 px-1 rounded",children:"Cat"})]}),o.jsxs("span",{className:`text-xs font-medium ${V.additionalPrice>0?"text-green-600":V.additionalPrice<0?"text-red-600":"text-gray-600"}`,children:[V.additionalPrice>0?"+":"","€",V.additionalPrice.toFixed(2)]})]},V.id)})}):o.jsx("span",{className:"text-gray-400 text-xs",children:"Sin combinaciones"})})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:L.backgroundColor&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:L.backgroundColor},title:L.backgroundColor}),o.jsx("span",{className:"text-xs text-gray-600 font-mono",children:L.backgroundColor})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${L.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:L.isActive?"Activo":"Inactivo"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:o.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[o.jsx("button",{onClick:()=>I(L),className:"p-3 text-gray-400 hover:text-gray-600 min-w-[44px] min-h-[44px] flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors",title:L.isActive?"Desactivar":"Activar",children:L.isActive?o.jsx(xj,{className:"w-5 h-5"}):o.jsx(F5,{className:"w-5 h-5"})}),o.jsx("button",{onClick:()=>M(L),className:"p-3 text-blue-600 hover:text-blue-800 min-w-[44px] min-h-[44px] flex items-center justify-center rounded-lg hover:bg-blue-100 transition-colors",title:"Editar",children:o.jsx(zf,{className:"w-5 h-5"})}),o.jsx("button",{onClick:()=>re(L),className:"p-3 text-red-600 hover:text-red-800 min-w-[44px] min-h-[44px] flex items-center justify-center rounded-lg hover:bg-red-100 transition-colors",title:"Eliminar",children:o.jsx(Ca,{className:"w-5 h-5"})})]})})]},L.id)})})]}),q.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Am,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No se encontraron productos"})]})]})})]}),v&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:j?"Editar Producto":"Nuevo Producto"}),o.jsx("button",{onClick:F,className:"p-3 text-gray-400 hover:text-gray-600 min-w-[44px] min-h-[44px] flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors",children:o.jsx(hr,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre *"}),o.jsx("input",{type:"text",value:S.name,onChange:L=>g({...S,name:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Nombre del producto"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Precio *"}),o.jsx("input",{type:"number",min:"0",step:"0.01",value:S.price,onChange:L=>g({...S,price:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"0.00"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoría *"}),o.jsxs("select",{value:S.categoryId,onChange:L=>g({...S,categoryId:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Seleccionar categoría"}),t.map(L=>o.jsx("option",{value:L.id,children:L.name},L.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción"}),o.jsx("textarea",{value:S.description,onChange:L=>g({...S,description:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:3,placeholder:"Descripción opcional del producto"})]}),o.jsx(KC,{value:S.backgroundColor,onChange:L=>g({...S,backgroundColor:L}),label:"Color de fondo del botón"}),o.jsx(GC,{tariffs:x,onChange:N}),o.jsx(XC,{combinations:P,categories:t,products:e,onChange:R}),o.jsx("div",{children:o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:S.isActive,onChange:L=>g({...S,isActive:L.target.checked}),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Producto activo"})]})})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{onClick:F,className:"px-6 py-4 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors min-h-[48px] flex items-center justify-center text-base font-medium",children:"Cancelar"}),o.jsxs("button",{onClick:H,className:"px-6 py-4 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors flex items-center space-x-2 min-h-[48px] text-base font-medium",children:[o.jsx(Rl,{className:"w-5 h-5"}),o.jsx("span",{children:"Guardar"})]})]})]})})})]})},QC=()=>{const{categories:e,addCategory:t,updateCategory:n,deleteCategory:r,products:a,updateProduct:i}=Ou(),{getCurrencySymbol:s}=Bl(),[l,c]=W.useState(""),[d,p]=W.useState(!1),[f,v]=W.useState(null),[m,j]=W.useState({name:"",description:"",color:"#3B82F6"}),[w,S]=W.useState(""),[g,x]=W.useState(""),[N,P]=W.useState(0),[R,q]=W.useState(!1),[M,F]=W.useState(null),[H,re]=W.useState(0),I=["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6","#EC4899","#06B6D4","#84CC16","#F97316","#6366F1"],L=e.filter(A=>!l||A.name.toLowerCase().includes(l.toLowerCase())),Y=A=>{A?(v(A),j({name:A.name,description:A.description||"",color:A.color})):(v(null),j({name:"",description:"",color:I[0]})),p(!0)},V=()=>{p(!1),v(null),j({name:"",description:"",color:"#3B82F6"})},X=()=>{if(!m.name.trim()){De.error("El nombre es obligatorio");return}const A={name:m.name.trim(),description:m.description.trim(),color:m.color,isActive:!0};f?(n(f.id,A),De.success("Categoría actualizada exitosamente")):(t(A),De.success("Categoría creada exitosamente")),V()},Z=A=>{if(window.confirm(`¿Estás seguro de eliminar la categoría "${A.name}"?`))try{r(A.id),De.success("Categoría eliminada")}catch(z){De.error(z instanceof Error?z.message:"Error al eliminar la categoría")}},ne=()=>{if(!w||!g){De.error("Selecciona categoría origen y destino");return}if(w===g){De.error("El origen y destino no pueden ser iguales");return}const A=a.filter(z=>z.categoryId===w);if(A.length===0){De.error("La categoría origen no tiene productos");return}A.forEach(z=>{const ae=(z.combinations||[]).filter(de=>de.categoryId!==g),le={id:`comb-catcat-${w}-${g}-${z.id}`,categoryId:g,additionalPrice:N,isActive:!0};i(z.id,{combinations:[...ae,le]})}),De.success(`Combinaciones aplicadas a ${A.length} productos`)},U=(A,z,J)=>{a.filter(le=>le.categoryId===A).forEach(le=>{const de=(le.combinations||[]).map($=>$.categoryId===z?{...$,isActive:J}:$);i(le.id,{combinations:de})}),De.success(`${J?"Activadas":"Desactivadas"} combinaciones hacia la categoría seleccionada`)},Q=(A,z)=>{F(A),re(z),q(!0)},te=A=>{if(!f||!M){q(!1);return}a.filter(J=>J.categoryId===f.id).forEach(J=>{const ae=(J.combinations||[]).map(le=>le.categoryId===M?{...le,additionalPrice:A}:le);i(J.id,{combinations:ae})}),q(!1),F(null),De.success("Precio actualizado para todas las combinaciones seleccionadas")},ye=()=>{q(!1),F(null)},C=A=>{const z=a.filter($=>$.categoryId===A);z.length;const J={},ae={};z.forEach($=>{($.combinations||[]).filter(ge=>!!ge.categoryId).forEach(ge=>{const Ne=ge.categoryId;J[Ne]||(J[Ne]=[]),J[Ne].push(ge.additionalPrice),ae[Ne]=(ae[Ne]||0)+(ge.isActive?1:0)})});const le=Object.keys(J);if(le.length===0)return o.jsx("div",{className:"text-sm text-gray-500",children:"Sin combinaciones por categoría"});const de=s();return o.jsx("div",{className:"space-y-2",children:le.map($=>{const ge=J[$],Ne=e.find(Ae=>Ae.id===$),ve=ge.length,_e=ae[$]||0,qe=_e===ve,xe=ge.every(Ae=>Ae===ge[0]),ee=Math.min(...ge),Ye=Math.max(...ge),$e=xe?ge[0]:ee;return o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs px-2 py-1 rounded text-white",style:{backgroundColor:(Ne==null?void 0:Ne.color)||"#64748b"},children:(Ne==null?void 0:Ne.name)||"Categoría"}),o.jsxs("span",{className:"text-xs text-gray-500",children:[_e,"/",ve," activos"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm font-medium",children:xe?`${de}${$e.toFixed(2)}`:`Varios (${de}${ee.toFixed(2)} - ${de}${Ye.toFixed(2)})`}),o.jsxs("button",{onClick:()=>Q($,$e),className:"text-xs inline-flex items-center px-2 py-1 bg-gray-100 text-gray-700 rounded hover:bg-gray-200",title:"Editar precio masivo",children:[o.jsx(bi,{className:"w-3 h-3 mr-1"})," Precio"]}),o.jsxs("button",{onClick:()=>U(A,$,!qe),className:`text-xs inline-flex items-center px-2 py-1 rounded ${qe?"bg-red-50 text-red-600 hover:bg-red-100":"bg-green-50 text-green-600 hover:bg-green-100"}`,title:qe?"Desactivar todas":"Activar todas",children:[o.jsx(Cj,{className:"w-3 h-3 mr-1"})," ",qe?"Desactivar":"Activar"]})]})]},$)})})};return o.jsxs("div",{className:"h-full bg-gray-50",children:[o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestión de Categorías"}),o.jsx("p",{className:"text-gray-600",children:"Organiza tus productos por categorías"})]}),o.jsxs("button",{onClick:()=>Y(),className:"btn btn-primary flex items-center space-x-2 px-6 py-4 min-h-[48px] text-base font-medium",children:[o.jsx(Bn,{className:"w-5 h-5"}),o.jsx("span",{children:"Nueva Categoría"})]})]}),o.jsxs("div",{className:"bg-blue-50 rounded-lg border border-blue-200 p-4 mb-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Combinaciones por categorías"}),o.jsxs("span",{className:"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded inline-flex items-center",children:[o.jsx($5,{className:"w-3 h-3 mr-1"})," Rápido"]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsxs("select",{value:w,onChange:A=>S(A.target.value),className:"px-3 py-2 text-sm border border-blue-200 rounded-lg bg-white",children:[o.jsx("option",{value:"",children:"Origen"}),e.map(A=>o.jsx("option",{value:A.id,children:A.name},A.id))]}),o.jsx("span",{className:"text-sm text-blue-700",children:"se combina con"}),o.jsxs("select",{value:g,onChange:A=>x(A.target.value),className:"px-3 py-2 text-sm border border-blue-200 rounded-lg bg-white",children:[o.jsx("option",{value:"",children:"Destino"}),e.map(A=>o.jsx("option",{value:A.id,children:A.name},A.id))]}),o.jsx("input",{type:"number",step:"0.01",value:N,onChange:A=>P(parseFloat(A.target.value)||0),className:"w-28 px-3 py-2 text-sm border border-blue-200 rounded-lg",placeholder:"Precio ±"}),o.jsx("button",{onClick:ne,className:"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700",children:"Aplicar a la categoría"})]}),o.jsx("p",{className:"text-xs text-blue-700 mt-1",children:'El campo "Precio" sirve para añadir (o restar con valores negativos) el precio a la categoría destino.'}),o.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Aplica una combinación por categoría destino a todos los productos de la categoría origen."})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:o.jsx("div",{className:"flex items-center gap-4",children:o.jsx("div",{className:"flex-1 max-w-md",children:o.jsxs("div",{className:"relative",children:[o.jsx(mo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{type:"text",placeholder:"Buscar categorías...",value:l,onChange:A=>c(A.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})})})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:L.map(A=>o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:A.color}}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:A.name})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("button",{onClick:()=>Y(A),className:"p-3 text-gray-400 hover:text-blue-600 min-w-[44px] min-h-[44px] flex items-center justify-center rounded-lg hover:bg-blue-100 transition-colors",title:"Editar",children:o.jsx(zf,{className:"w-5 h-5"})}),o.jsx("button",{onClick:()=>Z(A),className:"p-3 text-gray-400 hover:text-red-600 min-w-[44px] min-h-[44px] flex items-center justify-center rounded-lg hover:bg-red-100 transition-colors",title:"Eliminar",children:o.jsx(Ca,{className:"w-5 h-5"})})]})]}),A.description&&o.jsx("p",{className:"text-gray-600 text-sm mb-4",children:A.description}),o.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[o.jsxs("span",{className:"flex items-center",children:[o.jsx(vv,{className:"w-4 h-4 mr-1"}),"Categoría"]}),o.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-medium text-white",style:{backgroundColor:A.color},children:A.color})]})]},A.id))}),L.length===0&&o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[o.jsx(vv,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No se encontraron categorías"}),o.jsx("button",{onClick:()=>Y(),className:"mt-4 btn btn-primary px-6 py-4 min-h-[48px] text-base font-medium",children:"Crear primera categoría"})]})]}),d&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:f?"Editar Categoría":"Nueva Categoría"}),o.jsx("button",{onClick:V,className:"p-3 text-gray-400 hover:text-gray-600 min-w-[44px] min-h-[44px] flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors",children:o.jsx(hr,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre *"}),o.jsx("input",{type:"text",value:m.name,onChange:A=>j({...m,name:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Nombre de la categoría"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción"}),o.jsx("textarea",{value:m.description,onChange:A=>j({...m,description:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:3,placeholder:"Descripción opcional de la categoría"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"color",value:m.color,onChange:A=>j({...m,color:A.target.value}),className:"w-8 h-8 border border-gray-300 rounded cursor-pointer"}),o.jsx("input",{type:"text",value:m.color,onChange:A=>j({...m,color:A.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"#3B82F6"})]}),o.jsx("div",{className:"grid grid-cols-5 gap-3",children:I.map(A=>o.jsx("button",{type:"button",onClick:()=>j({...m,color:A}),className:`w-12 h-12 rounded-full border-2 transition-all ${m.color===A?"border-gray-900 scale-110":"border-gray-300 hover:border-gray-400"}`,style:{backgroundColor:A},title:A},A))})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vista previa"}),o.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-lg",children:[o.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:m.color}}),o.jsx("span",{className:"text-sm font-medium",children:m.name||"Nombre de la categoría"})]})]}),f&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Combinaciones de esta categoría"}),C(f.id)]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{onClick:V,className:"px-6 py-4 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors min-h-[48px] flex items-center justify-center text-base font-medium",children:"Cancelar"}),o.jsxs("button",{onClick:X,className:"px-6 py-4 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors flex items-center space-x-2 min-h-[48px] text-base font-medium",children:[o.jsx(Rl,{className:"w-5 h-5"}),o.jsx("span",{children:"Guardar"})]})]})]})})}),R&&M&&f&&o.jsx(Sg,{value:H,onConfirm:te,onCancel:ye,currencySymbol:s()})]})};function ZC(e,t,n){var r,a;typeof e=="function"?(r=t||[],a=n):(r=[],a=t);var i=wa.useRef({hasResult:!1,result:a,error:null}),s=wa.useReducer(function(d){return d+1},0);s[0];var l=s[1],c=wa.useMemo(function(){var d=typeof e=="function"?e():e;if(!d||typeof d.subscribe!="function")throw e===d?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!i.current.hasResult&&typeof window<"u"&&(typeof d.hasValue!="function"||d.hasValue()))if(typeof d.getValue=="function")i.current.result=d.getValue(),i.current.hasResult=!0;else{var p=d.subscribe(function(f){i.current.result=f,i.current.hasResult=!0});typeof p=="function"?p():p.unsubscribe()}return d},r);if(wa.useDebugValue(i.current.result),wa.useEffect(function(){var d=c.subscribe(function(p){var f=i.current;(f.error!==null||f.result!==p)&&(f.error=null,f.result=p,f.hasResult=!0,l())},function(p){var f=i.current;f.error!==p&&(f.error=p,l())});return typeof d=="function"?d:d.unsubscribe.bind(d)},r),i.current.error)throw i.current.error;return i.current.result}function ul(e,t,n){return ZC(function(){return Db(e)},t||[],n)}const e7=()=>{const[e,t]=W.useState(null),[n,r]=W.useState("tables"),[a,i]=W.useState(!1),[s,l]=W.useState(!1),[c,d]=W.useState(!1),[p,f]=W.useState(null),[v,m]=W.useState(null),[j,w]=W.useState(null),[S,g]=W.useState(!1),[x,N]=W.useState({number:"",name:"",capacity:"",x:100,y:100,width:80,height:80}),[P,R]=W.useState({name:"",description:""}),[q,M]=W.useState({name:""}),F=ul(()=>Ct.salons.where("isActive").equals(1).toArray()),H=ul(()=>e?Ct.posTables.where("salonId").equals(e).toArray():[],[e]),re=ul(()=>{if(e)return Ct.salons.get(e)},[e]),I=ul(()=>e?Ct.namedAccounts.where("salonId").equals(e).toArray().then($=>$.filter(ge=>ge.status==="active")):[],[e]);wa.useEffect(()=>{F&&F.length>0&&!e&&t(F[0].id)},[F,e]);const L=async $=>{if($.preventDefault(),!x.number||!x.name||!x.capacity||!e){De.error("Por favor completa todos los campos obligatorios");return}try{const ge={number:x.number,name:x.name,capacity:parseInt(x.capacity),salonId:e,x:x.x,y:x.y,width:x.width,height:x.height,status:"available"};p?(await Ct.posTables.update(p.id,ge),De.success("Mesa actualizada exitosamente")):(await Ct.posTables.add({...ge,createdAt:new Date,updatedAt:new Date,syncStatus:"pending"}),De.success("Mesa creada exitosamente")),Z()}catch(ge){console.error("Error saving table:",ge),De.error("Error al guardar la mesa")}},Y=()=>{f(null),N({number:"",name:"",capacity:"",x:50+Math.random()*200,y:50+Math.random()*200,width:80,height:80}),i(!0)},V=$=>{f($),N({number:$.number,name:$.name,capacity:$.capacity.toString(),x:$.x,y:$.y,width:$.width,height:$.height}),i(!0)},X=async $=>{if($.status==="occupied"){De.error("No se puede eliminar una mesa que está ocupada");return}if(window.confirm(`¿Estás seguro de que quieres eliminar la mesa "${$.name}"?`))try{await Ct.posTables.delete($.id),De.success("Mesa eliminada exitosamente")}catch(ge){console.error("Error deleting table:",ge),De.error("Error al eliminar la mesa")}},Z=()=>{i(!1),f(null),N({number:"",name:"",capacity:"",x:100,y:100,width:80,height:80})},ne=async $=>{if($.preventDefault(),!P.name){De.error("El nombre del salón es obligatorio");return}try{const ge={name:P.name,description:P.description||void 0,isActive:!0};if(v)await Ct.salons.update(v.id,ge),De.success("Salón actualizado exitosamente");else{const Ne=await Ct.salons.add({...ge,createdAt:new Date,updatedAt:new Date,syncStatus:"pending"});t(Ne),De.success("Salón creado exitosamente")}Q()}catch(ge){console.error("Error saving salon:",ge),De.error("Error al guardar el salón")}},U=$=>{m($),R({name:$.name,description:$.description||""}),l(!0)},Q=()=>{l(!1),m(null),R({name:"",description:""})},te=async $=>{if($.preventDefault(),!q.name||!e){De.error("Por favor ingresa un nombre para la cuenta");return}try{await Ct.namedAccounts.add({name:q.name,salonId:e,status:"active",totalAmount:0,createdAt:new Date,updatedAt:new Date,syncStatus:"pending"}),De.success("Cuenta creada exitosamente"),A()}catch(ge){console.error("Error creating account:",ge),De.error("Error al crear la cuenta")}},ye=async $=>{if(window.confirm(`¿Estás seguro de que quieres cobrar la cuenta de "${$.name}"?`))try{await Ct.namedAccounts.update($.id,{status:"paid",paidAt:new Date,updatedAt:new Date,syncStatus:"pending"}),De.success(`Cuenta de ${$.name} cobrada exitosamente`)}catch(ge){console.error("Error paying account:",ge),De.error("Error al cobrar la cuenta")}},C=()=>{M({name:""}),d(!0)},A=()=>{d(!1),M({name:""})},z=$=>{switch($){case"available":return"border-green-300 bg-green-50 text-green-800";case"occupied":return"border-red-300 bg-red-50 text-red-800";case"reserved":return"border-yellow-300 bg-yellow-50 text-yellow-800";case"maintenance":return"border-gray-400 bg-gray-100 text-gray-600";default:return"border-gray-300 bg-gray-50 text-gray-800"}},J=$=>{switch($){case"available":return"Disponible";case"occupied":return"Ocupada";case"reserved":return"Reservada";case"maintenance":return"Mantenimiento";default:return $}},ae=($,ge)=>{w(ge),g(!0),$.dataTransfer.effectAllowed="move",$.dataTransfer.setData("text/html","")},le=$=>{$.preventDefault(),$.dataTransfer.dropEffect="move"},de=async $=>{if($.preventDefault(),g(!1),!!j)try{const Ne=$.currentTarget.getBoundingClientRect(),ve=$.clientX-Ne.left-40,_e=$.clientY-Ne.top-40,qe=Ne.width-80,xe=Ne.height-80,ee=Math.max(0,Math.min(ve,qe)),Ye=Math.max(0,Math.min(_e,xe));await Ct.posTables.update(j.id,{x:ee,y:Ye,updatedAt:new Date,syncStatus:"pending"}),De.success("Posición de mesa actualizada")}catch(ge){console.error("Error updating table position:",ge),De.error("Error al actualizar la posición de la mesa")}finally{w(null)}};return o.jsxs("div",{className:"h-full flex flex-col bg-gray-50",children:[o.jsxs("div",{className:"bg-white border-b border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Cm,{className:"w-6 h-6 text-primary-600"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Editor de Salones y Mesas"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("button",{onClick:()=>l(!0),className:"btn btn-secondary flex items-center space-x-2 px-6 py-4 min-h-[48px] text-base font-medium",children:[o.jsx(Bn,{className:"w-5 h-5"}),o.jsx("span",{children:"Nuevo Salón"})]}),n==="tables"?o.jsxs("button",{onClick:Y,disabled:!e,className:"btn btn-primary flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed px-6 py-4 min-h-[48px] text-base font-medium",children:[o.jsx(Bn,{className:"w-5 h-5"}),o.jsx("span",{children:"Nueva Mesa"})]}):o.jsxs("button",{onClick:C,disabled:!e,className:"btn btn-primary flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed px-6 py-4 min-h-[48px] text-base font-medium",style:{backgroundColor:"#9333ea",borderColor:"#9333ea"},children:[o.jsx(Bn,{className:"w-5 h-5"}),o.jsx("span",{children:"Nueva Cuenta"})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Salón:"}),o.jsxs("select",{value:e||"",onChange:$=>t($.target.value?Number($.target.value):null),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Seleccionar salón..."}),F==null?void 0:F.map($=>o.jsx("option",{value:$.id,children:$.name},$.id))]}),re&&o.jsx("button",{onClick:()=>U(re),className:"p-3 text-blue-600 hover:bg-blue-100 rounded-lg transition-colors min-w-[44px] min-h-[44px] flex items-center justify-center",title:"Editar salón",children:o.jsx(zf,{className:"w-5 h-5"})})]}),e&&o.jsxs("div",{className:"flex space-x-1 mt-4",children:[o.jsx("button",{onClick:()=>r("tables"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${n==="tables"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Mesas"}),o.jsx("button",{onClick:()=>r("accounts"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${n==="accounts"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Cuentas por Nombre"})]})]}),o.jsx("div",{className:"flex-1 overflow-hidden",children:e&&re?o.jsxs("div",{className:"h-full flex",children:[o.jsx("div",{className:"flex-1 bg-white m-4 rounded-lg border border-gray-200 relative overflow-auto",children:o.jsx("div",{className:"absolute inset-0 p-4",children:n==="tables"?o.jsxs("div",{className:`w-full h-full relative bg-gray-50 rounded border-2 border-dashed border-gray-300 ${S?"bg-blue-50 border-blue-300":""}`,onDragOver:le,onDrop:de,children:[H==null?void 0:H.map($=>o.jsxs("div",{draggable:!0,onDragStart:ge=>ae(ge,$),className:`absolute rounded-lg border-2 cursor-move transition-all duration-200 flex items-center justify-center text-xs font-medium select-none ${z($.status)} ${(j==null?void 0:j.id)===$.id?"opacity-50":""} hover:shadow-lg hover:scale-105`,style:{left:$.x,top:$.y,width:$.width||80,height:$.height||80},onDoubleClick:()=>V($),title:`Mesa ${$.number} - ${$.name} (${J($.status)}) - Arrastra para mover, doble clic para editar`,children:[o.jsxs("div",{className:"text-center pointer-events-none",children:[o.jsx("div",{className:"font-semibold",children:$.number}),o.jsx("div",{className:"text-xs opacity-75",children:$.name})]}),o.jsx("div",{className:"absolute -top-2 -right-2",children:o.jsx("button",{onClick:ge=>{ge.stopPropagation(),X($)},className:"p-2 text-red-600 hover:bg-red-100 rounded-lg transition-colors min-w-[36px] min-h-[36px] flex items-center justify-center bg-white shadow-sm border border-gray-200",children:o.jsx(Ca,{className:"w-4 h-4"})})})]},$.id)),(H==null?void 0:H.length)===0&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-500",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Ej,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),o.jsx("p",{className:"text-lg font-medium",children:"Sin mesas en este salón"}),o.jsx("p",{className:"text-sm",children:'Haz clic en "Nueva Mesa" para agregar una'})]})}),H&&H.length>0&&o.jsxs("div",{className:"absolute top-2 left-2 bg-blue-100 border border-blue-300 rounded-lg p-3 text-blue-800 text-sm max-w-xs",children:[o.jsx("div",{className:"font-medium mb-1",children:"💡 Cómo usar el editor:"}),o.jsxs("ul",{className:"text-xs space-y-1",children:[o.jsxs("li",{children:["• ",o.jsx("strong",{children:"Arrastra"})," las mesas para moverlas"]}),o.jsxs("li",{children:["• ",o.jsx("strong",{children:"Doble clic"})," para editar una mesa"]}),o.jsxs("li",{children:["• ",o.jsx("strong",{children:"Clic en ❌"})," para eliminar"]})]})]})]}):o.jsx("div",{className:"w-full h-full relative bg-gray-50 rounded border-2 border-dashed border-gray-300 p-4",children:o.jsxs("div",{className:"flex flex-wrap gap-4",children:[I==null?void 0:I.map($=>o.jsxs("div",{className:"bg-purple-100 border-2 border-purple-300 rounded-lg p-4 min-w-[120px] text-center cursor-pointer hover:shadow-lg hover:scale-105 transition-all duration-200",onClick:()=>ye($),title:`Clic para cobrar la cuenta de ${$.name}`,children:[o.jsx(kn,{className:"w-6 h-6 mx-auto mb-2 text-purple-600"}),o.jsx("div",{className:"font-semibold text-purple-800 text-sm",children:$.name}),o.jsxs("div",{className:"text-xs text-purple-600 mt-1",children:["$",$.totalAmount.toFixed(2)]})]},$.id)),(I==null?void 0:I.length)===0&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-500",children:o.jsxs("div",{className:"text-center",children:[o.jsx(kn,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),o.jsx("p",{className:"text-lg font-medium",children:"Sin cuentas activas"}),o.jsx("p",{className:"text-sm",children:'Haz clic en "Nueva Cuenta" para crear una'})]})})]})})})}),o.jsx("div",{className:"w-80 bg-white border-l border-gray-200 overflow-auto",children:o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:re.name}),re.description&&o.jsx("p",{className:"text-gray-600 mb-4",children:re.description}),n==="tables"?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Estadísticas de Mesas"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[o.jsx("div",{className:"font-medium",children:"Total Mesas"}),o.jsx("div",{className:"text-lg font-bold text-primary-600",children:(H==null?void 0:H.length)||0})]}),o.jsxs("div",{className:"bg-green-50 p-2 rounded",children:[o.jsx("div",{className:"font-medium",children:"Disponibles"}),o.jsx("div",{className:"text-lg font-bold text-green-600",children:(H==null?void 0:H.filter($=>$.status==="available").length)||0})]}),o.jsxs("div",{className:"bg-red-50 p-2 rounded",children:[o.jsx("div",{className:"font-medium",children:"Ocupadas"}),o.jsx("div",{className:"text-lg font-bold text-red-600",children:(H==null?void 0:H.filter($=>$.status==="occupied").length)||0})]}),o.jsxs("div",{className:"bg-yellow-50 p-2 rounded",children:[o.jsx("div",{className:"font-medium",children:"Reservadas"}),o.jsx("div",{className:"text-lg font-bold text-yellow-600",children:(H==null?void 0:H.filter($=>$.status==="reserved").length)||0})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Lista de Mesas"}),o.jsx("div",{className:"space-y-2 max-h-96 overflow-auto",children:H==null?void 0:H.map($=>o.jsx("div",{className:"border border-gray-200 rounded-lg p-3 hover:bg-gray-50 cursor-pointer",onClick:()=>V($),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"font-medium",children:["Mesa ",$.number]}),o.jsx("div",{className:"text-sm text-gray-600",children:$.name}),o.jsxs("div",{className:"text-xs text-gray-500",children:["Capacidad: ",$.capacity," personas"]})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${z($.status)}`,children:J($.status)}),o.jsx("button",{onClick:ge=>{ge.stopPropagation(),X($)},className:"p-2 text-red-600 hover:bg-red-100 rounded-lg transition-colors min-w-[36px] min-h-[36px] flex items-center justify-center",children:o.jsx(Ca,{className:"w-4 h-4"})})]})]})},$.id))})]})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Estadísticas de Cuentas"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{className:"bg-purple-50 p-2 rounded",children:[o.jsx("div",{className:"font-medium",children:"Cuentas Activas"}),o.jsx("div",{className:"text-lg font-bold text-purple-600",children:(I==null?void 0:I.length)||0})]}),o.jsxs("div",{className:"bg-green-50 p-2 rounded",children:[o.jsx("div",{className:"font-medium",children:"Total a Cobrar"}),o.jsxs("div",{className:"text-lg font-bold text-green-600",children:["$",(I==null?void 0:I.reduce(($,ge)=>$+ge.totalAmount,0).toFixed(2))||"0.00"]})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Cuentas Activas"}),o.jsx("div",{className:"space-y-2 max-h-96 overflow-auto",children:I==null?void 0:I.map($=>o.jsx("div",{className:"border border-purple-200 rounded-lg p-3 hover:bg-purple-50 cursor-pointer",onClick:()=>ye($),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-purple-800",children:$.name}),o.jsxs("div",{className:"text-sm text-purple-600",children:["$",$.totalAmount.toFixed(2)]}),o.jsxs("div",{className:"text-xs text-gray-500",children:["Creada: ",new Date($.createdAt).toLocaleDateString()]})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium bg-purple-100 text-purple-800",children:"Activa"}),o.jsx("button",{onClick:ge=>{ge.stopPropagation(),ye($)},className:"p-2 text-green-600 hover:bg-green-100 rounded-lg transition-colors min-w-[36px] min-h-[36px] flex items-center justify-center",title:"Cobrar cuenta",children:o.jsx(bi,{className:"w-4 h-4"})})]})]})},$.id))})]})]})]})})]}):o.jsx("div",{className:"h-full flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Cm,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Selecciona un salón"}),o.jsx("p",{className:"text-gray-500 mb-4",children:(F==null?void 0:F.length)===0?"No hay salones creados. Crea tu primer salón para comenzar.":"Selecciona un salón de la lista para ver y editar sus mesas."}),(F==null?void 0:F.length)===0&&o.jsx("button",{onClick:()=>l(!0),className:"btn btn-primary px-6 py-4 min-h-[48px] text-base font-medium",children:"Crear Primer Salón"})]})})}),a&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:p?"Editar Mesa":"Nueva Mesa"}),o.jsx("button",{onClick:Z,className:"text-gray-400 hover:text-gray-600 p-3 min-w-[44px] min-h-[44px] flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors",children:o.jsx(Bn,{className:"w-6 h-6 transform rotate-45"})})]}),o.jsxs("form",{onSubmit:L,className:"p-6 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Número *"}),o.jsx("input",{type:"text",required:!0,value:x.number,onChange:$=>N({...x,number:$.target.value}),className:"input",placeholder:"1, 2, A1..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacidad *"}),o.jsx("input",{type:"number",min:"1",required:!0,value:x.capacity,onChange:$=>N({...x,capacity:$.target.value}),className:"input",placeholder:"4"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre *"}),o.jsx("input",{type:"text",required:!0,value:x.name,onChange:$=>N({...x,name:$.target.value}),className:"input",placeholder:"Mesa junto a la ventana"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ancho (px)"}),o.jsx("input",{type:"number",min:"40",max:"200",value:x.width,onChange:$=>N({...x,width:parseInt($.target.value)}),className:"input"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alto (px)"}),o.jsx("input",{type:"number",min:"40",max:"200",value:x.height,onChange:$=>N({...x,height:parseInt($.target.value)}),className:"input"})]})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:Z,className:"flex-1 btn btn-secondary px-6 py-4 min-h-[48px] text-base font-medium",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"flex-1 btn btn-primary px-6 py-4 min-h-[48px] text-base font-medium",children:p?"Actualizar":"Crear"})]})]})]})}),s&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:v?"Editar Salón":"Nuevo Salón"}),o.jsx("button",{onClick:Q,className:"text-gray-400 hover:text-gray-600 p-3 min-w-[44px] min-h-[44px] flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors",children:o.jsx(Bn,{className:"w-6 h-6 transform rotate-45"})})]}),o.jsxs("form",{onSubmit:ne,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre *"}),o.jsx("input",{type:"text",required:!0,value:P.name,onChange:$=>R({...P,name:$.target.value}),className:"input",placeholder:"Salón principal, Terraza..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción"}),o.jsx("textarea",{rows:3,value:P.description,onChange:$=>R({...P,description:$.target.value}),className:"input resize-none",placeholder:"Descripción del salón (opcional)"})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:Q,className:"flex-1 btn btn-secondary px-6 py-4 min-h-[48px] text-base font-medium",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"flex-1 btn btn-primary px-6 py-4 min-h-[48px] text-base font-medium",children:v?"Actualizar":"Crear"})]})]})]})}),c&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Nueva Cuenta por Nombre"}),o.jsx("button",{onClick:A,className:"text-gray-400 hover:text-gray-600 p-3 min-w-[44px] min-h-[44px] flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors",children:o.jsx(Bn,{className:"w-6 h-6 transform rotate-45"})})]}),o.jsxs("form",{onSubmit:te,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre del Cliente *"}),o.jsx("input",{type:"text",required:!0,value:q.name,onChange:$=>M({...q,name:$.target.value}),className:"input",placeholder:"Juan Pérez, María García...",autoFocus:!0})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:A,className:"flex-1 btn btn-secondary px-6 py-4 min-h-[48px] text-base font-medium",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"flex-1 btn btn-primary px-6 py-4 min-h-[48px] text-base font-medium",style:{backgroundColor:"#9333ea",borderColor:"#9333ea"},children:"Crear Cuenta"})]})]})]})})]})},t7=()=>{const[e,t]=W.useState(""),n=new Date,r=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")}`,[a,i]=W.useState("paid"),[s,l]=W.useState(r),[c,d]=W.useState(null),p=Eu(),f=ul(async()=>{try{let g=Ct.orders.toCollection();if(a&&(g=g.filter(x=>x.status===a)),s){const x=new Date(s),N=new Date(x.getTime()+24*60*60*1e3);g=g.filter(P=>P.createdAt>=x&&P.createdAt<N)}if(e){const x=e.toLowerCase();g=g.filter(N=>{var P,R;return((P=N.customerName)==null?void 0:P.toLowerCase().includes(x))||((R=N.waiterName)==null?void 0:R.toLowerCase().includes(x))||String(N.id??"").includes(e)})}return await g.reverse().sortBy("createdAt")}catch(g){return console.error("Error cargando pedidos:",g),[]}},[a,s,e])||[],v=ul(()=>Ct.posTables.toArray())||[],m=g=>{switch(g){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"preparing":return"bg-purple-100 text-purple-800";case"ready":return"bg-orange-100 text-orange-800";case"delivered":return"bg-green-100 text-green-800";case"paid":return"bg-emerald-100 text-emerald-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},j=g=>{switch(g){case"pending":return"Pendiente";case"confirmed":return"Confirmado";case"preparing":return"Preparando";case"ready":return"Listo";case"delivered":return"Entregado";case"paid":return"Pagado";case"cancelled":return"Cancelado";default:return g}},w=g=>{if(!g)return"Para llevar";const x=v==null?void 0:v.find(N=>N.id===g);return x?`Mesa ${x.number} - ${x.name}`:`Mesa ${g}`},S=async(g,x)=>{try{if(await Ct.orders.update(g,{status:x,updatedAt:new Date}),(c==null?void 0:c.id)===g){const N=await Ct.orders.get(g);d(N||null)}}catch(N){console.error("Error updating order status:",N)}};return o.jsxs("div",{className:"h-full flex bg-gray-50",children:[o.jsxs("div",{className:"w-1/2 flex flex-col border-r border-gray-200",children:[o.jsxs("div",{className:"bg-white border-b border-gray-200 p-6",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Js,{className:"w-6 h-6 text-primary-600"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Pedidos"})]})}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx(mo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{type:"text",placeholder:"Buscar por cliente, mesero o ID...",value:e,onChange:g=>t(g.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsxs("select",{value:a,onChange:g=>i(g.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Todos los estados"}),o.jsx("option",{value:"pending",children:"Pendiente"}),o.jsx("option",{value:"confirmed",children:"Confirmado"}),o.jsx("option",{value:"preparing",children:"Preparando"}),o.jsx("option",{value:"ready",children:"Listo"}),o.jsx("option",{value:"delivered",children:"Entregado"}),o.jsx("option",{value:"paid",children:"Pagado"}),o.jsx("option",{value:"cancelled",children:"Cancelado"})]}),o.jsx("input",{type:"date",value:s,onChange:g=>l(g.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]})]}),o.jsxs("div",{className:"flex-1 overflow-auto",children:[f.length>0&&f.map(g=>o.jsxs("div",{onClick:()=>d(g),className:`border-b border-gray-200 p-4 cursor-pointer hover:bg-gray-50 transition-colors ${(c==null?void 0:c.id)===g.id?"bg-primary-50 border-primary-200":"bg-white"}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("span",{className:"font-semibold text-gray-900",children:["Pedido #",g.id]}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${m(g.status)}`,children:j(g.status)})]}),o.jsxs("div",{className:"text-lg font-bold text-primary-600",children:["$",g.total.toFixed(2)]})]}),o.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(gu,{className:"w-4 h-4"}),o.jsx("span",{children:of(g.createdAt,"dd/MM/yyyy HH:mm",{locale:lf})})]}),g.customerName&&o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(kn,{className:"w-4 h-4"}),o.jsx("span",{children:g.customerName})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Dl,{className:"w-4 h-4"}),o.jsx("span",{children:w(g.tableId)})]}),o.jsxs("div",{className:"text-xs text-gray-500",children:[g.items.length," producto(s) • ",g.waiterName]})]})]},g.id)),f.length===0&&o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Js,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay pedidos"}),o.jsx("p",{className:"text-gray-500",children:e||a||s?"No se encontraron pedidos con los filtros aplicados":"Los pedidos aparecerán aquí"})]})})]})]}),o.jsx("div",{className:"flex-1 flex flex-col",children:c?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-white border-b border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Pedido #",c.id]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("select",{value:c.status,onChange:g=>S(c.id,g.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"pending",children:"Pendiente"}),o.jsx("option",{value:"confirmed",children:"Confirmado"}),o.jsx("option",{value:"preparing",children:"Preparando"}),o.jsx("option",{value:"ready",children:"Listo"}),o.jsx("option",{value:"delivered",children:"Entregado"}),o.jsx("option",{value:"paid",children:"Pagado"}),o.jsx("option",{value:"cancelled",children:"Cancelado"})]}),o.jsx("button",{onClick:()=>{c!=null&&c.id&&(localStorage.setItem("orderToEdit",String(c.id)),p("/"))},className:"px-3 py-2 rounded-lg border border-primary-500 text-primary-700 hover:bg-primary-50",title:"Editar este ticket en el Dashboard",children:"Editar en Dashboard"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-1 text-gray-600 mb-1",children:[o.jsx(gu,{className:"w-4 h-4"}),o.jsx("span",{children:"Creado:"})]}),o.jsx("div",{className:"font-medium",children:of(c.createdAt,"dd/MM/yyyy HH:mm",{locale:lf})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-1 text-gray-600 mb-1",children:[o.jsx(Dl,{className:"w-4 h-4"}),o.jsx("span",{children:"Ubicación:"})]}),o.jsx("div",{className:"font-medium",children:w(c.tableId)})]}),c.customerName&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-1 text-gray-600 mb-1",children:[o.jsx(kn,{className:"w-4 h-4"}),o.jsx("span",{children:"Cliente:"})]}),o.jsx("div",{className:"font-medium",children:c.customerName})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-1 text-gray-600 mb-1",children:[o.jsx(kn,{className:"w-4 h-4"}),o.jsx("span",{children:"Mesero:"})]}),o.jsx("div",{className:"font-medium",children:c.waiterName})]})]})]}),o.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Productos"}),o.jsx("div",{className:"space-y-3",children:c.items.map((g,x)=>o.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-gray-900",children:g.productName}),g.notes&&o.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Nota: ",g.notes]}),o.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-500",children:[o.jsxs("span",{children:["Cantidad: ",g.quantity]}),o.jsxs("span",{children:["Precio unitario: $",g.unitPrice.toFixed(2)]}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${m(g.status)}`,children:j(g.status)})]})]}),o.jsxs("div",{className:"text-lg font-semibold text-primary-600",children:["$",g.totalPrice.toFixed(2)]})]})},x))})]}),o.jsxs("div",{className:"bg-white border-t border-gray-200 p-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Subtotal:"}),o.jsxs("span",{children:["$",c.subtotal.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"IVA:"}),o.jsxs("span",{children:["$",c.tax.toFixed(2)]})]}),c.discount>0&&o.jsxs("div",{className:"flex justify-between text-sm text-red-600",children:[o.jsx("span",{children:"Descuento:"}),o.jsxs("span",{children:["-$",c.discount.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between text-lg font-semibold border-t pt-2",children:[o.jsx("span",{children:"Total:"}),o.jsxs("span",{className:"text-primary-600",children:["$",c.total.toFixed(2)]})]})]}),c.notes&&o.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[o.jsx("div",{className:"text-sm font-medium text-yellow-800 mb-1",children:"Notas del pedido:"}),o.jsx("div",{className:"text-sm text-yellow-700",children:c.notes})]})]})]}):o.jsx("div",{className:"flex-1 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(F5,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Selecciona un pedido"}),o.jsx("p",{className:"text-gray-500",children:"Haz clic en un pedido para ver sus detalles"})]})})})]})},_c=()=>{const[e,t]=W.useState("general"),n=Li(),[r,a]=W.useState(!1),[i,s]=W.useState(null),[l,c]=W.useState(""),{customers:d,addCustomer:p,updateCustomer:f,deleteCustomer:v,searchCustomers:m}=Kf(),[j,w]=W.useState(!1),[S,g]=W.useState(null);W.useEffect(()=>{n.pathname.includes("/configuration/salons")||n.pathname.includes("/tables")?t("salons"):n.pathname.includes("/configuration/modifiers")||n.pathname.includes("/modifiers")?t("modifiers"):n.pathname.includes("/customers")?t("customers"):t("general")},[n.pathname]);const{salons:x,activeSalonId:N,setActiveSalon:P,addSalon:R,removeSalon:q,renameSalon:M,tables:F,decor:H,addTable:re,removeTable:I,updateTablePosition:L,updateTableRotation:Y,addDecor:V,updateDecorPosition:X,updateDecorRotation:Z}=Wf(),{categories:ne}=Ou(),{config:U,updateConfig:Q,getModifiersForCategory:te,updateCategoryModifiers:ye}=Bl(),[C,A]=W.useState(U);W.useEffect(()=>{A(U)},[U]);const z=()=>{Q(C),De.success("Configuración guardada exitosamente")},J=async ve=>{try{ve.id?await f(ve.id,ve):await p(ve)}catch(_e){console.error("Error saving customer:",_e)}},ae=async()=>{if(S)try{await v(S.id),g(null),w(!1)}catch(ve){console.error("Error deleting customer:",ve)}},le=m(l),de=()=>o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"card p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Información del Restaurante"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del Restaurante"}),o.jsx("input",{type:"text",value:C.restaurantName,onChange:ve=>A({...C,restaurantName:ve.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Moneda"}),o.jsxs("select",{value:C.currency,onChange:ve=>A({...C,currency:ve.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"MXN",children:"Peso Mexicano (MXN)"}),o.jsx("option",{value:"USD",children:"Dólar Americano (USD)"}),o.jsx("option",{value:"EUR",children:"Euro (EUR)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tasa de IVA (%)"}),o.jsx("input",{type:"number",min:"0",max:"100",step:"0.01",value:C.taxRate*100,onChange:ve=>{const _e=Math.max(0,Math.min(100,parseFloat(ve.target.value)));A({...C,taxRate:_e/100})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),o.jsx("div",{className:"mt-6",children:o.jsxs("button",{onClick:z,className:"btn btn-primary flex items-center space-x-2",children:[o.jsx(Rl,{className:"w-4 h-4"}),o.jsx("span",{children:"Guardar Cambios"})]})})]})}),$=()=>{var ve;return o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"card p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Modificadores"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Modificadores globales"}),o.jsx(ny,{value:((ve=C.modifiers)==null?void 0:ve.global)||[],onChange:_e=>{var qe;return A({...C,modifiers:{global:_e,byCategory:((qe=C.modifiers)==null?void 0:qe.byCategory)||{}}})},placeholder:"Escribe y presiona Enter"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Modificadores por categoría"}),o.jsx("div",{className:"space-y-4 max-h-72 overflow-y-auto pr-2",children:ne.map(_e=>{var qe,xe;return o.jsxs("div",{className:"border rounded-lg p-3",children:[o.jsx("div",{className:"text-sm font-medium mb-2",style:{color:_e.color},children:_e.name}),o.jsx(ny,{value:((xe=(qe=C.modifiers)==null?void 0:qe.byCategory)==null?void 0:xe[_e.id])||[],onChange:ee=>{var Ye,$e;return A({...C,modifiers:{global:((Ye=C.modifiers)==null?void 0:Ye.global)||[],byCategory:{...(($e=C.modifiers)==null?void 0:$e.byCategory)||{},[_e.id]:ee}}})},placeholder:`Añadir modificadores para ${_e.name}`})]},_e.id)})})]})]}),o.jsx("div",{className:"mt-4",children:o.jsx("button",{onClick:()=>{Q({modifiers:C.modifiers}),De.success("Modificadores guardados")},className:"btn btn-primary",children:"Guardar Modificadores"})})]})})},ge=()=>o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"card p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Gestión de Clientes"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Administra la información de tus clientes"})]}),o.jsxs("button",{onClick:()=>{s(null),a(!0)},className:"btn btn-primary flex items-center space-x-2",children:[o.jsx(Bn,{className:"w-4 h-4"}),o.jsx("span",{children:"Nuevo Cliente"})]})]}),o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"relative",children:[o.jsx(mo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{type:"text",placeholder:"Buscar por nombre, email, teléfono o código de tarjeta...",value:l,onChange:ve=>c(ve.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),le.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(rf,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),o.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay clientes registrados"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Comienza agregando tu primer cliente"}),o.jsxs("button",{onClick:()=>{s(null),a(!0)},className:"btn btn-primary inline-flex items-center space-x-2",children:[o.jsx(Bn,{className:"w-4 h-4"}),o.jsx("span",{children:"Agregar Cliente"})]})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:[le.length," cliente",le.length!==1?"s":""," encontrado",le.length!==1?"s":"",l&&d.length!==le.length&&o.jsxs("span",{className:"text-blue-600",children:[" de ",d.length," total"]})]}),o.jsx("div",{className:"grid gap-4",children:le.map(ve=>o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx(rf,{className:"w-5 h-5 text-blue-600"})}),o.jsxs("div",{children:[o.jsxs("h4",{className:"font-medium text-gray-900",children:[ve.name," ",ve.lastName]}),o.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mt-1",children:[ve.email&&o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(og,{className:"w-3 h-3"}),o.jsx("span",{children:ve.email})]}),ve.phone&&o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(lg,{className:"w-3 h-3"}),o.jsx("span",{children:ve.phone})]}),ve.cardCode&&o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Du,{className:"w-3 h-3"}),o.jsx("span",{children:ve.cardCode})]})]})]})]})}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-sm text-gray-500",children:"Saldo"}),o.jsxs("div",{className:`font-semibold ${ve.balance>0?"text-green-600":"text-gray-600"}`,children:["€",ve.balance.toFixed(2)]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>{s(ve),a(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Editar cliente",children:o.jsx(zf,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>{g(ve),w(!0)},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar cliente",children:o.jsx(Ca,{className:"w-4 h-4"})})]})]})]}),ve.notes&&o.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:o.jsxs("div",{className:"text-sm text-gray-600",children:[o.jsx("strong",{children:"Notas:"})," ",ve.notes]})})]},ve.id))})]})]})}),Ne=()=>{const ve=x.find(Ce=>Ce.id===N),_e=()=>{const Ce={id:`table-${Date.now()}`,number:"1",name:"",status:"available",x:100,y:100,capacity:4};re(Ce),De.success("Mesa agregada")},qe=Ce=>{I(Ce)?De.success("Mesa eliminada"):De.error("No se puede eliminar una mesa ocupada")},xe=(Ce,Ie,Ke)=>{L(Ce,Ie,Ke)},ee=(Ce,Ie)=>{Y(Ce.id,Ie)},Ye=(Ce,Ie)=>{Z(Ce.id,Ie)},$e=()=>{const Ce={id:`decor-${Date.now()}`,kind:"plant",x:150,y:150};V(Ce),De.success("Planta agregada")},Ae=()=>{const Ce={id:`decor-${Date.now()}`,kind:"bar",x:200,y:200};V(Ce),De.success("Barra agregada")},Me=()=>{const Ce=prompt("Nombre del nuevo salón:");Ce!=null&&Ce.trim()&&(R(Ce.trim()),De.success(`Salón "${Ce}" creado`))};return o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsxs("div",{className:"p-6 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Editor de Salones"}),o.jsxs("button",{onClick:Me,className:"btn btn-primary flex items-center space-x-2",children:[o.jsx(Bn,{className:"w-4 h-4"}),o.jsx("span",{children:"Nuevo Salón"})]})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("select",{value:N,onChange:Ce=>P(Ce.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:x.map(Ce=>o.jsx("option",{value:Ce.id,children:Ce.name},Ce.id))}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{onClick:_e,className:"btn btn-secondary flex items-center space-x-1",children:[o.jsx(Bn,{className:"w-4 h-4"}),o.jsx("span",{children:"Mesa"})]}),o.jsxs("button",{onClick:$e,className:"btn btn-secondary flex items-center space-x-1",children:[o.jsx(wj,{className:"w-4 h-4"}),o.jsx("span",{children:"Planta"})]}),o.jsxs("button",{onClick:Ae,className:"btn btn-secondary flex items-center space-x-1",children:[o.jsx(T5,{className:"w-4 h-4"}),o.jsx("span",{children:"Barra"})]})]})]})]}),ve&&o.jsx("div",{className:"flex-1 overflow-hidden",children:o.jsxs("div",{className:"salon-canvas h-full bg-gray-100 relative overflow-auto",style:{minHeight:"600px"},children:[F.map(Ce=>o.jsx(Q5,{table:Ce,isDraggable:!0,onDragEnd:(Ie,Ke,tt)=>xe(Ie.id,Ke,tt),onRotationChange:ee,onDelete:()=>qe(Ce.id),showDeleteButton:!0,scale:1},Ce.id)),H.map(Ce=>o.jsx(Z5,{item:Ce,isDraggable:!0,onDragEnd:(Ie,Ke,tt)=>X(Ce.id,Ke,tt),onRotationChange:Ye},Ce.id))]})})]})};return o.jsxs("div",{className:"h-full bg-gray-50",children:[o.jsxs("div",{className:"h-full overflow-hidden",children:[e==="general"&&o.jsx("div",{className:"h-full overflow-y-auto p-6",children:de()}),e==="modifiers"&&o.jsx("div",{className:"h-full overflow-y-auto p-6",children:$()}),e==="customers"&&o.jsx("div",{className:"h-full overflow-y-auto p-6",children:ge()}),e==="salons"&&o.jsx("div",{className:"h-full",children:Ne()})]}),o.jsx(iw,{isOpen:r,onClose:()=>a(!1),customer:i,onSave:J}),o.jsx(rw,{isOpen:j,onClose:()=>w(!1),onConfirm:ae,title:"Eliminar Cliente",message:`¿Estás seguro de que deseas eliminar al cliente "${S==null?void 0:S.name} ${S==null?void 0:S.lastName}"? Esta acción no se puede deshacer.`,type:"danger"})]})},ny=({value:e,onChange:t,placeholder:n})=>{const[r,a]=W.useState(""),i=l=>{const c=l.trim();if(!c)return;const d=Array.from(new Set([...e,c]));t(d),a("")},s=l=>{t(e.filter(c=>c!==l))};return o.jsxs("div",{children:[o.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:e.map(l=>o.jsxs("span",{className:"inline-flex items-center text-xs bg-blue-50 text-blue-700 px-2 py-1 rounded",children:[l,o.jsx("button",{onClick:()=>s(l),className:"ml-1 text-blue-500 hover:text-blue-700",children:"×"})]},l))}),o.jsx("input",{type:"text",value:r,onChange:l=>a(l.target.value),onKeyDown:l=>{l.key==="Enter"&&(l.preventDefault(),i(r))},placeholder:n||"Añadir...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Pulsa Enter para agregar"})]})},ry=({value:e,onChange:t,placeholder:n})=>{const[r,a]=W.useState(""),i=l=>{const c=l.trim();if(!c)return;const d=Array.from(new Set([...e,c]));t(d),a("")},s=l=>{t(e.filter(c=>c!==l))};return o.jsxs("div",{children:[o.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:e.map(l=>o.jsxs("span",{className:"inline-flex items-center text-xs bg-blue-50 text-blue-700 px-2 py-1 rounded",children:[l,o.jsx("button",{onClick:()=>s(l),className:"ml-1 text-blue-500 hover:text-blue-700",children:"×"})]},l))}),o.jsx("input",{type:"text",value:r,onChange:l=>a(l.target.value),onKeyDown:l=>{l.key==="Enter"&&(l.preventDefault(),i(r))},placeholder:n||"Añadir...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Pulsa Enter para agregar"})]})},n7=()=>{const{config:e,updateConfig:t,getModifiersForCategory:n}=Bl(),{categories:r}=Ou(),[a,i]=W.useState(e.modifiers||{global:[],byCategory:{}}),[s,l]=W.useState("");W.useEffect(()=>{i(e.modifiers||{global:[],byCategory:{}})},[e.modifiers]);const c=()=>{t({modifiers:a}),De.success("Modificadores guardados")},d=p=>{if(!s){De.error("Selecciona una categoría origen para clonar");return}if(s===p){De.error("El origen y destino no pueden ser iguales");return}const f=a.byCategory[s]||[];i({...a,byCategory:{...a.byCategory,[p]:Array.from(new Set([...a.byCategory[p]||[],...f]))}}),De.success("Modificadores clonados")};return o.jsx("div",{className:"h-full bg-gray-50 p-6",children:o.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[o.jsx(W5,{className:"w-6 h-6 mr-2"})," Modificadores"]}),o.jsx("button",{onClick:c,className:"btn btn-primary",children:"Guardar"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"card p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Globales"}),o.jsx(ry,{value:a.global||[],onChange:p=>i({...a,global:p}),placeholder:"Añade modificadores globales"})]}),o.jsxs("div",{className:"card p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Clonar entre categorías"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("select",{value:s,onChange:p=>l(p.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg",children:[o.jsx("option",{value:"",children:"Selecciona categoría origen"}),r.map(p=>o.jsx("option",{value:p.id,children:p.name},p.id))]}),o.jsx("div",{className:"text-sm text-gray-500",children:"Selecciona una categoría para copiar sus modificadores"})]})]})]}),o.jsxs("div",{className:"card p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Por Categoría"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(p=>{var f;return o.jsxs("div",{className:"border rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("div",{className:"text-sm font-medium",style:{color:p.color},children:p.name}),o.jsxs("button",{onClick:()=>d(p.id),className:"text-xs inline-flex items-center px-2 py-1 bg-blue-50 text-blue-700 rounded hover:bg-blue-100",title:"Clonar modificadores desde la categoría seleccionada arriba",children:[o.jsx(yj,{className:"w-3 h-3 mr-1"})," Clonar de origen"]})]}),o.jsx(ry,{value:((f=a.byCategory)==null?void 0:f[p.id])||[],onChange:v=>i({...a,byCategory:{...a.byCategory,[p.id]:v}}),placeholder:`Añadir modificadores para ${p.name}`})]},p.id)})})]})]})})},r7=({onEnter:e})=>{const[t,n]=W.useState(!1),[r,a]=W.useState(!1),[i,s]=W.useState(!1);return W.useEffect(()=>{const l=setTimeout(()=>n(!0),300),c=setTimeout(()=>a(!0),800),d=setTimeout(()=>s(!0),1200);return()=>{clearTimeout(l),clearTimeout(c),clearTimeout(d)}},[]),o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center p-8",children:o.jsxs("div",{className:"max-w-md w-full",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsxs("div",{className:`relative inline-block mb-6 transition-all duration-1000 ease-out ${t?"scale-100 opacity-100":"scale-0 opacity-0"}`,children:[o.jsx("div",{className:`w-32 h-32 bg-gradient-to-br from-blue-600 to-indigo-700 rounded-full flex items-center justify-center shadow-2xl transition-all duration-1000 ease-out ${t?"rotate-0 scale-100":"rotate-180 scale-0"}`,children:o.jsxs("div",{className:"relative",children:[o.jsx(T5,{className:`w-16 h-16 text-white transition-all duration-700 ease-out delay-300 ${t?"scale-100 opacity-100":"scale-0 opacity-0"}`}),o.jsx(Ij,{className:`w-8 h-8 text-yellow-300 absolute -bottom-2 -right-2 transition-all duration-700 ease-out delay-500 ${t?"scale-100 opacity-100 rotate-0":"scale-0 opacity-0 rotate-180"}`})]})}),o.jsx("div",{className:`absolute inset-0 border-4 border-blue-400/30 rounded-full transition-all duration-1000 ease-out delay-700 ${t?"animate-pulse opacity-100":"opacity-0"}`}),o.jsx("div",{className:`absolute -top-4 -left-4 w-3 h-3 bg-blue-400 rounded-full transition-all duration-1000 ease-out delay-900 ${t?"animate-bounce opacity-60":"opacity-0"}`}),o.jsx("div",{className:`absolute -top-2 -right-6 w-2 h-2 bg-indigo-400 rounded-full transition-all duration-1000 ease-out delay-1000 ${t?"animate-bounce opacity-60":"opacity-0"}`,style:{animationDelay:"0.5s"}}),o.jsx("div",{className:`absolute -bottom-4 -right-2 w-2.5 h-2.5 bg-purple-400 rounded-full transition-all duration-1000 ease-out delay-1100 ${t?"animate-bounce opacity-60":"opacity-0"}`,style:{animationDelay:"1s"}})]}),o.jsxs("h1",{className:`text-4xl font-bold bg-gradient-to-r from-blue-600 to-indigo-700 bg-clip-text text-transparent mb-2 transition-all duration-1000 ease-out ${r?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[o.jsx("span",{className:"inline-block",children:"kimi"}),o.jsx("span",{className:"inline-block text-indigo-800",children:"POS"})]}),o.jsx("p",{className:`text-lg text-gray-600 font-medium transition-all duration-1000 ease-out delay-200 ${r?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:"Sistema de Punto de Venta"}),o.jsx("p",{className:`text-sm text-gray-500 mt-1 transition-all duration-1000 ease-out delay-400 ${r?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:"Gestión inteligente para tu negocio"})]}),o.jsx("div",{className:`text-center transition-all duration-1000 ease-out ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:o.jsxs("button",{onClick:e,className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-8 py-4 rounded-xl font-semibold text-lg flex items-center justify-center space-x-3 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 mx-auto",children:[o.jsx(kj,{className:"w-5 h-5"}),o.jsx("span",{children:"Entrar al Sistema"})]})}),o.jsxs("div",{className:`text-center mt-8 text-sm text-gray-500 transition-all duration-1000 ease-out delay-600 ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[o.jsx("p",{children:"Versión 1.0"}),o.jsx("p",{className:"mt-1",children:"© 2024 kimiPOS - Todos los derechos reservados"})]})]})})},sw=W.createContext(null),a7=()=>{const e=W.useContext(sw);if(!e)throw new Error("useOnScreenKeyboard debe usarse dentro de OnScreenKeyboardProvider");return e};function ay(e,t){var i,s;const n=(i=Object.getOwnPropertyDescriptor(e,"value"))==null?void 0:i.set,r=Object.getPrototypeOf(e),a=(s=Object.getOwnPropertyDescriptor(r,"value"))==null?void 0:s.set;a&&n!==a?a.call(e,t):n?n.call(e,t):e.value=t,e.dispatchEvent(new Event("input",{bubbles:!0}))}const i7=({children:e})=>{const[t,n]=W.useState(!1),[r,a]=W.useState(""),i=W.useRef(null),s=W.useRef(0),l=W.useRef(!1),c=W.useCallback(g=>{i.current=g;const x=g.value??"";a(x);try{s.current=g.selectionStart??x.length}catch{s.current=x.length}n(!0)},[]),d=W.useCallback(()=>{n(!1),i.current=null},[]),p=W.useCallback(()=>{const g=i.current;if(g){ay(g,r);try{g.selectionStart=g.selectionEnd=s.current}catch{}l.current=!0,g.focus()}d()},[r,d]),f=W.useCallback(()=>{d()},[d]),v=W.useCallback(g=>{a(g);const x=i.current;if(x){ay(x,g);try{x.selectionStart=x.selectionEnd=s.current}catch{}}},[]),m=W.useCallback(g=>{const x=Math.max(0,Math.min(r.length,(s.current??0)+g));s.current=x},[r.length]),j=W.useCallback(()=>{const g=s.current??0;if(g<=0)return;const x=r.slice(0,g-1)+r.slice(g);s.current=g-1,v(x)},[r,v]),w=W.useCallback(g=>{const x=s.current??0,N=r.slice(0,x)+g+r.slice(x);s.current=x+g.length,v(N)},[r,v]);W.useEffect(()=>{const g=x=>{const N=x.target;if(N){if(l.current){l.current=!1;return}if(N.getAttribute("data-osk")!=="false")if(N instanceof HTMLInputElement){const P=(N.type||"text").toLowerCase();["text","search","email","password","tel","url","number"].includes(P)&&c(N)}else N instanceof HTMLTextAreaElement&&c(N)}};return document.addEventListener("focusin",g),()=>document.removeEventListener("focusin",g)},[c]);const S=W.useMemo(()=>({isOpen:t,currentValue:r,openForElement:c,close:d,setValue:v,commit:p,cancel:f,moveCaret:m,backspace:j,insertText:w}),[t,r,c,d,v,p,f,m,j,w]);return o.jsx(sw.Provider,{value:S,children:e})},s7=[["1","2","3","4","5","6","7","8","9","0"],["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l"],["z","x","c","v","b","n","m"]],o7=()=>{const{isOpen:e,currentValue:t,insertText:n,backspace:r,moveCaret:a,commit:i,cancel:s}=a7(),[l,c]=W.useState(!1),d=W.useMemo(()=>s7.map(g=>g.map(x=>l?x.toUpperCase():x)),[l]),p="osk:possize:v1",[f,v]=W.useState(()=>({x:20,y:window.innerHeight-360})),[m,j]=W.useState(()=>({w:980,h:320})),w=W.useRef({dragging:!1,dx:0,dy:0}),S=W.useRef({dir:null,startX:0,startY:0,startW:0,startH:0});return W.useEffect(()=>{try{const g=localStorage.getItem(p);if(g){const{x,y:N,w:P,h:R}=JSON.parse(g);Number.isFinite(x)&&Number.isFinite(N)&&v({x,y:N}),Number.isFinite(P)&&Number.isFinite(R)&&j({w:P,h:R})}}catch{}},[]),W.useEffect(()=>{try{localStorage.setItem(p,JSON.stringify({x:f.x,y:f.y,w:m.w,h:m.h}))}catch{}},[f,m]),W.useEffect(()=>{const g=N=>{if(w.current.dragging){const P=N.clientX-w.current.dx,R=N.clientY-w.current.dy,q=window.innerWidth-m.w-10,M=window.innerHeight-m.h-10;v({x:Math.max(10,Math.min(P,q)),y:Math.max(10,Math.min(R,M))})}else if(S.current.dir){const P=N.clientX-S.current.startX,R=N.clientY-S.current.startY,q=600,M=260;S.current.dir==="right"?j(F=>({w:Math.max(q,S.current.startW+P),h:F.h})):S.current.dir==="bottom"?j(F=>({w:F.w,h:Math.max(M,S.current.startH+R)})):S.current.dir==="corner"&&j({w:Math.max(q,S.current.startW+P),h:Math.max(M,S.current.startH+R)})}},x=()=>{w.current.dragging=!1,S.current.dir=null};return window.addEventListener("mousemove",g),window.addEventListener("mouseup",x),()=>{window.removeEventListener("mousemove",g),window.removeEventListener("mouseup",x)}},[m.w,m.h]),e?o.jsx("div",{className:"fixed inset-0 pointer-events-none z-[2000]",children:o.jsxs("div",{className:"absolute bg-white rounded-2xl shadow-2xl border pointer-events-auto select-none",style:{left:f.x,top:f.y,width:m.w,height:m.h},children:[o.jsxs("div",{className:"px-4 py-2 border-b flex items-center justify-between cursor-move rounded-t-2xl bg-gray-50",onMouseDown:g=>{w.current={dragging:!0,dx:g.clientX-f.x,dy:g.clientY-f.y}},children:[o.jsx("div",{className:"text-sm text-gray-700 font-medium",children:"Entrada de texto"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"text-gray-400 text-xs max-w-[420px] truncate",children:t}),o.jsx("button",{className:"text-sm text-gray-500 hover:text-gray-700 px-2 py-1",onClick:s,children:"Cerrar"})]})]}),o.jsxs("div",{className:"p-3 h-[calc(100%-48px)] overflow-auto",children:[o.jsx("div",{className:"grid gap-2 mb-2",style:{gridTemplateColumns:"repeat(10, minmax(0, 1fr))"},children:d[0].map(g=>o.jsx("button",{className:"h-12 rounded bg-gray-100 hover:bg-gray-200 active:bg-gray-300 text-lg",onClick:()=>n(g),children:g},g))}),o.jsx("div",{className:"grid gap-2 mb-2",style:{gridTemplateColumns:"repeat(10, minmax(0, 1fr))"},children:d[1].map(g=>o.jsx("button",{className:"h-12 rounded bg-gray-100 hover:bg-gray-200 active:bg-gray-300 text-lg",onClick:()=>n(g),children:g},g))}),o.jsxs("div",{className:"grid gap-2 mb-2",style:{gridTemplateColumns:"repeat(13, minmax(0, 1fr))"},children:[o.jsx("button",{className:`h-12 rounded ${l?"bg-blue-600 text-white":"bg-gray-100 hover:bg-gray-200"} text-sm col-span-2`,onClick:()=>c(g=>!g),children:"Shift"}),d[2].map(g=>o.jsx("button",{className:"h-12 rounded bg-gray-100 hover:bg-gray-200 active:bg-gray-300 text-lg",onClick:()=>n(g),children:g},g)),o.jsx("button",{className:"h-12 rounded bg-gray-100 hover:bg-gray-200 text-sm col-span-2",onClick:r,children:"⌫"})]}),o.jsxs("div",{className:"grid gap-2",style:{gridTemplateColumns:"repeat(11, minmax(0, 1fr))"},children:[o.jsx("button",{className:"h-12 rounded bg-gray-100 hover:bg-gray-200 text-sm col-span-2",onClick:()=>a(-1),children:"◀"}),d[3].map(g=>o.jsx("button",{className:"h-12 rounded bg-gray-100 hover:bg-gray-200 active:bg-gray-300 text-lg",onClick:()=>n(g),children:g},g)),o.jsx("button",{className:"h-12 rounded bg-gray-100 hover:bg-gray-200 text-sm col-span-2",onClick:()=>a(1),children:"▶"})]}),o.jsxs("div",{className:"grid gap-2 mt-2 items-stretch",style:{gridTemplateColumns:"repeat(12, minmax(0, 1fr))"},children:[o.jsx("div",{className:"col-span-2"}),o.jsx("button",{className:"h-12 col-span-6 rounded bg-gray-100 hover:bg-gray-200",onClick:()=>n(" "),children:"Espacio"}),o.jsx("button",{className:"h-12 col-span-2 rounded bg-gray-100 hover:bg-gray-200",onClick:()=>n(`
`),children:"Enter"}),o.jsx("button",{className:"h-12 col-span-2 rounded bg-emerald-600 text-white hover:bg-emerald-700",onClick:i,children:"Aceptar"})]})]}),o.jsx("div",{className:"absolute right-0 top-0 h-full w-2 cursor-ew-resize",onMouseDown:g=>{S.current={dir:"right",startX:g.clientX,startY:g.clientY,startW:m.w,startH:m.h}}}),o.jsx("div",{className:"absolute left-0 bottom-0 w-full h-2 cursor-ns-resize",onMouseDown:g=>{S.current={dir:"bottom",startX:g.clientX,startY:g.clientY,startW:m.w,startH:m.h}}}),o.jsx("div",{className:"absolute right-0 bottom-0 w-3 h-3 cursor-nwse-resize",onMouseDown:g=>{S.current={dir:"corner",startX:g.clientX,startY:g.clientY,startW:m.w,startH:m.h}}})]})}):null},l7=()=>{const[e,t]=W.useState(!0),[n,r]=W.useState(!0);W.useEffect(()=>{localStorage.getItem("kimipos-has-visited")&&t(!1),r(!1)},[]);const a=()=>{localStorage.setItem("kimipos-has-visited","true"),t(!1)};return n?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center",children:o.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):e?o.jsx(r7,{onEnter:a}):o.jsx(Tj,{children:o.jsx($k,{children:o.jsx(WC,{children:o.jsx(I8,{children:o.jsx(Rk,{children:o.jsx(i7,{children:o.jsx(v6,{children:o.jsxs(Mk,{children:[o.jsxs(c6,{children:[o.jsx(Zr,{path:"/",element:o.jsx(VC,{})}),o.jsx(Zr,{path:"/products",element:o.jsx(JC,{})}),o.jsx(Zr,{path:"/categories",element:o.jsx(QC,{})}),o.jsx(Zr,{path:"/tables",element:o.jsx(e7,{})}),o.jsx(Zr,{path:"/orders",element:o.jsx(t7,{})}),o.jsx(Zr,{path:"/modifiers",element:o.jsx(n7,{})}),o.jsx(Zr,{path:"/configuration",element:o.jsx(_c,{})}),o.jsx(Zr,{path:"/configuration/salons",element:o.jsx(_c,{})}),o.jsx(Zr,{path:"/customers",element:o.jsx(_c,{})}),o.jsx(Zr,{path:"/reports",element:o.jsx(_c,{})}),o.jsx(Zr,{path:"/invoices",element:o.jsx(_c,{})})]}),o.jsx(dj,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{style:{background:"#10b981"}},error:{style:{background:"#ef4444"}}}}),o.jsx(o7,{})]})})})})})})})})};Pp.createRoot(document.getElementById("root")).render(o.jsx(wa.StrictMode,{children:o.jsx(l7,{})}));export{At as _,u7 as c,Kw as g};
